(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1:function(e,t,n){"use strict";n.d(t,"m",function(){return r}),n.d(t,"g",function(){return i}),n.d(t,"b",function(){return s}),n.d(t,"a",function(){return o}),n.d(t,"h",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"e",function(){return u}),n.d(t,"k",function(){return d}),n.d(t,"f",function(){return p}),n.d(t,"l",function(){return m}),n.d(t,"d",function(){return h}),n.d(t,"j",function(){return v}),n.d(t,"i",function(){return f});var a=n(10),r=function e(){Object(a.a)(this,e)};r.multipleDslComfortError="Eine \xdcbernahme von mehreren Rufnummern ist nur mit gebuchter Komfort-Anschluss Option m\xf6glich. Bitte den Komfort-Anschluss ausw\xe4hlen oder mit einer Einzelportierung fortfahren.",r.requiredError="Pflichtfeld.",r.nationalityError="Die Nationalit\xe4t des Kunden und die Art des gew\xe4hlten Ausweisdokuments stimmen nicht \xfcberein.",r.numericError="Bitte geben sie eine Zahl ein.",r.selectItemError="Bitte w\xe4hlen sie ein Wert aus.",r.errorImei="Bitte geben Sie die IMEI ein.",r.errorProd="Bitte w\xe4hlen Sie ein Tarif aus.",r.errorSub="Bitte w\xe4hlen Sie eine SUB Stufe aus.",r.errorHardware="Bitte w\xe4hlen Sie eine Hardware aus.",r.errorOption="Bitte w\xe4hlen S ie eine Option aus.",r.errorCart="Bitte \xfcberpr\xfcfen Sie den Warenkorb.",r.errorPortationCount="Max. eine portierung pro Bestellung m\xf6glich",r.errorEditDone="Diese Aktivierung darf nicht mehr ge\xe4ndert werden",r.errorOneMandatoryOption="Eine der Optionen/Dienste muss ausgew\xe4hlt sein: {0}",r.errorSim="Bitte tragen Sie die SIM Seriennummer ein.",r.errorSimNumeric14="Die SIM Seriennummer muss 14 stellig und numerisch sein.",r.errorMsisdnNumeric="Die MSISDN muss numerisch sein.",r.errorImeiNumeric="Die IMEI muss numerisch sein.",r.errorImei15="Die IMEI muss 15 stellig sein.",r.errorMsisndCode="Bitte tragen Sie die MISDN und die Aktivierungscode ein.",r.titleValidationError="Validierungsfehler",r.errorGeneral="Bei der Verarbeitung der Anforderung ist ein Fehler aufgetreten.",r.errorValidation="Validierungsfehler.",r.errorExactLength="Das Feld $0 muss $1 stellig sein.",r.errorMaxLength="Das Feld $0 muss max. $1 Zeichen lang sein.",r.errorNumeric="Das Feld $0 muss numerisch sein.",r.errorEmail="E-Mail nicht valid.",r.errorDeliveryDate="Der ausgew\xe4hlte Liefertermin muss bis zu sechs Monate nach dem Aktivierungsdatum liegen",r.oteloMSISDNareaError="",r.errorEmailMatch="Beide E-Mail sind nicht gleich.",r.errorBrandNotAvailable="Nicht verf\xfcgbar",r.errorPassword="Die Eingabe entspricht nicht den unten aufgef\xfchrten Vorgaben",r.errorPasswordOutsideCustomerData="Bitte achten Sie auf die Kennwortrichtlinie.",r.errorPasswordMatch="Beide Kennw\xf6rter m\xfcssen \xfcbereinstimmen.",r.errorMonthFormat="Der Monat muss im Format 01, 02 ... 12 eingetragen werden.",r.errorYearFormat="Das eingegebene Jahr darf nicht vor dem aktuellen Jahr liegen und muss im Format 20, 21 ... 25 eingetragen werden",r.alphanumeric="Die ausstellende Beh\xf6rde beginnt mit einem Gro\xdfbuchstaben. Die Eingabe sollte nur aus Buchstaben, Zahlen und Leezeichen bestehen",r.alphanumericNoUmlauts="Die Eingabe sollte nur aus Buchstaben und Zahlen ohne Leerzeichen bestehen",r.germanIBANerror="IBAN ist nicht G\xfcltig.",r.surnameDSL="Der Nachname beginnt mit einem Gro\xdfbuchstaben und ist zwischen 2 und 30 Zeichen lang. Nur Buchstaben, Bindestrichen und Leerzeichen sind erlaubt",r.errorDateFormat="Geben Sie ein g\xfcltiges Format ein";var i=function e(){Object(a.a)(this,e)};i.dataCorrectCheck="Bitte \xfcberpr\xfcfe ob alle Daten richtig sind.",i.addressCorrected="Addressdaten wurden korrigiert",i.noMoreInfo="Keine weiteren Informationen verf\xfcgbar",i.hintMandatoryServicesVodafone="*Die folgenden Einstellungen werden bei der Buchung automatisch vorgenommen und k\xf6nnen bei Bedarf nachtr\xe4glich angepasst werden. Bei Vertragsabschluss erh\xe4lt dein Kunde keine Eintragung in ein gedrucktes oder elektronisches Telefonbuch. Seine Rufnummer wird bei Anrufen angezeigt. Die Dienste zum SMS Versand und Empfang sowie die Nutzung der Standard Mailbox sind voreingestellt.",i.customerSignedDocument="Hat der Kunde das Vertragsdokument unterzeichnet?",i.customerSignedBoni="Bitte stelle sicher das alle Kundendaten richtig eingegeben wurden und hat dein Kunde das Bonit\xe4tspr\xfcfungs-Einverst\xe4ndnis unterschrieben?",i.paymentHintOPS="Der Kunde erh\xe4lt seine mtl. Rechnung an die oben angegebene E-Mail Adresse $email. <br/>F\xfcr den Rechnungsversand per Mail muss der Kunde seine E-Mail Adresse best\xe4tigen. Bitte weisen Sie den Kunden darauf hin, dass er von otelo eine Mail mit einem Link erh\xe4lt, den er zur Best\xe4tigung seiner E-Mail Adresse anklicken muss.",i.paymentHintOPL="Dem Kunden stehen seine Rechnungen online unter www.otelo.de zur Verf\xfcgung.",i.simReplaceHint="Information:<br/>Die SIM-Karte wird an die hinterlegte Kundenadresse verschickt.<br/>Dies dauert in der Regel 1-3 Werktage.<br/>Die Kosten f\xfcr die SIM-Karte werden dem Kunden auf der n\xe4chsten Rechnung ausgewiesen.",i.hintVfVllOldTariff="Hinweis: Bei Vertragsverl\xe4ngerungen oder Tarifwechseln werden deinen Kunden nur Tarife angeboten, die sich im aktuellen Vermarktungsportfolio befinden. Alt-Tarife werden zurzeit nicht angeboten.",i.passwordOutsideCustomerDataHint="Das Passwort muss mindestens 8 Zeichen lang sein und darf maximal 30 Zeichen betragen. Das Passwort muss mindestens 1 Gro\xdfbuchstaben (ABC...) enthalten. Das Passwort muss mindestens 1 Kleinbuchstaben (abc...) enthalten. Sonderzeichen wie , und ; sind nicht erlaubt.";var s=function e(){Object(a.a)(this,e)};s.requestContract="Vertragsdaten pr\xfcfen",s.requestContractOptions="Dienst\xe4nderung pr\xfcfen",s.reRequestContract="Vertrag erneut anfordern",s.completeContract="Vertrag abschliessen",s.completeContractOptions="Dienst\xe4nderung abschlie\xdfen",s.print="Ausdrucken",s.printOptions="Zusatzvereinbarung drucken",s.overview="Aktivierungsbest\xe4tigung",s.reset="Reset",s.run="Ausf\xfchren",s.saveSuccess="Die Daten wurden erfolgreich gespeichert.",s.execSuccess="Erfolgreich ausgef\xfchrt.",s.prolongateWithCurrent="Mit aktuellem Tarif verl\xe4ngern";var o=function e(){Object(a.a)(this,e)};o.requestInProcess="Abfrage wird ausgef\xfchrt",o.orderSim="Ersatz SIM Karte bestellen",o.addImei="IMEI nachmelden",o.cancel="Cancellation",o.belateporting="Nachtr\xe4gliche Rufnummer\xfcbernahme durchf\xfchren",o.addNextContract="Weiteren Vertrag hinzuf\xfcgen",o.loadData="Daten werden geladen";var c=function e(){Object(a.a)(this,e)};c.hint="Hinweis",c.feeActivation="Anschlusspreis (einmalig)",c.feeMonthly="Monatliche Geb\xfchr",c.feeBookedOptions="Kosten gebuchten Optionen",c.logout="Abmelden",c.contactNumber="Kontaktnummer",c.loginInfo="Aufgrund von Inaktivit\xe4t wurde Ihre Session beendet. Per Klick auf den Button werden Sie zur Anmeldung weitergeleitet.",c.costs="Kosten",c.areUsureLogout="Bist du sicher, dass du vf-easy.de verlassen m\xf6chtest?",c.post="Post",c.phoneContractExtension="Telefon (nur Vertragsverl\xe4ngerung)",c.costsAll="Gesamt",c.scrollToConsents="BEW ANPASSEN",c.costsBookedOptions="Kosten gebuchten Optionen",c.letterOfAceptance="Einverst\xe4ndniserkl\xe4rung",c.belatedPortingTitle="Nachtr\xe4gliche Rufnummer\xfcbernahme",c.ready="Fertig",c.sendBillType="Art der Rechungszustellung",c.securityQuestion="Sicherheitsfrage",c.securityAnswer="Sicherheitsantwort",c.vf_dsl_email_text="Wenn keine E-Mail-Adresse vorhanden ist, trage folgende Dummy-E-Mail-Adresse ein: 0@d2.de",c.otelo_email_text="Wenn keine E-Mail-Adresse vorhanden ist, trage folgende Dummy-E-Mail-Adresse ein: dummy@arvato.de",c.start="Starten",c.phone="Telefon",c.gigacombiTitle="GigaKombi Vorteile",c.gigaShow="GigaKombi anzeigen",c.activate="Aktivieren",c.deactivate="Deaktivieren",c.bill="Rechnung",c.sms_mms="SMS/MMS",c.evn="Einzelverbindungsnachweis",c.allTariffs="Alle Tarife",c.activationFee="Einmalbetrag",c.favoriteTariffs="Beliebteste Tarife",c.roles="Rollen",c.printFile="Ausdruck",c.serviceAddRemove="Dienste hinzuf\xfcgen/entfernen",c.numberPortability="Rufnummermitnahme",c.numberOptions="Rufnummeroptionen",c.optionsMandatory="eine muss ausgew\xe4lt werden",c.group="Gruppe",c.owner="Besitzer",c.partner="Partner",c.member="Mitglied",c.imei="IMEI",c.imeiMenuItem="IMEI-Nachmelden",c.imeiPageTitle="IMEI - NACHMELDUNG",c.exCustBillsWithBday="Hinweis: Die Anzeige der Rechnungen und Einzelverbindungsnachweise ist nur nach Bestandskunden-Aufruf mit MSISDN und Passwort m\xf6glich.",c.imeiListUpload="IMEI LISTEN UPLOAD",c.imeiListUploadDesc='Bitte beachten Sie beim Upload von IMEI-Listen:<br />Upload von IMEI Nachmeldelisten kann ausschlie\xdflich im CSV Format erfolgen.<br />Die Upload Datei ist mit den Informationen MSISDN (Wert 1) und IMEI (Wert 2) zu f\xfcllen (Reihenfolge einhalten).<br />Eingabearten der MSISDN k\xf6nnen in den Formen +49, 0049 oder 49 erfolgen.<br />Die Spalteninformationen sind durch das Zeichen \u201eSemikolon\u201c (;) voneinander zu trennen.<br />Es kann pro Rufnummer nur eine IMEI nachgemeldet werden.<br />Eine IMEI kann nicht sp\xe4ter als 42 Tage nach Aktivierung ber\xfccksichtigt werden.<br />Das Ergebnis einer Vorabpr\xfcfung wird Ihnen, direkt nach Upload, in Form einer erg\xe4nzten Liste zur\xfcckgespielt.<br />Bei dem Ergebnis der Vorabpr\xfcfung handelt es sich nicht um eine \ufb01nale Pr\xfcfung die einen Pr\xe4mienanspruch begr\xfcndet. Die Pr\xe4mienrelevanten Informationen entnehmen Sie bitte Ihrer Pr\xe4mienabrechnung.<br />Bitte beachten Sie beim Upload von IMEI-Listen: <a href="/files/imeiupload.csv">Download CSV-Datei</a><br />',c.imeiManualDesc="Sie k\xf6nnen zu einer Rufnummer, die zu einem in Ihrem Shop erfassten Vertrag geh\xf6rt, eine IMEI nachmelden.<br />Bitte beachten Sie:<br />Es kann pro Rufnummer nur eine IMEI nachgemeldet werden.<br />Eine bereits gemeldete IMEI kann nicht erneut eingegeben werden.<br />",c.editProfile="Profil bearbeiten",c.changePassword="Passwort \xe4ndern",c.userAdministration="Verwaltung",c.personalIdNr="Ausweisnummer",c.legitimationCreditCard="Kartennummer",c.cardNumber="Kartennummer",c.legitimationCreditCardAt="bei Kreditinstitut",c.month="Monat",c.year="Jahr",c.day="Tag",c.title="Titel",c.firstname="Vorname",c.surname="Nachname",c.textAvailability="Verf\xfcgbarkeit am Ort pr\xfcfen",c.noErrors="Keine Fehler",c.textError="Bei der Verarbeitung ist ein Fehler aufgetretten.",c.textSIMCards="Kartendaten",c.vfserial="VF-Seriennummer",c.textConnectivity="Existiert ein DSl/Kabel Anschluss?",c.connectivityPresent="Anschluss vorhanden",c.connectivityNotPresent="Kein DSL/Kabel",c.vodafoneCustomerNo="Kein Vodafone Kunde",c.vodafoneCustomer="Vodafone Kundennummer",c.street="Stra\xdfe",c.houseNumber="Hausnummer",c.phoneNumber="Rufnummer",c.city="Ort",c.addressAdditional="Adresszusatz",c.zip="PLZ",c.nameAddress="Name",c.address="Anschrift",c.stnr="Hausnummer",c.stnre="Zusatz",c.telPrefix="Vorwahl",c.countryCode="Landesvorwahl",c.telnummer="Nummer",c.gigakombiTooltip="Hat dein Kunde schon einen Giga Kombi Marker und somit auch ein Festnetz / TV Paket gebucht? Sprich den Kunden gerne an, ob er damit zufrieden ist und pr\xfcfe, ob ggf. ein Speedupgrade m\xf6glich ist. Hat Dein Kunde keinen der Kombimarker gesetzt ist das ein weiteres Potential die aktuelle VVL mit weiteren Rabatten oder Datenvolumen aufzuwerten (Gigakombi) - bis zu -10\u20ac & +10GB.",c.mobilePhoneNumber="Mobilfunknummer",c.email="E-Mail",c.emailLastChange="E-Mail Letzte \xc4nderung",c.deliveryAddress="Lieferadresse",c.deliverydate="Lieferdatum",c.telCallback="Callback time",c.adrAdditional="Adresszusatz",c.notAvailable="Nicht verf\xfcgbar",c.available="verf\xfcgbar",c.inCheck="wird gepr\xfcft",c.dateOfBirth="Geburtsdatum",c.validFrom="G\xfcltig ab",c.validTo="G\xfcltig bis",c.customerId="Kundennummer",c.nationality="Nationalit\xe4t",c.mr="Herr",c.mrs="Frau",c.salutation="Anrede",c.no="Nein",c.yes="Ja",c.pleaseSelect="Bitte ausw\xe4hlen",c.pleaseWait="Bitte warten",c.productSelection="Produktauswahl",c.sepa="SEPA Mandat",c.contractTv="Vertrag TV",c.contractFn="Vertrag Festnetz",c.contractId="Vertrags Nr.",c.webOrderId="Weborder-ID.",c.referenceId="Referenz Nr.",c.businessCase="Gesch\xe4ftsfall",c.postpaid="Postpaid",c.prepaid="Prepaid",c.date="Datum",c.contractEndDate="Vertragsende",c.complete="vollst\xe4ndig",c.shortened="verk\xfcrzt",c.unkonwnAtThisTime="noch nicht bekannt",c.euro="\u20ac",c.toDashboard="Zum Dashboard",c.save="Speichern",c.saveOptions="Dienste \xe4ndern",c.next="Weiter",c.back="ZUR\xdcCK",c.print="Ausdrucken",c.backToCustomer="Zu den Kundendaten",c.paymentType="Zahlungsart",c.paymentData="Zahlungsdaten",c.deliveryData="Lieferung",c.idNumber="Personalausweis-Nummer",c.idGerman="Deutscher Personalausweis",c.idNotGerman="Nicht deutsches Dokument",c.thankYou="Vielen Dank",c.thankYouFor="Vielen Dank f\xfcr Ihre",c.reasoningPOS="BEGR\xdcNDUNG POS",c.cancellation="Stornierung",c.dealerInfo="H\xc4NDLER INFO",c.orderType="Auftragsart",c.timeFilter="Zeitraum",c.extraordinaryCancellation="Ausserordentliche Stornierung beantragen",c.typeOfCancellation="Art der Stornierung",c.floor="Etage",c.reason="Grund",c.dealerName="H\xe4ndlername",c.customerNumber="Kontaktnummer",c.numberToBePorted="Zu portierende Rufnummer",c.currentPrepaidNumber="Bisherige Prepaid Nummer",c.portingTime="Portierungszeitpunkt",c.immediately="Sofort",c.afterContractEnds="Nach Vertragsende",c.networkProvider="Netz des Anbieters",c.yourOrder="NEUE BESTELLUNG",c.orderProducts="PRODUKTE BESTELLEN",c.yourOrders="IHRE BESTELLUNGEN",c.savedAddress="gespeicherte Adresse",c.newAddress="neue Adresse",c.orderOverviewTitle="Bestell\xfcbersicht",c.backToOrderProducts="Zur\xfcck zu PRODUKTE BESTELLEN",c.monitorYourOrders="Sie k\xf6nnen den Status Ihrer Bestellung in Ihre Bestellungen \xfcberwachen.",c.genderError="Bitte w\xe4hlen Sie ein Geschlecht aus.",c.portingInformation="Angaben zur Portierung",c.individualPorting="Einzelportierung",c.multiplePorting="Mehrfach Portierung",c.laterPorting="Sp\xe4ter nachreichen",c.numberOFPhonesToBePorted="Anzahl zu portierender Rufnummern",c.orderFrom="Bestellung vom",c.status="Status",c.numberOfProducts="Anzahl Produkte",c.totalPriceEuro="Preis gesamt \u20ac",c.productGroup="Produktgruppe",c.picture="Bild",c.availability="Verf\xfcgbarkeit",c.availabilityCheck="Giga Kombi Check",c.priceInEuro="Preis in \u20ac",c.amount="Menge",c.orderText="Bestellwert",c.portingStatus="Status Rufnummernportierung",c.filterCriteria="RUFNUMMERNPORTIERUNG / FILTERKRITERIEN",c.selectDeliveryAddress="Lieferadresse ausw\xe4hlen",c.orderProductsTitle="Produkte bestellen",c.pleaseSelectSIM="Bitte w\xe4hlen Sie eine SIM Karte aus.",c.orderReplacementSIM="ERSATZ-SIM-KARTE BESTELLEN",c.backToCustomerDataSheet="Zum Kundendatenblatt",c.orderReplForaFee="Ersatzkarte kostenpflichtig bestellen",c.activationByCustomerUponReceipt="Aktivierung durch Kunden nach Erhalt",c.cardActivatedSent="Karte aktiviert versendet",c.documentScanner="Ausweis - Scanner",c.drafts="Entw\xfcrfe",c.draft="Entwurf",c.contractManager="Auftragsmanager",c.administration="Verwaltung",c.filter="Filter",c.doFilter="Filtern",c.apply="Anwenden",c.searchExisting="Bestandskundensuche",c.additionalContract="Zusatzauftrag",c.periodFrom="Zeitraum von",c.to="bis",c.searchTitle="Suche",c.customer="Kunde",c.customerName="Kundenname",c.customerPassword="Kundenkennwort",c.customerEMailValidation="E-Mail Validierung",c.customerEMailCreated="E-Mail Validierung ausstehend",c.customerEMailNotValidated="nicht validiert",c.customerEMailValidated="validiert",c.customerEMailNotValidatedTitle="Best\xe4tigung der E-Mail Adresse steht aus",c.customerEMailNotValidatedText="Um Ihrem Kunden den besten Service anbieten zu k\xf6nnen, ben\xf6tigt dieser eine validierte E-Mail-Adresse. Dem Kunden wurde eine E-Mail an <b>$email</b> gesendet. Bitte weisen Sie Ihn darauf hin, diese zu best\xe4tigen.",c.passwordRepeat="Kennwort wiederholen",c.tariff="Tarif",c.details="Details",c.type="Typ",c.employee="Mitarbeiter",c.employeeShort="Ma.",c.newCustomerActivation="Neukunden Aktivierung",c.existingCustomerActivation="Bestandskunden",c.feeMonthTotal="Monatlich",c.feeActTotal="Einmalige Gesamtkosten",c.optionsAdditional="Zusatzoptionen",c.optionsInclusive="Inklusivoptionen",c.optionsAlreadyBooked="Bereits gebuchte Optionen",c.saveSuccess="Die Daten wurden erfolgreich gespeichert.",c.noPromotions="Keine Promotionen",c.noOptions="Keine Optionen",c.tariffOptions="Tarif Optionen",c.bookedOptions="Gebuchte Tarifoptionen",c.bookedPromotions="Gebuchte Promotionen",c.bookedServices="Gebuchte Dienste",c.bookableServices="Buchbare Dienste",c.fnvoid="fnvoid",c.salesId="Sales-ID",c.void="VOID",c.vpkn="vpkn",c.mainData="Stammdaten",c.noData="keine Daten",c.createEmployee="Mitarbeiter anlegen",c.edit="Bearbeiten",c.request="Anfordern",c.takeOver="\xdcbernehmen",c.msisdn="MSISDN",c.contract="Vertrag",c.contractType="Vertragsart",c.contractTypeBnt="Neu",c.contractTypePort="Portierung",c.contractTypeProlong="VVL/TW",c.cancel="Abbrechen",c.ok="OK",c.change="\xc4ndern",c.book="Buchen",c.remove="Entfernen",c.close="Schlie\xdfen",c.gold="Gold",c.silver="Silber",c.platinum="Platin",c.na="k.A.",c.configuration="Konfiguration",c.newUser="Neuer Mitarbeiter",c.mnpStatusPageTitle="Status Rufnummernportierung",c.mnpStatus="STATUSABFRAGE",c.mnpStatusLinkText="Status Portierung Einzelabfrage",c.mnpPortingStatusLinkText="Status Portierung Listenabfrage",c.orderProductLink="Bestellungen",c.cancellations="Stornierungen",c.level1Cancellation="L1 Stornofreigabe";var l=function e(){Object(a.a)(this,e)};l.legitimation="Legitimation des Kunden",l.churner="K\xfcndigung liegt vor";var u=function e(){Object(a.a)(this,e)};u.underConstruction="Seite tempor\xe4r nicht verf\xfcgbar";var d=function e(){Object(a.a)(this,e)};d.cancellation="Stornierung",d.bankOwner="Kontoinhaber",d.bookMulticard="Multikarte buchen",d.prolongateCurrentTariff="Aktuellen Tarif verl\xe4ngern",d.dataOfLastContract="DATEN DES BISHERIGEN VERTRAGS",d.bookMulticardDesc="F\xfcr Tablet oder andere IOT Ger\xe4te.",d.bookPartner="Partnerkarte buchen",d.bookPartnerDesc="F\xfcr Partner oder Kinder.",d.bookNow="Jetzt bestellen",d.moreOptions="Weitere Optionen",d.activationBNTTariff="Tarifauswahl",d.activationBNTCustomer="Kundendaten",d.activationBNTOverview="\xdcbersicht",d.activation="Aktivierung",d.portation="Portierung",d.cdChange="Debit Credit Wechsel",d.pcBooking="Aktivierung - Partnerkarte",d.pcPortation="Portierung - Partnerkarte",d.inProcess="In Bearbeitung",d.success="Erfolgreich",d.error="Fehlgeschlagen",d.info="Info",d.sub="Hardware",d.options="Optionen",d.tariff="TARIF",d.imei="IMEI",d.mnpProvider="Name des Anbieters",d.mnpNetwork="Netz des Anbieters",d.mnpSameCustomer="Aktueller Kunde",d.mnpDiffCustomer="Abweichender Kunde",d.mnpCustomerNr="Kundennummer beim bisherigen Dienstanbieter",d.mnpContractEnd="Vertragsende",d.mnpCancellationDate="K\xfcndigungsdatum",d.phoneBookEntry="Telefonbucheintrag",d.phoneBook1="Ja (Standard)",d.phoneBook2="Ja (Individuell)",d.forMobile="F\xdcR MOBILFUNK",d.forDSL="F\xdcR DSL",d.forCable="F\xdcR KABEL",d.forOtelo="F\xdcR OTELO",d.activationDate="Aktivierung ab Datum",d.portationDate="Portierungsdatum",d.bookDate="Buchungsdatum",d.prolongationDate="Verl\xe4ngerungsdatum",d.desiredSchedule="Wunschtermin f\xfcr den Anschluss",d.desiredSchedule1="Ich w\xfcnsche den Vodafone-Anschluss so schnell wie m\xf6glich",d.desiredSchedule2="Ich w\xfcnsche den Vodafone-Anschluss an einem bestimmten Tag",d.payment="Bezahlart",d.payment1="IBAN",d.payment2="BLZ & Kontonummer",d.payment3="Kreditkarte",d.payment4="Vorkasse",d.billType="Art der Rechnung",d.billAddress="Rechnungsadresse",d.billAddress1="Rechnungsadresse wie oben",d.billAddress2="Abweichende Rechnungsadresse",d.productDeliveryAddress="Lieferadresse der Produkte",d.deliveryType1="Lieferung an meine oben genannte Adresse",d.deliveryType2="Lieferung an eine abweichende Lieferadresse",d.installationAddress="Installationsadresse der Produkte",d.previousAccessOwner="Daten des vorherigen Anschlussinhaber bekannt?",d.previousAccessOwnerLabelYes="Ja",d.previousAccessOwnerLabelNo="Nein",d.installationType1="Installation an meine oben genannte Adresse",d.installationType2="Installation an eine abweichende Lieferadresse",d.dataLastContract="Falls der Kunde der Rufnummer nicht selbst der Vertragspartner beim bisherigen Anbieter ist, versichert er, dass der bisherige Vertragspartner damit einverstanden ist, dass er seinen Vertrag \xfcbernimmt und die Rufnummern-Mitnahme in seinem Auftrag veranlasst wird. Der Kunde haftet f\xfcr alle Sch\xe4den, die dadurch entstehen, dass der bisherige Vertragspartner entgegen der Angaben der Rufnummern-Mitnahme nicht zugestimmt hatte und direkt oder indirekt \xfcber den bisherigen Anbieter gegen\xfcber Vodafone Anspr\xfcche wegen unberechtigter \xdcbertragung der Rufnummer geltend macht. Dem Kunden ist bewusst, dass die Zuteilung einer unberechtigt \xfcbertragenen Rufnummer unter diesen Umst\xe4nden wieder aufgehoben wird und er aus der Zuteilung keine Rechte geltend machen kann.",d.dslHouse="Genaue Lagebezeichnung f\xfcr den Anschluss",d.autotopup="Komfortaufladung",d.noComfort="Keine Komfortaufladung",d.noSofort="Keine Sofortaufladung",d.amount="Betrag",d.amountATDesc="Um diesen Betrag wird die Karte aufgeladen, wenn ....",d.atTrigger="Au\ufb02aden wenn Guthaben kleiner ist als.",d.atTriggerDesc="\u2026 das Guthaben unter diesen Wert f\xe4llt..",d.singeltopup="Sofortaufladung",d.mnpContract="Daten des bisherigen Vertrages",d.mnpDate="Portierungsdatum",d.mnp1="schnellstm\xf6glich",d.mnp2="zum Vertragsende",d.mnp3="zum Wunschdatum",d.mnpCable1="Altvertrag bereits gek\xfcndigt",d.mnpCable2="K\xfcndigungsdatum wird nachgereicht",d.mnpCable3="Altvertrag ist kein Laufzeitvertrag",d.mnpCable4="Letztm\xf6gliches K\xfcndigungsdatum",d.evn="Einzelverbindungsnachweis",d.evnDesc="Der Kunde erh\xe4lt seine mtl. Rechnung an die oben angegebene E-Mail Adresse n.a.. F\xfcr den Rechnungsversand per Mail muss der Kunde seine E-Mail Adresse best\xe4tigen. Bitte weisen Sie den Kunden darauf hin, dass er von otelo eine Mail mit einem Link erh\xe4lt, den er zur Best\xe4tigung seiner E-Mail Adresse anklicken muss.",d.evnVf1="\xdcbersicht",d.evnVf2="\xdcbersicht Mini",d.evnVf3="keine",d.evn1="EVN mit ganzer Rufnr.",d.evn2="EVN mit gek\xfcrzter Rufnr.",d.evn3="kein EVN.",d.targetNumber="Zielrufnummerndarstellung",d.contractData="Vertragsdaten",d.customerData="Kundendaten",d.customerDataTillNow="Daten des bisherigen Vertragsinhabers",d.customerBills="Rechnungen & EVN",d.customerConsent="Datenschutz & Einwilligungen/Widerspr\xfcche",d.contractId="Vertragsnummer",d.activities="Aktivit\xe4ten",d.nba="Tarif-Tipp",d.crossSelling="Cross-Selling",d.services="Dienste",d.firstActivation="Erste Aktivierung",d.statusBegin="Status Beginn",d.statusCustomer="Kundenstatus",d.contractStart="Vertragsbeginn",d.contractEnd="Vertragsende",d.customerStatus="Kundenstatus",d.countCards="Kartenanzahl",d.orderProductsNotification="Hinweis: Aufgrund gr\xf6\xdferer Bestellungen kann es in den n\xe4chsten 3-4 Wochen Lieferengp\xe4sse und Verz\xf6gerungen bei der Auslieferung von neuen Bestellungen geben.",d.errorAmountText="Bitte w\xe4hlen Sie die Produktmenge";var p=function e(){Object(a.a)(this,e)};p.general="Es ist ein Fehler aufgtreten",p.title404="DIE VON IHNEN GEW\xc4HLTE SEITE EXISTIERT LEIDER NICHT (MEHR).",p.message404="Sehr geehrte Kundin, \nSehr geehrter Kunde, \n\ndie von Ihnen gew\xe4hlte Seite oder Resource konnte nicht gefunden werden. Bitte versuchen Sie es erneut. \nSollten weiterhin Probleme auftreten, freuen wir uns, wenn Sie mit uns Kontakt aufnehmen und das Problem beschreiben. \nSie helfen uns dadurch, die Seite weiter zu optimieren. \nIhr otelo-EASY Team",p.title403="ZUGRIFF VERWEIGERT",p.message403="Sie verf\xfcgen nicht \xfcber ausreichnde Rechte auf die gew\xfcnschte Resource zuzugreiffen.",p.title4031="Herzlich willkommen $user!",p.message4031='Der User <b>$user</b> hat keine Login Berechtigung. Bitte \xe4ndere den User oder melde dich auf <a href="https://bo.vf-easy.de" target="_blank">bo.vf-easy.de</a> an.';var m=function e(){Object(a.a)(this,e)};m.passwordEdit="Passwort \xe4ndern",m.passwordEditDesc="Bitte geben Sie Ihr altes und Ihr neu vergebenes Passwort ein!",m.currentPassword="Aktuelles Passwort",m.newPassword="Neues Passwort",m.newPasswordConfirm="Neues Passwort best\xe4tigen",m.profileEdit="Pers\xf6nliche daten",m.profileEditDesc="Bitte passen Sie Ihre pers\xf6nlichen Daten an*, sofern sich etwas ge\xe4ndert haben sollte oder Sie einen Fehler entdecken.",m.profileSecurityTanValDesc="* Aus Sicherheitsgr\xfcnden werden \xc4nderungen erst nach einer erfolgreichen mTAN-Validierung wirksam. Bitte beachten Sie insbesondere, dass auch eine \xc4nderung Ihrer Mobilnummer erst nach erfolgreicher mTAN-Validierung gegen Ihre alte Mobilnummer greift. Sollte es Ihnen nicht m\xf6glich sein, die mTAN auf Ihrer alten Mobilnummer zu empfangen, wenden Sie sich bitte an unseren Support.";var h=function e(){Object(a.a)(this,e)};h.dealerEdit="Konto bearbeiten";var v=function e(){Object(a.a)(this,e)};v.tariff="tariff",v.customer="customer",v.dashboard="dashboard",v.done="done",v.action="action",v.cancellation="selection",v.overview="preview",v.summary="summary";var f=function e(){Object(a.a)(this,e)};f.selectProducts="PRODUKTE AUSW\xc4HLEN",f.deliveryAddress="LIEFERANSCHRIFT",f.overviewOrder="\xdcBERSICHT"},101:function(e,t,n){"use strict";var a;n.d(t,"a",function(){return a}),function(e){e[e.html=0]="html",e[e.formated=1]="formated"}(a||(a={}))},102:function(e,t,n){"use strict";var a=n(10);t.a=function e(){Object(a.a)(this,e),this.house_number="",this.street="",this.nr="",this.nre="",this.zip="",this.city="",this.additional="",this.corrected=!1,this.name=""}},103:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var a=n(10),r=n(11),i=n(9),s=n(4),o=n(8),c=n(13),l=n(31),u=function(){function e(){Object(a.a)(this,e),this.items=[],this.pt=new l.a("",""),this.combis=[]}return Object(r.a)(e,[{key:"validate",value:function(t,n){this.pt=t.getProducts();var a=!1;if(this.needGigaCombi()){var r=this.findCombi(!1);r&&r.items.map(function(n){var u=t.getActivationByProduct(n.product.id),d=i.from(o.a.categoryWrapper.bra).where(function(e){return e.id==n.product.brand}).first();n.services.map(function(t){if(u&&!u.hasService(t,n.product.id)){var r=u.checkServiceCompatibility(t,d);r.length&&r.map(function(t){u.removeService(t,n.product.id),e.combisWereAdded=!1}),e.combisWereAdded=!0,a=!0,u.addService(t,n.product.id)}}),r&&r.benefits&&r.benefits.length>0&&u&&u.catKey==s.c.fn&&r.benefits.map(function(e){if(u&&!u.hasService(e,n.product.id)){var t=u.checkServiceCompatibility(e,d);if(t.length&&t.map(function(e){u.removeService(e,n.product.id)}),u.brandKey==s.b.kabel){var a=i.from(r.items).where(function(e){return e.cat==s.c.fn}).first();if(n.product.cat==s.c.fn){var o=u.selection.getChildIndex(n.product.id);l.b.addRemovePath(u.selection.children[o],[a.services[0],e]),c.a.updateActivation(u)}}else u.addService(e,n.product.id),c.a.updateActivation(u)}})})}n&&n(t,a)}},{key:"needGigaCombi",value:function(){var e=this.pt.getCats();return i.from(e).where(function(e){return e==s.c.vodafone||e==s.c.tv||e==s.c.fn}).distinct().count()>1}},{key:"getFirstSuitableCombi",value:function(e,t){if(this.pt=e.getProducts(),this.needGigaCombi()){var n=this.findCombi(t);return n?d.ensure(n):void 0}}},{key:"findCombi",value:function(e){for(var t=0;t<this.items.length;t++){for(var n=0,a=0;a<this.pt.children.length;a++){var r=this.fitInCombi(this.items[t],this.pt.children[a]);r&&(e?l.b.findChild(this.pt.children[a],r.services[0])&&n++:n++)}if(n==this.pt.children.length&&n==this.items[t].items.length)return this.items[t]}}},{key:"fitInCombi",value:function(e,t){var n;return e.items.forEach(function(e){e.cat==s.c.vodafone?e.cat==t.cat&&e.productId==t.id&&(n=e):e.cat==t.cat&&e.familyId==t.familyId&&(n=e)}),n&&(n.product=t),n}}],[{key:"GetInstance",value:function(){var t=c.a.getCombis();return Object.assign(new e,t),t}}]),e}();u.combisWereAdded=!1;var d=function(){function e(){Object(a.a)(this,e),this.items=[],this.benefits=[],this.markup=""}return Object(r.a)(e,[{key:"getBlister",value:function(){if(this.markup){var e=JSON.parse(this.markup);return e?e.product_ui.ui_blister:null}return null}}],[{key:"ensure",value:function(t){return t=Object.assign(new e,t)}}]),e}()},104:function(e,t,n){"use strict";var a=n(10),r=n(11),i=n(14),s=n(12),o=n(15),c=n(7),l=n(9),u=n.n(l),d=n(0),p=n(42),m=n(23),h=n(19),v=n(3),f=n(17),b=n(2),y=n(5),g=n(4),E=n(8),k=n(1),C=n(24),_=n(13),O=n(43),S=n(18),w=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).contract=void 0,n.state={changed:!1},n.selectActivity=n.selectActivity.bind(Object(c.a)(Object(c.a)(n))),n.addNextContract=n.addNextContract.bind(Object(c.a)(Object(c.a)(n))),n.contract=n.props.parent.data.customer.contracts?n.props.parent.data.customer.contracts[0]:{},n}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t={title:k.k.activities,transparent:!1,style:"",styleContainer:"",collapsible:!0,collapsed:!1},n=d.createElement(d.Fragment,null),a=d.Fragment,r=d.createElement(d.Fragment,null);if(this.contract.actions){var i=l.from(this.contract.actions).where(function(e){return!e.active}).toArray();i&&i.length&&(r=d.createElement("ul",null,i.map(function(e,t){return d.createElement("li",null,e.name," ",E.a.toGermanDate(e.possibleFrom).endsWith("1900")?null:" m\xf6glich ab: "+E.a.toGermanDate(e.possibleFrom))}))),i=l.from(this.contract.actions).where(function(e){return e.active}).toArray(),n=d.createElement(d.Fragment,null,i.map(function(t,n){return d.createElement(O.a,{text:t.name,id:"action-"+(e.contract.actions?e.contract.actions.indexOf(t):-1),idx:n,key:n,cssStyle:"thumb-w2",brandKey:"",selected:!1,styleBrand:!0,onClick:e.selectActivity})}))}a=d.createElement(d.Fragment,null,d.createElement(O.a,{text:k.a.belateporting,id:"action-101",idx:101,key:101,cssStyle:"thumb-w2",brandKey:"",selected:!1,styleBrand:!0,onClick:function(){C.a.route({url:"/customer/belatedporting/"+e.props.parent.data.id,title:k.a.belateporting})}}),d.createElement(O.a,{text:k.a.addImei,id:"action-100",idx:100,key:100,cssStyle:"thumb-w2",brandKey:"",selected:!1,styleBrand:!0,onClick:function(){var t;e.props.parent.data.customer.contracts&&(t=e.props.parent.data.customer.contracts[0].msisdn),e.props.parent.openImei(t)}}),d.createElement(O.a,{text:k.a.orderSim,id:"action-102",idx:102,key:102,cssStyle:"thumb-w2",brandKey:"",selected:!1,styleBrand:!0,onClick:function(){C.a.route({url:"/customer/sim/"+e.props.parent.data.id,title:k.a.orderSim})}}),d.createElement(O.a,{text:k.h.cancellation,id:"action-101",idx:101,key:101,cssStyle:"thumb-w2",brandKey:"",selected:!1,styleBrand:!0,onClick:function(){var t={props:{id:"dynamicPopup",title:"Stornoprozess wird vorbereitet",visible:!0,closable:!1,type:f.a.pleaseWait},closeOnDone:!0,content:d.createElement("div",null,k.k.customerData)},n={type:b.ERequestType.customerGetCanellation,brandKey:e.props.parent.data.customer.contracts?e.props.parent.data.customer.contracts[0].brandKey:"",id:e.props.parent.data.id};e.props.parent.processCustomer(function(){E.a.hub.send(JSON.stringify(n),b.ERequestType.customerGetCanellation,void 0)},t)}}),d.createElement(O.a,{text:k.a.addNextContract,id:"action-102",idx:102,key:102,cssStyle:"thumb-w2",brandKey:"",selected:!1,styleBrand:!0,onClick:function(){e.addNextContract()}}));var s=d.createElement(p.a,null,d.createElement(m.a,null,d.createElement(h.a,{md:12,className:"np"},r)),d.createElement(m.a,null,d.createElement(h.a,{md:12,className:"np"},n)),this.props.parent.data.customer.contracts&&this.props.parent.data.customer.contracts[0].brandKey===g.b.otelo?d.createElement(m.a,null,d.createElement(h.a,{md:12,className:"np"},a)):null,this.props.parent.data.customer.contracts&&this.props.parent.data.customer.contracts[0].brandKey===g.b.vodafone?d.createElement(m.a,null,d.createElement(h.a,{md:12,className:"np"},d.createElement("span",{className:"text-h1 red"},"*")," ",k.g.hintVfVllOldTariff)):null);return s=d.createElement(S.a,{config:t},s)}},{key:"selectActivity",value:function(e){var t=Number.parseInt(e.replace("action-",""));if(this.contract&&this.contract.actions){var n=this.contract.actions[t],a=b.OrderDataWrapper.createProcess(n.bc,y.c.existingCustomer,this.props.parent.data,n);this.props.parent.refresh(),C.a.route({url:"/customer/tariff/"+a.id,title:n.name+" "+b.OrderDataWrapper.getMsisdnFromContract(a)})}}},{key:"addNextContract",value:function(){var e=b.OrderDataWrapper.createProcess(y.e.bnt,y.c.actDefault,this.props.parent.data,void 0);e.activations.map(function(t){t.nextContract=!0,t.id=E.a.getUniqueId(),t.processId=e.id,t.brandKey=g.b.otelo,t.contractId="",t.msisdn="",t.code=""}),e.customer.nationality="DEU",e.customer.legitimation={id:"",type:y.l.german,authority:e.customer.address?e.customer.address.city:""},_.a.addOrder(e),E.a.categoryWrapper.switchCat(this.props.parent.data.currentCat),C.a.route({url:"/ordering/new/tariff/"+e.id,title:k.a.addNextContract}),this.setState({changed:!0})}}]),t}(d.Component),x=n(122),P=n(41),D=n(16),T=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).customer=void 0,n.switchMode=n.switchMode.bind(Object(c.a)(Object(c.a)(n))),n.state={changed:!1,mode:b.EFormMode.view},n.onInput=n.onInput.bind(Object(c.a)(Object(c.a)(n))),n.customer=JSON.parse(JSON.stringify(n.props.parent.data.customer)),n}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,n=this.state.mode===b.EFormMode.view,a=[],r=k.g.paymentHintOPL;return this.customer.evn&&this.customer.evn.billingType==y.d.email&&(r=k.g.paymentHintOPS.replace("$email",this.customer.email?this.customer.email:k.h.na)),this.props.contract?(this.props.contract.brandKey===g.b.otelo&&(a=[{key:"1",text:"Rechnung per E-Mail"},{key:"2",text:"Rechnung Online / App"}]),d.createElement("div",{id:t.containerId},d.createElement(p.a,null,d.createElement(m.a,null,d.createElement(h.a,{xs:6,md:6,className:"np"},d.createElement(v.l,{onChange:this.onInput,preview:n,checked:null!=this.customer.evn&&this.customer.evn.billingType==y.d.online,type:b.EControlType.dropdown,value:this.customer.evn?this.customer.evn.billingType.toString():"",options:a,hideTitle:!0,label:k.k.billType,name:"evn.billingType",id:"billingType_dd"}))),d.createElement(m.a,null,d.createElement(h.a,{xs:12,md:12,className:"np"},d.createElement(v.l,{type:b.EControlType.info,hideTitle:!0,isHtml:!0,overflowEnabled:!0,label:r}))),d.createElement(m.a,null,d.createElement(h.a,null,d.createElement(v.l,{type:b.EControlType.radio,title:k.k.payment,checked:this.customer.payment&&this.customer.payment.paymentType===y.q.iban,name:"payment.paymentType",id:"paymentType_1",label:k.k.payment1}))),d.createElement(m.a,null,d.createElement(h.a,{md:6,className:"np"},d.createElement(v.l,{preview:n,type:b.EControlType.text,style:"merged",title:k.k.bankOwner,id:"owner",name:"payment.owner",onChange:this.onInput,maxLength:27,validationOptions:[new D.c({type:D.a.required,message:k.m.requiredError}),new D.c({type:D.a.alphanumeric,message:k.m.alphanumeric})],value:this.customer.payment?this.customer.payment.owner:""})),d.createElement(h.a,{md:6,className:""},d.createElement(v.l,{preview:n,type:b.EControlType.text,style:"merged",title:"IBAN",id:"iban",name:"payment.iban",onChange:this.onInput,value:this.customer.payment?n?this.hideIBAN(this.customer.payment.iban):this.customer.payment.iban:"",validationOptions:[new D.c({type:D.a.required,message:k.m.requiredError}),new D.c({type:D.a.germanIBAN,message:k.m.germanIBANerror})]}))),d.createElement(m.a,null,d.createElement(h.a,{md:4}),d.createElement(h.a,{xs:12,md:12},this.state.mode===b.EFormMode.view?d.createElement(v.j,{type:b.ELButtonType.buttonWithIconRight,css:"a1 fr",id:"buttonEdit",text:k.h.edit,onClick:function(){void 0!==e.customer.payment&&(e.customer.payment.iban="",e.setState({mode:b.EFormMode.edit}))}}):d.createElement(d.Fragment,null,d.createElement(v.j,{type:b.ELButtonType.buttonWithIconRight,css:"a1 fr",id:"buttonSave",text:k.h.save,onClick:function(){var n={props:{id:"dynamicPopup",title:"Zahlungsdaten \xe4ndern",visible:!0,closable:!1,type:f.a.pleaseWait},content:d.createElement("div",null,k.k.customerData)};P.d.validateFormular(void 0,!0,t.containerId)&&(P.d.resetFormular(t.containerId),e.props.parent.processCustomer(function(){E.a.hub.send('{ "type": '+b.ERequestType.customerChangePayment+', "brandKey": "'+(e.customer.contracts?e.customer.contracts[0].brandKey:"")+'", "iban": "'+(e.customer.payment?e.customer.payment.iban:"")+'", "owner": "'+(e.customer.payment?e.customer.payment.owner:"")+'", "billingType": '+(e.customer.evn?e.customer.evn.billingType:0)+', "id": "'+e.props.parent.data.id+'", "orderId": "'+e.props.parent.data.activations[0].id+'" }',b.ERequestType.customerChangePayment,void 0)},n))}}),d.createElement(v.j,{type:b.ELButtonType.linkSimple,css:"action3 fr",id:"buttonCancel",text:k.h.cancel,onClick:function(){e.customer=JSON.parse(JSON.stringify(e.props.parent.data.customer)),e.setState({mode:b.EFormMode.view})}}))))))):d.createElement(d.Fragment,null)}},{key:"hideIBAN",value:function(e){return void 0===e||null===e?"":this.state.mode!==b.EFormMode.edit?(e.length>4&&(e=e.substring(e.length-4)),e="****"+e):void(void 0!==this.customer.payment&&(this.customer.payment.iban=e))}},{key:"switchMode",value:function(e){this.setState({mode:e})}},{key:"onInput",value:function(e){var t=this;E.a.onInput(this.customer,e,function(){t.setState({changed:!0})})}}]),t}(d.Component);T.containerId="existingCustomerPayment";var A=T,I=n(25),j=function(e){function t(e){return Object(a.a)(this,t),Object(i.a)(this,Object(s.a)(t).call(this,e))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;return d.createElement("div",{className:"block-download"},d.createElement("div",{className:"text-h2"},this.props.doc.name),d.createElement("div",{className:"text-tiny"},this.props.doc.type===y.h.evn?k.h.evn:k.h.bill),d.createElement("div",{className:"action"},d.createElement(v.j,{type:b.ELButtonType.iconImage,icon:"download",onClick:function(t){I.a.follow("environment/dd/?brand="+e.props.brandKey+"&activationId="+e.props.activationId+"&file="+t.file)},clickModel:this.props.doc})))}}]),t}(d.Component),N=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).contract=void 0,n.customer=void 0,n.state={changed:!1},n.customer=n.props.parent.data.customer,n.contract=n.props.parent.data.customer.contracts?n.props.parent.data.customer.contracts[0]:{},n}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t={title:k.k.customerBills,transparent:!1,style:"",styleContainer:"",collapsible:!0,collapsed:!1},n=this.contract.documents?l.from(this.contract.documents).where(function(e){return e.type===y.h.bill}).toArray():[],a=(this.contract.documents&&l.from(this.contract.documents).where(function(e){return e.type===y.h.evn}).toArray(),d.createElement(p.a,{className:""},d.createElement(m.a,null,this.props.parent.data.activations[0].brandKey===g.b.otelo&&this.props.parent.data.customer.loginModel&&this.props.parent.data.customer.loginModel.mode===b.EExistingCustomerLoginMode.birthday?d.createElement(h.a,{md:12},d.createElement("p",null,d.createElement("b",null,k.h.exCustBillsWithBday))):d.createElement(h.a,{md:12,className:"np"},n.map(function(t,n){return d.createElement(j,{doc:t,brandKey:e.props.parent.data.activations[0].brandKey,activationId:e.props.parent.data.activations[0].id,key:"b-"+n})}))),d.createElement(m.a,null,d.createElement(h.a,{md:12,className:"np"},d.createElement(A,{parent:this.props.parent,contract:this.props.parent.data.customer.contracts?this.props.parent.data.customer.contracts[0]:void 0})))));return d.createElement(S.a,{config:t},a)}}]),t}(d.Component),M=n(166),B=n(311),R=n.n(B),F=n(312),K=n.n(F),L=n(313),W=n.n(L),V=n(314),U=n.n(V),q=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(r.a)(t,null,[{key:"fromInterface",value:function(e){var n=new t;return n.id=e.id,n}}]),t}(n(163).a),z=n(44),G=function(e){function t(e){var n;if(Object(a.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).contract=void 0,n.red=!1,n.green=!1,n.yellow=!1,n.noColor=!1,n.showFN=!1,n.showTV=!1,n.state={changed:!1},n.contract=n.props.parent.data.customer.contracts?n.props.parent.data.customer.contracts[0]:{},n.contract.purchase)switch(n.contract.purchase){case 1:n.red=!0;break;case 2:n.yellow=!0;break;case 3:n.green=!0;break;case 4:n.noColor=!0}if(n.red){var r=new Date;void 0!==n.contract.actions&&n.contract.actions.forEach(function(e){var t=new Date(e.possibleFrom);e.purchase===b.ECustomerActionPurchase.addedRuntime&&r.getFullYear()===t.getFullYear()&&r.getMonth()===t.getMonth()&&r.getDate()===t.getDate()&&(n.red=!1,n.noColor=!0)})}return n.contract.brandKey===g.b.vodafone&&n.gigakombiCheck(),n}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e={title:void 0,transparent:!1,style:"",styleContainer:""},t=d.createElement(p.a,null,d.createElement(m.a,null,d.createElement(h.a,{md:3},d.createElement(z.c,{ckey:"bt-brand-"+this.props.parent.brand.id,item:q.fromInterface(this.props.parent.brand),onClick:void 0,type:z.b.square,status:z.a.active})),d.createElement(h.a,{md:4},d.createElement("div",{className:"text-h1"},this.props.parent.data.customer.firstname," ",this.props.parent.data.customer.surname),d.createElement("div",{className:"spacer"}),d.createElement(v.l,{type:b.EControlType.info,title:k.h.customerId,label:this.contract.customerId,style:"merged"}),d.createElement("div",{className:"spacer"}),d.createElement(v.l,{type:b.EControlType.info,title:k.h.msisdn,label:b.OrderDataWrapper.getMsisdnFromContract(this.props.parent.data),style:"merged"}),d.createElement("div",{className:"spacer"}),d.createElement(v.l,{type:b.EControlType.info,title:k.h.contract,label:b.OrderDataWrapper.getProductFromContract(this.props.parent.brand,this.props.parent.data),style:"merged"})),this.contract.brandKey===g.b.vodafone?d.createElement(h.a,{xs:3,md:3},d.createElement(m.a,null,d.createElement(h.a,{xs:12,md:12},d.createElement("img",{style:{width:"100%"},src:"/images/GigaKombiBooked.svg"}))),d.createElement(m.a,null,d.createElement(h.a,{xs:{span:1,offset:10}},this.showFN&&this.showTV?d.createElement(d.Fragment,null):d.createElement(v.j,{icon:"info",id:"gk",tooltip:k.h.gigakombiTooltip,type:b.ELButtonType.linkWithIconLeft}))),d.createElement(m.a,null,d.createElement(h.a,{xs:12,md:12},this.showFN?d.createElement(v.j,{icon:"ok-green",text:"GigaKombi Festnetz",type:b.ELButtonType.linkWithIconLeft}):d.createElement(v.j,{icon:"ok-disabled",id:"gk",text:"GigaKombi Festnetz",type:b.ELButtonType.linkWithIconLeft}))),d.createElement(m.a,null,d.createElement(h.a,{xs:12,md:12},this.showTV?d.createElement(v.j,{icon:"ok-green",text:"GigaKombi TV",type:b.ELButtonType.linkWithIconLeft}):d.createElement(v.j,{icon:"ok-disabled",id:"gk2",text:"GigaKombi TV",type:b.ELButtonType.linkWithIconLeft})))):d.createElement(d.Fragment,null),d.createElement(h.a,{md:2},this.contract.brandKey===g.b.vodafone?d.createElement(d.Fragment,null,this.red?d.createElement("img",{style:{width:"190px",height:"190px"},src:R.a,alt:"contractRed"}):d.createElement(d.Fragment,null),this.green?d.createElement("img",{style:{width:"190px",height:"190px"},src:K.a,alt:"contractGreen"}):d.createElement(d.Fragment,null),this.yellow?d.createElement("img",{style:{width:"190px",height:"190px"},src:W.a,alt:"contractYellow"}):d.createElement(d.Fragment,null),this.noColor?d.createElement("img",{style:{width:"190px",height:"190px"},src:U.a,alt:"contractNoColor"}):d.createElement(d.Fragment,null),this.contract.churner?d.createElement("div",{className:"text-desc tar"},k.c.churner):null):d.createElement(d.Fragment,null))));return t=d.createElement(S.a,{config:e},t)}},{key:"gigakombiCheck",value:function(){this.contract.bookedProduct&&(this.contract.bookedProduct.services.findIndex(function(e){return"VFAIO2MRK"===e||"VFGSUK10"===e})>-1&&(this.showFN=!0),this.contract.bookedProduct.services.findIndex(function(e){return"GKTVMRK"===e})>-1&&(this.showTV=!0))}}]),t}(d.Component),H=n(213),J=n(60),Z=n(171),Y=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).contract=void 0,n.state={changed:!1},n.contract=n.props.parent.data.customer.contracts?n.props.parent.data.customer.contracts[0]:{},n}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e={title:k.k.contractData,transparent:!1,style:"",styleContainer:"",collapsible:!0,collapsed:!1},t=this.contract.consumption&&this.contract.consumption.data?this.contract.consumption.data:void 0;t&&(t=Object.assign(new b.ConsumptionItem,t));var n=d.createElement(p.a,null,this.contract.brandKey===g.b.vodafone?d.createElement(d.Fragment,null,d.createElement(m.a,null,d.createElement(h.a,null,d.createElement(Z.a,{parent:this.props.parent}))),d.createElement(m.a,null,d.createElement(h.a,{className:"np"},d.createElement("div",{className:"spacer-line"}),d.createElement("div",{className:"spacer-medium"})))):null,d.createElement(m.a,null,this.contract.brandKey===g.b.otelo||this.contract.brandKey===g.b.dsl?d.createElement(h.a,{md:4},d.createElement(v.l,{type:b.EControlType.info,style:"merged",title:k.k.contractStart,label:E.a.toGermanDate(this.contract.contractFirstActivation)})):d.createElement(d.Fragment,null),this.contract.brandKey===g.b.vodafone?d.createElement(d.Fragment,null,d.createElement(h.a,{md:4},d.createElement(v.l,{type:b.EControlType.info,style:"merged",title:k.k.contractStart,label:E.a.toGermanDate(this.contract.contractStart)})),d.createElement(h.a,{md:4},d.createElement(v.l,{type:b.EControlType.info,style:"merged",title:k.k.firstActivation,label:E.a.toGermanDate(this.contract.contractFirstActivation)})),d.createElement(h.a,{md:4},d.createElement(v.l,{type:b.EControlType.info,style:"merged",title:k.k.contractEnd,label:E.a.toGermanDate(this.contract.contractEnd)}))):d.createElement(d.Fragment,null),this.contract.brandKey===g.b.otelo?d.createElement(d.Fragment,null,d.createElement(h.a,{md:4},d.createElement(v.l,{type:b.EControlType.info,style:"merged",title:k.h.contractId,label:this.contract.contractId}))):null,d.createElement(h.a,{md:4},d.createElement(v.l,{type:b.EControlType.info,style:"merged",title:k.k.sub,label:J.a.getSubName(this.props.parent.brand,this.contract.bookedProduct?this.contract.bookedProduct.sub:"",this.contract.bookedProduct?this.contract.bookedProduct.id:k.h.na)})),this.contract.status?d.createElement(h.a,{md:4},d.createElement(v.l,{type:b.EControlType.info,style:"merged",title:k.k.customerStatus,label:E.a.getCustomerStatus(this.contract.status.status)})):null,this.contract.brandKey===g.b.vodafone?d.createElement(h.a,{md:4},d.createElement(v.l,{type:b.EControlType.info,style:"merged",title:k.k.countCards,label:void 0!==this.contract.countCards?this.contract.countCards.toString():"0"})):null,t?d.createElement(h.a,{md:6,className:"np"},d.createElement("div",{className:"spacer-big"}),d.createElement(v.n,{text:"Status Datenverbrauch",css:"title"}),d.createElement(H.a,{maxValue:100,initialValue:t.getValueReverse(),label:"["+t.getLabel()+"]"})):null),this.contract.brandKey===g.b.vodafone?d.createElement(d.Fragment,null,d.createElement(m.a,null,d.createElement(h.a,{className:"np"},d.createElement("div",{className:"spacer-medium"}),d.createElement("div",{className:"spacer-line"}),d.createElement("div",{className:"spacer-medium"}))),this.props.parent.dataWrapper.hasPartnerGroups()?d.createElement(m.a,null,d.createElement(h.a,{md:12,className:"text-sub text-desc"},k.k.moreOptions),d.createElement("div",{className:"spacer"}),d.createElement(h.a,{md:12,className:"text-sub text-desc"},this.renderOptionalSimCards())):null):null);return n=d.createElement(S.a,{config:e},n)}},{key:"renderOptionalSimCards",value:function(){var e=this,t=d.createElement(d.Fragment,null);if(this.contract.brandKey!==g.b.vodafone)return t;var n=d.createElement(v.j,{type:b.ELButtonType.buttonWithIconRight,icon:"print",css:"a1",id:"buttonRequestContract",text:k.k.bookNow,onClick:function(){var t=b.OrderDataWrapper.createProcess(y.e.bnt,y.c.partnerCard,e.props.parent.data,void 0);t.activations[0].additional=!0,t.activations[0].msisdn="",e.props.parent.data.customer.contracts&&e.props.parent.data.customer.contracts[0].customerId&&(t.activations[0].customerId=e.props.parent.data.customer.contracts[0].customerId),_.a.addOrder(t),e.props.parent.refresh(),C.a.route({url:"/ordering/new/tariff/"+t.id,title:k.k.bookPartner}),e.props.parent.refresh()}});return t=d.createElement(p.a,null,d.createElement(m.a,null,d.createElement(h.a,{md:12,className:"np"},this.props.parent.dataWrapper.hasPartnerGroups()?d.createElement(v.a,{title:k.k.bookPartner,style:"thumb-sim",button:n},d.createElement(d.Fragment,null),d.createElement("div",null,k.k.bookMulticardDesc)):d.createElement(d.Fragment,null))))}}]),t}(d.Component),$=n(31),X=n(124),Q=n(96),ee=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).dc=void 0,n.dc=_.a.getDefCon(),n.state={changed:!1},n}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({changed:!0})}},{key:"render",value:function(){if(!this.dc.canRunAvailability())return d.createElement(d.Fragment,null);var e=_.a.getAvailability(),t={title:k.k.crossSelling,transparent:!1,style:"crossselling",styleContainer:"",collapsible:!0,collapsed:!1},n=l.from(_.a.getBrands()).where(function(e){return e.id==g.b.kabel||e.id==g.b.dsl}).toArray(),a=e.executed==b.ERequestStatus.undefined;this.props.parent.data.customer.address&&e.address.city!=this.props.parent.data.customer.address.city&&(a=!0),e.executed!=b.ERequestStatus.tempResult&&e.executed!=b.ERequestStatus.done||(a=!1);var r=a?this.renderAction(e):this.renderBrands(n,e);return d.createElement(S.a,{config:t},d.createElement(p.a,null,d.createElement(m.a,null,d.createElement(h.a,{md:12,className:"np"},r))))}},{key:"renderAction",value:function(e){var t=this,n=this.props.parent.data.customer;return d.createElement(v.j,{type:b.ELButtonType.buttonWithIconRight,css:"action3 fl",id:"",text:"Festnetz und TV Verf\xfcgbarkeit pr\xfcfen",onClick:function(){e.address=n.address,e.isCrossSelling=!0,e.executed=b.ERequestStatus.running,_.a.set(g.j.keyAvailability,e),E.a.hub.send(JSON.stringify(e),b.ERequestType.checkAvailability,void 0),t.setState({changed:!0})}})}},{key:"renderBrands",value:function(e,t){var n=this,a=this.props.parent.data.customer;return t.address=a.address,t.isCrossSelling=!0,t.executed=b.ERequestStatus.done,_.a.set(g.j.keyAvailability,t),d.createElement(X.a,{selected:g.b.kabel,thumbSelectable:!0,needSelection:!1,thumbType:z.b.blister,withTariffs:!1,forceVisible:!0,crossSelling:!0,checkAvailabilityProductsUponClick:!0,clickHandler:function(e){var t=E.a.categoryWrapper.getCategory(e);if(t&&t.status==Q.a.available){var a=b.OrderDataWrapper.createProcess(y.e.bnt,y.c.actDefault,n.props.parent.data,void 0);E.a.categoryWrapper.switchCat(e),a.currentCat=e,a.currentBrand=a.activations[0].brandKey=E.a.categoryWrapper.getCategoryBrandKey(void 0),a.activations[0].reset(),a.activations[0].catKey=e,a.activations[0].additional=!0,a.activations[0].msisdn="",a.activations[0].activationType=y.c.actDefault,a.activations[0].businessCaseId=y.e.bnt,a.activations[0].creditDebitType=y.f.postpaid,a.customer.legitimation={type:y.l.german,id:"",authority:""},a.customer.payment||(a.customer.payment={paymentType:y.q.iban,addressType:y.a.sameAddress,address:new b.Address}),a.activations[0].selection=new $.b("root"),a.isCrossSelling=!0,n.props.parent.data.customer.mnp?a.customer.mnp=n.props.parent.data.customer.mnp:(a.customer.mnp={provider:"",network:"",differentCustomer:!1,birthday:new Date},a.customer.mnp.differentCustomer=!1,a.customer.mnp.birthday=new Date,a.customer.mnp.cancellationDate=new Date,a.customer.mnp.contractEndDate=new Date),n.props.parent.data.customer.contracts&&n.props.parent.data.customer.contracts[0].customerId&&(a.activations[0].customerId=n.props.parent.data.customer.contracts[0].customerId),_.a.addOrder(a,function(){C.a.route({url:"/ordering/new/tariff/"+a.id,title:k.k.activation})})}},block:{title:"",transparent:!0}})}}]),t}(d.Component),te=n(6),ne=n(39),ae=function e(){Object(a.a)(this,e),this.email_EMA={selected:!1,ad_channel_type:"",change_date:new Date,channel:""},this.emailLastChange={selected:!1,ad_channel_type:"",change_date:new Date,channel:""},this.sms_mms_SMS={selected:!1,ad_channel_type:"",change_date:new Date,channel:""},this.post_WHM={selected:!1,ad_channel_type:"",change_date:new Date,channel:""},this.telefon_OBP={selected:!1,ad_channel_type:"",change_date:new Date,channel:""},this.telefonContractExt_PVL={selected:!1,ad_channel_type:"",change_date:new Date,channel:""},this.checkoutTerms={selected:!1,ad_channel_type:"",change_date:new Date,channel:""},this.data_handling_terms={selected:!1,ad_channel_type:"",change_date:new Date,channel:""}},re=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).contract=void 0,n.customer=void 0,n.allConsents=void 0,n.collapsed=void 0,n.oneConsent={consent_date:new Date,consent_type:"",not_selected_ad_channels:[],selected_ad_channels:[]},n.canPrint=!1,n.canSave=!1,n.printed=!1,n.needPrint=!1,n.collapse=n.collapse.bind(Object(c.a)(Object(c.a)(n))),n.collapsed=n.props.collapsed,n.state={changed:!1,mode:b.EFormMode.view,activateAll:!1,deactivateAll:!1},n.allConsents=new ae,n.customer=_.a.getCustomer(n.props.parent.data.id),n.contract=n.props.parent.data.customer.contracts?n.props.parent.data.customer.contracts[0]:{},n}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,n={title:k.k.customerConsent,transparent:!1,style:"",styleContainer:"",collapsible:!0,id:t.containerId+"-inner",collapsed:this.collapsed,onCollapse:function(t){e.collapsed=t,e.setState({changed:!0})}};this.prepareConsents(),this.canPrint=!1,this.canSave=!1,this.customer.bew&&((this.customer.bew.consulting1||this.customer.bew.consulting2)&&(this.canPrint=!0),this.customer.bew.consulting1&&this.printed&&(this.canSave=!0),this.customer.bew.consulting1||this.customer.bew.consulting2||!this.customer.bew.adChannels||0!=this.customer.bew.adChannels.length||(this.canSave=!0),!this.customer.bew.consulting1&&this.printed&&this.customer.bew.consulting2&&(this.canSave=!0),this.needPrint=!1,(this.customer.bew.consulting1||this.customer.bew.consulting2||this.customer.bew.adChannels&&0==this.customer.bew.adChannels.length)&&(this.needPrint=!0),this.state.deactivateAll&&(this.needPrint=!1));var a=d.createElement(p.a,null,this.state.mode==b.EFormMode.view?d.createElement(d.Fragment,null,d.createElement(m.a,null,d.createElement(h.a,{xs:4,md:4},d.createElement(v.l,{preview:!0,type:b.EControlType.text,style:"merged",label:k.h.email,id:"",name:"",value:E.a.toGermanDate(this.allConsents.email_EMA.change_date)})),d.createElement(h.a,{xs:1,md:1},d.createElement("br",null),d.createElement(v.l,{type:b.EControlType.checkbox,hideTitle:!0,checked:this.allConsents.email_EMA.selected,disabled:!0,name:"",id:""})),d.createElement(h.a,{xs:2,md:2}),d.createElement(h.a,{xs:4,md:4},d.createElement(v.l,{preview:!0,type:b.EControlType.text,style:"merged",label:k.h.sms_mms,id:"",name:"",value:E.a.toGermanDate(this.allConsents.sms_mms_SMS.change_date)})),d.createElement(h.a,{xs:1,md:1},d.createElement("br",null),d.createElement(v.l,{type:b.EControlType.checkbox,hideTitle:!0,style:"merged",checked:this.allConsents.sms_mms_SMS.selected,disabled:!0,name:"",id:""}))),d.createElement(m.a,null,d.createElement(h.a,{xs:4,md:4},d.createElement(v.l,{preview:!0,type:b.EControlType.text,style:"merged",label:k.h.emailLastChange,id:"",name:"",value:E.a.toGermanDate(this.allConsents.emailLastChange.change_date)})),d.createElement(h.a,{xs:1,md:1},d.createElement("br",null),d.createElement(v.l,{type:b.EControlType.checkbox,checked:this.allConsents.emailLastChange.selected,disabled:!0,hideTitle:!0,name:"",id:""})),d.createElement(h.a,{xs:2,md:2}),d.createElement(h.a,{xs:4,md:4},d.createElement(v.l,{preview:!0,type:b.EControlType.text,style:"merged",label:k.h.phone,id:"",name:"",value:E.a.toGermanDate(this.allConsents.telefon_OBP.change_date)})),d.createElement(h.a,{xs:1,md:1},d.createElement("br",null),d.createElement(v.l,{type:b.EControlType.checkbox,checked:this.allConsents.telefon_OBP.selected,disabled:!0,hideTitle:!0,name:"",id:""}))),d.createElement(m.a,null,d.createElement(h.a,{xs:4,md:4},d.createElement(v.l,{preview:!0,type:b.EControlType.text,style:"merged",label:k.h.post,id:"",name:"",value:E.a.toGermanDate(this.allConsents.post_WHM.change_date)})),d.createElement(h.a,{xs:1,md:1},d.createElement("br",null),d.createElement(v.l,{type:b.EControlType.checkbox,checked:this.allConsents.post_WHM.selected,disabled:!0,hideTitle:!0,name:"",id:""})),d.createElement(h.a,{xs:2,md:2}),d.createElement(h.a,{xs:4,md:4},d.createElement(v.l,{preview:!0,type:b.EControlType.text,style:"merged",label:k.h.phoneContractExtension,id:"",name:"",value:E.a.toGermanDate(this.allConsents.telefonContractExt_PVL.change_date)})),d.createElement(h.a,{xs:1,md:1},d.createElement("br",null),d.createElement(v.l,{type:b.EControlType.checkbox,checked:this.allConsents.telefonContractExt_PVL.selected,disabled:!0,hideTitle:!0,name:"",id:""})))):d.createElement(d.Fragment,null,d.createElement(m.a,null,d.createElement(h.a,{xs:12,md:12},d.createElement(v.l,{type:b.EControlType.hint,label:"Hier bestimmen Sie f\xfcr Ihren Kunden ob und wie Sie zur Beratung kontaktiert werden d\xfcrfen."}))),d.createElement(m.a,null,d.createElement(h.a,{xs:12,md:12},d.createElement(v.l,{type:b.EControlType.hint,label:"Mit den Checkboxen k\xf6nnen Sie Ihre Beratungseinwilligung. geben und widerrufen und Ihr Widerspruchsrecht nutzen"}))),d.createElement(m.a,null,d.createElement(h.a,{xs:12,md:12},d.createElement(v.l,{type:b.EControlType.hint,label:"ACHTUNG: Im easy Portal k\xf6nnen Sie die Einstellungen nur f\xfcr alle Kommunikationswege vornehmen."}))),d.createElement(m.a,null,d.createElement(h.a,{xs:1,md:1,className:"np"},d.createElement(v.l,{type:b.EControlType.checkbox,onChange:function(){e.selectAll()},name:"selectAll",id:"selectAllId",hideTitle:!0,label:"",checked:this.state.activateAll})),d.createElement(h.a,{xs:11,md:11,className:"npr"},d.createElement(v.l,{type:b.EControlType.hint,label:"Alle Kommunikationskan\xe4le aktivieren"}))),d.createElement(m.a,null,d.createElement(h.a,{xs:1,md:1,className:"np"},d.createElement(v.l,{type:b.EControlType.checkbox,onChange:function(t){e.deselectAll()},name:"deactivateAll",id:"deactivateAllId",hideTitle:!0,label:"",checked:this.state.deactivateAll})),d.createElement(h.a,{xs:11,md:11,className:"npr"},d.createElement(v.l,{type:b.EControlType.hint,label:"Alle Kommunikationskan\xe4le deaktivieren"}))),d.createElement(m.a,null,d.createElement(h.a,{xs:12,md:12,className:"np"},d.createElement("div",{className:"spacer-medium"}),d.createElement("div",{className:"spacer-line"}),d.createElement("div",{className:"spacer-medium"})))),this.state.deactivateAll?d.createElement(d.Fragment,null):d.createElement(m.a,null,d.createElement(h.a,{xs:1,md:1,className:"np"},d.createElement(v.l,{type:b.EControlType.checkbox,onChange:function(t){e.customer.bew&&(e.customer.bew.consulting1=t.checked,e.printed=!1),e.setState({changed:!0})},name:"checkoutTerms",id:"checkoutTermsId",hideTitle:!0,label:"",disabled:this.state.mode==b.EFormMode.view,checked:!!this.customer.bew&&this.customer.bew.consulting1})),d.createElement(h.a,{xs:11,md:11,className:"npr"},d.createElement(v.l,{type:b.EControlType.hint,label:this.customer.bew&&this.customer.bew.consentExisting&&void 0!==this.customer.bew.consentExisting.ActualTexts.bew_checkout_terms?this.customer.bew.consentExisting.ActualTexts.bew_checkout_terms[0].text:"n/a"}))),d.createElement(m.a,null,d.createElement(h.a,{xs:1,md:1,className:"np"},d.createElement(v.l,{type:b.EControlType.checkbox,onChange:function(t){e.customer.bew&&(e.customer.bew.consulting2=t.checked,e.printed=!1),e.setState({changed:!0})},name:"dataHandlingTerms",id:"dataHandlingTerms",hideTitle:!0,label:"",disabled:this.state.mode==b.EFormMode.view,checked:!!this.customer.bew&&this.customer.bew.consulting2})),d.createElement(h.a,{xs:11,md:11,className:"npr"},d.createElement(v.l,{type:b.EControlType.hint,label:this.customer.bew&&this.customer.bew.consentExisting&&void 0!==this.customer.bew.consentExisting.ActualTexts.data_handling_terms?this.customer.bew.consentExisting.ActualTexts.data_handling_terms[0].text:"n/a"}))),this.state.mode==b.EFormMode.edit?d.createElement(d.Fragment,null,d.createElement(v.j,{type:b.ELButtonType.buttonWithIconRight,icon:"print",css:"a1",id:"",text:k.h.cancel,onClick:function(){e.printed=!1,e.customer=_.a.getCustomer(e.props.parent.data.id),e.setState({mode:b.EFormMode.view,activateAll:!1,deactivateAll:!1})}}),this.canPrint?d.createElement(v.j,{type:b.ELButtonType.buttonWithIconRight,icon:"print",css:"a1 fr",id:"",text:k.h.print,onClick:function(){if(e.canProcess()){var t={type:b.ERequestType.customerPrintBEW,brandKey:g.b.otelo,id:e.props.parent.data.id,bew:e.customer.bew},n={props:{id:"dynamicPopup",title:k.k.customerConsent,visible:!0,closable:!1,type:f.a.pleaseWait},content:d.createElement("div",null,k.k.customerData),callback:function(e){}};e.props.parent.processCustomer(function(){I.a.fetch("existing/printbew",t,"post",function(t){var n=k.b.saveSuccess;t.status!=ne.EApiResponseStatus.ok?n=I.a.parseSummary(t,void 0).message:n=d.createElement("div",{className:"tal"},d.createElement("span",null,"Das Auftragsdokument zur BEW-\xc4nderung wurde erstellt. Zum Download klicke auf den nachstehenden Link."),d.createElement("br",null)," ",d.createElement("br",null),d.createElement("div",{className:"tac"},d.createElement(v.j,{type:b.ELButtonType.buttonWithIconRight,icon:"print",css:"a1",id:"",text:"Dokument anzeigen",onClick:function(){e.printed=!0,e.setState({changed:!0}),I.a.follow("environment/dd/?brand="+e.props.parent.data.activations[0].brandKey+"&activationId="+e.props.parent.data.activations[0].id+"&file="+t.data.Binary),e.props.parent.resetDynamicPopup(void 0)}})));var a={props:{id:"dynamicPopup",title:k.k.customerConsent,visible:!0,closable:!0,type:f.a.custom},content:d.createElement("div",null,n)};e.props.parent.processCustomer(function(){},a)})},n)}}}):null,this.canSave?d.createElement(v.j,{type:b.ELButtonType.buttonWithIconRight,icon:"print",css:"a1 fr",id:"",text:k.h.save,onClick:function(){if(e.canProcess())if(e.needPrint){var t={props:{id:"dynamicPopup",title:k.k.customerConsent,visible:!0,closable:!0,type:f.a.custom},content:d.createElement("div",null,"Bitte vergewissere dich, dass unser Kunde das Dokument zur \xc4nderung seiner Beratungseinwilligung unterschrieben hat."),action:d.createElement(d.Fragment,null,d.createElement(v.j,{text:k.h.next,css:"fr",icon:"ok",type:b.ELButtonType.buttonWithIconRight,onClick:function(){e.runSave()}}))};e.props.parent.processCustomer(function(){},t)}else e.runSave()}}):null):d.createElement(v.j,{type:b.ELButtonType.buttonWithIconRight,icon:"print",css:"a1 fr",id:"",text:k.h.edit,onClick:function(){e.setState({mode:b.EFormMode.edit})}}));return d.createElement("div",{id:t.containerId},d.createElement(S.a,{config:n},a))}},{key:"collapse",value:function(e){var t=this;this.collapsed=e,this.setState({mode:b.EFormMode.view},function(){setTimeout(function(){t.setState({mode:b.EFormMode.view}),E.a.FocusComponent("oecselectAllId")},1e3)})}},{key:"runSave",value:function(){var e=this;this.props.parent.resetDynamicPopup(void 0);var t={type:b.ERequestType.customerUpdateConsents,brandKey:g.b.otelo,id:this.props.parent.data.id,bew:this.customer.bew},n={props:{id:"dynamicPopup",title:k.k.customerConsent,visible:!0,closable:!1,type:f.a.pleaseWait},content:d.createElement("div",null,k.k.customerData),callback:function(t){var n=k.b.saveSuccess;t.status!=ne.EApiResponseStatus.ok?n=I.a.parseSummary(t,void 0).message:(_.a.updateCustomer(e.props.parent.data.id,e.customer),e.setState({mode:b.EFormMode.view}));var a={props:{id:"dynamicPopup",title:k.k.customerConsent,visible:!0,closable:!0,type:f.a.pleaseWait},content:d.createElement("div",null,n),action:d.createElement(d.Fragment,null,d.createElement(v.j,{text:k.h.close,css:"fr",icon:"ok",type:b.ELButtonType.buttonWithIconRight,onClick:function(){e.props.parent.resetDynamicPopup(void 0)}}))};e.props.parent.processCustomer(function(){},a)}};this.props.parent.processCustomer(function(){E.a.hub.send(JSON.stringify(t),b.ERequestType.customerUpdateConsents,void 0)},n),E.a.hub.send(JSON.stringify(t),b.ERequestType.customerUpdateConsents,void 0)}},{key:"prepareConsents",value:function(){var e=this;this.allConsents.email_EMA.selected=!1,this.allConsents.emailLastChange.selected=!1,this.allConsents.sms_mms_SMS.selected=!1,this.allConsents.telefon_OBP.selected=!1,this.allConsents.telefonContractExt_PVL.selected=!1,this.allConsents.post_WHM.selected=!1,this.customer.bew&&this.customer.bew.consentExisting&&this.customer.bew.consentExisting.consents.forEach(function(t){(t.consent_type="BEW")&&t.hasOwnProperty("selected_ad_channels")&&t.selected_ad_channels&&t.selected_ad_channels.length>0&&(e.allConsents.checkoutTerms.selected=!0,t.selected_ad_channels&&t.selected_ad_channels.forEach(function(t){switch(t.ad_channel_type){case"EMA":e.allConsents.email_EMA.selected=!0,e.allConsents.email_EMA.change_date=t.change_date;break;case"ECU":e.allConsents.emailLastChange.selected=!0,e.allConsents.emailLastChange.change_date=t.change_date;break;case"SMS":e.allConsents.sms_mms_SMS.selected=!0,e.allConsents.sms_mms_SMS.change_date=t.change_date;break;case"OBP":e.allConsents.telefon_OBP.selected=!0,e.allConsents.telefon_OBP.change_date=t.change_date;break;case"PVL":e.allConsents.telefonContractExt_PVL.selected=!0,e.allConsents.telefonContractExt_PVL.change_date=t.change_date;break;case"WHM":e.allConsents.post_WHM.selected=!0,e.allConsents.post_WHM.change_date=t.change_date}})),"DAT"==t.consent_type&&(e.allConsents.data_handling_terms.selected=!0)})}},{key:"selectAll",value:function(){var e=this;if(this.printed=!1,this.customer.bew&&this.customer.bew.consentExisting){this.customer.bew.adChannels=[];var t=l.from(this.customer.bew.consentExisting.consents).where(function(e){return"BEW"==e.consent_type}).firstOrDefault(),n=this.customer.bew.consentExisting.consents.indexOf(t);t&&this.customer.bew.consentExisting&&(t.selected_ad_channels=t.not_selected_ad_channels,t.not_selected_ad_channels=[],t.selected_ad_channels&&0!=t.selected_ad_channels.length||(t.selected_ad_channels=[{ad_channel_type:"EMA",channel:"RET",change_date:new Date},{ad_channel_type:"ECU",channel:"RET",change_date:new Date},{ad_channel_type:"SMS",channel:"RET",change_date:new Date},{ad_channel_type:"OBP",channel:"RET",change_date:new Date},{ad_channel_type:"PVL",channel:"RET",change_date:new Date},{ad_channel_type:"WHM",channel:"RET",change_date:new Date}]),t.selected_ad_channels&&t.selected_ad_channels.map(function(t){t.change_date=new Date,t.selected=!0,e.customer.bew&&e.customer.bew.adChannels&&e.customer.bew.adChannels.push(t.ad_channel_type)}),this.customer.bew.consentExisting.consents[n]=t)}this.setState({changed:!0,activateAll:!0,deactivateAll:!1})}},{key:"deselectAll",value:function(){if(this.printed=!1,this.customer.bew&&(this.customer.bew.adChannels=[],this.customer.bew.consulting1=!1,this.customer.bew.consentExisting)){var e=l.from(this.customer.bew.consentExisting.consents).where(function(e){return"BEW"==e.consent_type}).firstOrDefault(),t=this.customer.bew.consentExisting.consents.indexOf(e);e&&(e.not_selected_ad_channels=e.selected_ad_channels,e.not_selected_ad_channels&&e.not_selected_ad_channels.map(function(e){e.selected=!1}),e.selected_ad_channels=[]),this.customer.bew.consentExisting.consents[t]=e}this.setState({changed:!0,activateAll:!1,deactivateAll:!0})}},{key:"canProcess",value:function(){var e=this;if(this.customer.bew){if(this.customer.bew.consulting1&&this.customer.bew.adChannels&&this.customer.bew.adChannels.length>0)return!0;if(this.state.deactivateAll)return!0;if(!this.customer.bew.consulting1&&this.customer.bew.consulting2&&this.customer.bew.adChannels&&0==this.customer.bew.adChannels.length)return!0;if(!this.customer.bew.consulting1&&!this.customer.bew.consulting2&&this.customer.bew.adChannels&&0==this.customer.bew.adChannels.length)return!0}if(this.customer.bew&&!this.customer.bew.consulting1&&this.customer.bew.adChannels&&this.customer.bew.adChannels.length>0){var t={props:{id:"dynamicPopup",title:k.k.customerConsent,visible:!0,closable:!0,type:f.a.custom},content:d.createElement("div",null,"Sie m\xfcssen die Beratungseinwilligung best\xe4tigen."),action:d.createElement(d.Fragment,null,d.createElement(v.j,{text:k.h.ok,css:"fr",icon:"ok",type:b.ELButtonType.buttonWithIconRight,onClick:function(){e.props.parent.resetDynamicPopup(void 0)}}))};return this.props.parent.processCustomer(function(){},t),!1}var n={props:{id:"dynamicPopup",title:k.k.customerConsent,visible:!0,closable:!0,type:f.a.custom},content:d.createElement("div",null,"Bitte w\xe4hle alle Kommunikationskan\xe4le aus, bevor du das Dokument ausdruckst und speicherst."),action:d.createElement(d.Fragment,null,d.createElement(v.j,{text:k.h.ok,css:"fr",icon:"ok",type:b.ELButtonType.buttonWithIconRight,onClick:function(){e.props.parent.resetDynamicPopup(void 0)}}))};return this.props.parent.processCustomer(function(){},n),!1}}]),t}(d.Component);re.containerId="containerConsentsExisting";var ie=re,se=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).contract=void 0,n.customer=void 0,n.password="",n.password2="",n.emailStatusControl=void 0,n.emailStatus=void 0,n.state={changed:!1,modePassword:b.EFormMode.view,mode:b.EFormMode.view},n.onInput=n.onInput.bind(Object(c.a)(Object(c.a)(n))),n.switchMode=n.switchMode.bind(Object(c.a)(Object(c.a)(n))),n.customer=JSON.parse(JSON.stringify(n.props.parent.data.customer)),n.contract=n.props.parent.data.customer.contracts?n.props.parent.data.customer.contracts[0]:{},n.emailStatus=n.props.parent.data.customer.emailStatus?n.props.parent.data.customer.emailStatus:te.e.UNDEFIEND,n.emailStatusControl=d.createElement(d.Fragment,null),n.props.parent.data.customer.contracts&&n.props.parent.data.customer.contracts[0].brandKey==g.b.otelo&&(n.emailStatus==te.e.CREATED?(n.showEMailStatusPopup(),n.emailStatusControl=d.createElement("span",{className:"orange"},k.h.customerEMailCreated)):n.emailStatus==te.e.VALIDATED?(n.emailStatusControl=d.createElement("span",{className:"green"},k.h.customerEMailValidated),n.showConsentPopup()):(n.showEMailStatusPopup(),n.emailStatusControl=d.createElement("span",{className:"red"},k.h.customerEMailNotValidated))),n}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,n={title:k.k.customerData,transparent:!1,style:"",styleContainer:"",collapsible:!0,collapsed:!1},a=this.state.mode===b.EFormMode.view,r=!(!this.props.parent.data.customer.contracts||this.props.parent.data.customer.contracts[0].brandKey!==g.b.otelo),i=d.createElement("div",null,d.createElement(p.a,null,d.createElement(m.a,null,d.createElement(h.a,{md:4},d.createElement(v.l,{preview:!0,type:b.EControlType.text,style:"merged",title:k.h.firstname,id:"firstname",name:"firstname",onChange:this.onInput,value:this.customer.firstname})),d.createElement(h.a,{md:4},d.createElement(v.l,{preview:!0,type:b.EControlType.text,style:"merged",title:k.h.surname,id:"surname",name:"surname",onChange:this.onInput,value:this.customer.surname})),d.createElement(h.a,{md:4},d.createElement(v.l,{preview:!0,style:"merged",type:b.EControlType.text,title:k.h.dateOfBirth,id:"birthday",name:"birthday",value:E.a.toGermanDate(this.customer.birthday)})),d.createElement(h.a,{md:8},d.createElement(v.l,{preview:a,type:b.EControlType.text,style:"merged",title:k.h.email,id:"email",name:"email",onChange:this.onInput,value:this.customer.email}))),d.createElement(m.a,null,d.createElement(h.a,{md:12,className:"subtitle"},k.h.address)),d.createElement(m.a,null,d.createElement(h.a,{md:4},d.createElement(v.l,{preview:a,type:b.EControlType.text,style:"merged",title:k.h.street,id:"street",name:"address.street",onChange:this.onInput,value:this.customer.address?this.customer.address.street:k.h.na})),d.createElement(h.a,{md:4},d.createElement(v.l,{preview:a,type:b.EControlType.text,style:"merged",id:"nr",name:"address.nr",onChange:this.onInput,title:k.h.houseNumber,value:this.customer.address?this.customer.address.nr:k.h.na})),d.createElement(h.a,{md:4},d.createElement(v.l,{preview:a,type:b.EControlType.text,style:"merged",id:"city",name:"address.city",onChange:this.onInput,title:k.h.city,value:this.customer.address?this.customer.address.city:k.h.na})),d.createElement(h.a,{md:4},d.createElement(v.l,{preview:a,id:"zip",name:"address.zip",onChange:this.onInput,type:b.EControlType.text,style:"merged",title:k.h.zip,value:this.customer.address?this.customer.address.zip:k.h.na})),d.createElement(h.a,{md:4}),d.createElement(h.a,{xs:12,md:12},r?d.createElement(d.Fragment,null,this.state.mode===b.EFormMode.view?d.createElement(v.j,{type:b.ELButtonType.buttonWithIconRight,css:"a1 fr",id:"buttonEditCustomer",text:k.h.edit,onClick:function(){e.setState({mode:b.EFormMode.edit})}}):d.createElement(d.Fragment,null,d.createElement(v.j,{type:b.ELButtonType.buttonWithIconRight,css:"a1 fr",id:"buttonRequestContract",text:k.h.save,onClick:function(){var t={props:{id:"dynamicPopup",title:"Kundendaten \xe4ndern",visible:!0,closable:!1,type:f.a.pleaseWait},content:d.createElement("div",null,k.k.customerData)},n={type:b.ERequestType.customerChangeData,brandKey:e.customer.contracts?e.customer.contracts[0].brandKey:"",id:e.props.parent.data.id,data:e.customer};e.props.parent.processCustomer(function(){E.a.hub.send(JSON.stringify(n),b.ERequestType.customerChangeData,void 0)},t)}}),d.createElement(v.j,{type:b.ELButtonType.linkSimple,css:"action3 fr",id:"buttonCancel",text:k.h.cancel,onClick:function(){e.setState({mode:b.EFormMode.view})}}))):null)),this.customer.contracts&&this.customer.contracts[0].brandKey===g.b.otelo?d.createElement(d.Fragment,null,d.createElement(m.a,null,d.createElement(h.a,null,d.createElement("div",{className:"title"},k.h.customerEMailValidation))),d.createElement(m.a,null,d.createElement(h.a,null,d.createElement("div",{className:""},"Status: ",this.emailStatusControl))),this.emailStatus==te.e.VALIDATED?null:d.createElement(m.a,null,d.createElement(h.a,null,d.createElement(v.j,{type:b.ELButtonType.buttonWithIconRight,css:"a1 fr",id:"buttonExecRequestEmail",text:k.h.request,onClick:function(){var t={props:{id:"dynamicPopup",title:"E-Mail Validierung",visible:!0,closable:!0,type:f.a.pleaseWait},content:d.createElement("div",null,k.k.customerData)},n={type:b.ERequestType.customerValidateEMail,brand:e.customer.contracts?e.customer.contracts[0].brandKey:"",id:e.props.parent.data.id};e.props.parent.processCustomer(function(){I.a.fetch("existing/ValidateEmail",n,"post",function(n){var a=I.a.parseSummary(n,void 0);a.status==te.k.done&&(e.props.parent.data.customer.emailStatus=te.e.CREATED,_.a.addOrder(e.props.parent.data),e.setState({changed:!0})),t.props.type=f.a.custom,t.content=d.createElement("div",null,a.message),e.props.parent.processCustomer(function(){},t)})},t)}})))):null,d.createElement(m.a,null,d.createElement(h.a,null,d.createElement("div",{className:"title"},"Passwort"),this.state.modePassword===b.EFormMode.view?d.createElement(v.l,{preview:!0,type:b.EControlType.text,style:"merged",title:k.h.customerPassword,id:"password",name:"password",value:"******"}):d.createElement(p.a,{id:"passwordContainer"},d.createElement(m.a,null,d.createElement(h.a,{md:6,className:"np"},d.createElement(v.l,{preview:!1,type:b.EControlType.password,style:"merged",title:k.h.customerPassword,id:"password",name:"password",onChange:function(t){e.password=t.value,e.setState({changed:!0})},value:this.password,validationOptions:[new D.c({type:D.a.required,message:k.m.requiredError}),new D.c({type:D.a.password,message:k.m.errorPassword})]})),d.createElement(h.a,{md:6},d.createElement(v.l,{preview:!1,type:b.EControlType.password,style:"merged",title:k.h.passwordRepeat,id:"password2",name:"password2",onChange:function(t){e.password2=t.value,e.setState({changed:!0})},value:this.password2,validationOptions:[new D.c({type:D.a.required,message:k.m.requiredError}),new D.c({type:D.a.password,message:k.m.errorPassword}),new D.c({type:D.a.match,message:k.m.errorPasswordMatch,targetControl:"password"})]}))))),d.createElement(h.a,{xs:12,md:12},r?d.createElement(d.Fragment,null,this.state.modePassword===b.EFormMode.view?d.createElement(v.j,{type:b.ELButtonType.buttonWithIconRight,css:"a1 fr",id:"buttonEditPassword",text:k.h.edit,onClick:function(){e.password2=e.password="",e.setState({modePassword:b.EFormMode.edit})}}):d.createElement(d.Fragment,null,d.createElement(v.j,{type:b.ELButtonType.buttonWithIconRight,css:"a1 fr",id:"buttonExecChangePassword",text:k.h.save,onClick:function(){if(P.d.validateFormular(void 0,!0,"passwordContainer",void 0)){var t={props:{id:"dynamicPopup",title:"Passwort \xe4ndern",visible:!0,closable:!1,type:f.a.pleaseWait},content:d.createElement("div",null,k.k.customerData)},n={type:b.ERequestType.customerChangePassword,brandKey:e.customer.contracts?e.customer.contracts[0].brandKey:"",id:e.props.parent.data.id,ecpassword:e.password};e.props.parent.processCustomer(function(){E.a.hub.send(JSON.stringify(n),b.ERequestType.customerChangePassword,void 0)},t)}}}),d.createElement(v.j,{type:b.ELButtonType.linkSimple,css:"action3 fr",id:"buttonCancelPassword",text:k.h.cancel,onClick:function(){e.setState({modePassword:b.EFormMode.view})}}))):null))));return i=d.createElement("div",{id:t.containerId},d.createElement(S.a,{config:n},i))}},{key:"switchMode",value:function(e){this.setState({mode:e,modePassword:e})}},{key:"onInput",value:function(e){var t=this;E.a.onInput(this.customer,e,function(){t.setState({changed:!0})})}},{key:"showEMailStatusPopup",value:function(){var e=this,t=k.h.customerEMailNotValidatedText;this.props.parent.data.customer&&(t=t.replace("$email",this.props.parent.data.customer.email?this.props.parent.data.customer.email:"k.A"));var n={props:{id:"dynamicPopupEMail",title:k.h.customerEMailNotValidatedTitle,visible:!0,closable:!1,type:f.a.custom,textPositive:k.h.next},action:d.createElement(d.Fragment,null,d.createElement(v.j,{text:k.h.next,css:"fr",icon:"ok",type:b.ELButtonType.buttonWithIconRight,onClick:function(){e.props.parent.resetDynamicPopup(void 0),e.showConsentPopup()}})),content:d.createElement("div",{dangerouslySetInnerHTML:{__html:t}})};b.ERequestType.customerChangePassword,this.customer.contracts&&this.customer.contracts[0].brandKey,this.props.parent.data.id,this.password;this.props.parent.processCustomer(function(){},n)}},{key:"showConsentPopup",value:function(){var e=this;if(this.customer.bew&&this.customer.bew.consulting1||this.customer.contracts&&this.customer.contracts[0].brandKey!=g.b.otelo)return d.createElement(d.Fragment,null);var t={props:{id:"dynamicPopupBEW",title:"Hinweis Beratungseinwilligung",visible:this.props.parent.brand.id.toLowerCase()===g.b.otelo,closable:!1,type:f.a.custom,textPositive:k.h.next,height:300},action:d.createElement(d.Fragment,null,d.createElement(v.j,{text:"Beratungseinwilligung anpassen",css:"fl",icon:"ok",type:b.ELButtonType.buttonWithIconRight,onClick:function(){e.props.parent.resetDynamicPopup(function(){var e=E.a.GetComponent(ie.containerId);E.a.FocusComponent(ie.containerId),e.collapse(!1)})}}),d.createElement(v.j,{text:"Nein jetzt nicht",css:"fr",icon:"ok",type:b.ELButtonType.linkSimple,onClick:function(){e.props.parent.resetDynamicPopup(void 0)}})),content:d.createElement("div",{dangerouslySetInnerHTML:{__html:'<div class="tal">Bitte beraten Sie Ihren Kunden bez\xfcglich der Vorteile der Beratungseinwilligung (BEW) Nur dann ist es m\xf6glich:<ul><li>aktives Bestandskundenmanagement f\xfcr die Zukunft zu gestalten.</li><li>Kundenroutings z.B. \xfcber Elsbeth durchzuf\xfchren.</li><li>Ihrem Kunden besondere Angebote zu machen.</li><li>Tarife auf dem aktuellsten Stand zu halten.</li></ul><div>'}})};b.ERequestType.customerChangePassword,this.customer.contracts&&this.customer.contracts[0].brandKey,this.props.parent.data.id,this.password;this.props.parent.processCustomer(function(){},t)}}]),t}(d.Component);se.containerId="existingCustomerData";var oe=se,ce=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).contract=void 0,n.selectActivity=function(e){if(n.contract&&n.contract.actions){var t=b.OrderDataWrapper.createProcess(y.e.vvl,y.c.existingCustomer,n.props.parent.data,e);n.props.parent.refresh(),C.a.route({url:"/customer/tariff/"+t.id,title:e.title+" "+b.OrderDataWrapper.getMsisdnFromContract(t)})}},n.state={changed:!1},n.contract=n.props.parent.data.customer.contracts?n.props.parent.data.customer.contracts[0]:{},n}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;if(!this.contract.nba||0==this.contract.nba.length)return d.createElement(d.Fragment,null);var t={title:k.k.nba,transparent:!1,style:"",styleContainer:"",collapsible:!0,collapsed:!1},n=d.createElement(d.Fragment,null);if(this.contract.nba){var a=l.from(this.contract.nba).toArray();n=d.createElement(d.Fragment,null,a.map(function(t,n){return d.createElement(O.a,{text:t.title,id:"nba-"+t.nbaId,idx:n,key:n,tooltip:e.getTooltip(t),cssStyle:"thumb-w2 nba-"+t.category,brandKey:"",selected:!1,styleBrand:!0,onClick:function(){e.selectActivity(t)}})}))}var r=d.createElement(p.a,null,d.createElement(m.a,null,d.createElement(h.a,{md:12,className:"np"},n)));return r=d.createElement(S.a,{config:t},r)}},{key:"getTooltip",value:function(e){var t=this,n=l.from(this.props.brand.products).where(function(t){return t.id==e.product}).first(),a="";return e.services&&e.services.length>0&&e.services.map(function(e,n){var r=l.from(t.props.brand.services).where(function(t){return t.id==e}).first();if(r){var i=r.monthlyFee&&r.monthlyFee.price?r.monthlyFee:r.activationFee,s=0!=i.price?E.a.feeToString(i):"";a+='<div class=\\"bl text-h2 tar\\">'+s+" "+r.familyName+"</div>"}}),a=n.tooltip.replace('<div class=\\"nba dn\\">$</div>','<div class=\\"nba\\">'+a+"</div>")}}]),t}(d.Component),le=n(27),ue=function(){function e(){Object(a.a)(this,e),this.booked=[],this.bookable=[],this.add=[],this.remove=[]}return Object(r.a)(e,[{key:"canUpdate",value:function(){return this.add.length>0||this.remove.length>0}}]),e}(),de=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).lastApi=void 0,n.activtion=void 0,n.serviceUpdate=new ue,n.removedBookableOptions=[],n.state={changed:!1,status:b.ERequestStatus.undefined,confirmAddRemove:!1,mode:b.EFormMode.view},n.addRemoveService=n.addRemoveService.bind(Object(c.a)(Object(c.a)(n))),n.onDismissPopup=n.onDismissPopup.bind(Object(c.a)(Object(c.a)(n))),n.onSave=n.onSave.bind(Object(c.a)(Object(c.a)(n))),n.socketCallback=n.socketCallback.bind(Object(c.a)(Object(c.a)(n))),n.renderPopupConfirmService=n.renderPopupConfirmService.bind(Object(c.a)(Object(c.a)(n))),n.onConfirm=n.onConfirm.bind(Object(c.a)(Object(c.a)(n))),n.switchMode=n.switchMode.bind(Object(c.a)(Object(c.a)(n))),n.activtion=n.props.parent.data.activations[0],n.serviceUpdate=n.prepareServices(),n}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){this.activtion=this.props.parent.data.activations[0];var e={title:k.k.services,id:t.containerId,transparent:!1,style:"",styleContainer:"",collapsible:!0,collapsed:!1},n=d.createElement("div",null,this.renderPopup(),this.renderPopupConfirmService(),d.createElement(p.a,null,d.createElement(m.a,null,d.createElement(h.a,{md:12,className:"np"},this.renderServices()))));return n=d.createElement(S.a,{config:e},n)}},{key:"switchMode",value:function(e){this.setState({mode:e})}},{key:"renderServices",value:function(){var e=this;d.Fragment;return d.createElement(p.a,{className:"container-action"},d.createElement(m.a,null,d.createElement(h.a,{md:12},d.createElement("div",{className:"subtitle"},k.h.bookedServices),d.createElement("div",null,this.serviceUpdate.booked.map(function(t,n){return e.renderThumb(t,e.addRemoveService,e.isSelected(t.id),n,!0)}),d.createElement(v.k,null)),d.createElement("div",{className:"spacer"}),this.props.parent.data.customer.contracts?d.createElement(d.Fragment,null,d.createElement("div",{className:"subtitle"},k.h.bookableServices),d.createElement("div",null,this.serviceUpdate.bookable.map(function(t,n){return e.renderThumb(t,e.addRemoveService,e.isSelected(t.id),n,!1)}),d.createElement(v.k,null))):null)),this.props.parent.data.customer.contracts?d.createElement(m.a,null,d.createElement(h.a,{xs:12,md:12},this.state.mode===b.EFormMode.view?d.createElement(v.j,{onClick:function(){e.setState({mode:b.EFormMode.edit})},text:k.h.change,type:b.ELButtonType.buttonWithIconRight,css:"action fr",icon:"arrow-right"}):d.createElement(d.Fragment,null,d.createElement(v.j,{text:k.h.saveOptions,onClick:this.onConfirm,type:b.ELButtonType.buttonWithIconRight,css:"action fr",icon:"arrow-right"}),d.createElement(v.j,{onClick:function(){e.serviceUpdate=e.prepareServices(),e.setState({mode:b.EFormMode.view})},text:k.h.cancel,type:b.ELButtonType.linkSimple,css:"action3 fr",icon:"chevron"})))):null)}},{key:"renderThumb",value:function(e,t,n,a,r){var i=this,s={text:n?k.h.remove:k.h.book,onClick:function(e){}},o=n?" sel ":"";return o+=this.state.mode===b.EFormMode.view?"":"thumb-service",this.activtion.brandKey===g.b.vodafone&&r&&(s=void 0,o=" sel "),this.state.mode===b.EFormMode.view&&(s=void 0),e.disabled?d.createElement(d.Fragment,null):d.createElement(O.a,{key:e.id+"_"+E.a.getUniqueId(),idx:a,text:e.name,tooltip:e.tooltip,tooltipModel:e,selected:n,id:e.id,brandKey:this.activtion.brandKey,styleBrand:!1,cssStyle:o,action:s,onClick:function(e){i.addRemoveService(e),i.setState({changed:!0})}})}},{key:"isSelected",value:function(e){var t=l.from(this.serviceUpdate.booked).select(function(e){return e.id}).toArray(),n=this.serviceUpdate.add.indexOf(e)>=0,a=this.serviceUpdate.remove.indexOf(e)>=0,r=t.indexOf(e)>=0;return(n||r)&&!a}},{key:"onConfirm",value:function(){if(this.activtion.brandKey===g.b.vodafone){var e=this.props.parent.data.customer.contracts?this.props.parent.data.customer.contracts[0]:{};this.props.parent.data.activations[0].activationType=y.c.bookService,this.props.parent.data.activations[0].productId=e.bookedProduct?e.bookedProduct.id:"",this.props.parent.data.activations[0].sub=e.bookedProduct?e.bookedProduct.sub:"",this.props.parent.data.activations[0].services=this.serviceUpdate.add;var t=b.OrderDataWrapper.createProcess(y.e.bookService,y.c.bookService,this.props.parent.data,void 0);return this.props.parent.onNext(t),void C.a.route({url:"/customer/done/"+t.id,title:"Dienste aendern "+b.OrderDataWrapper.getMsisdnFromContract(t)})}this.setState({confirmAddRemove:!0})}},{key:"onSave",value:function(){var e={props:{id:"dynamicPopup",title:"Dienste \xe4ndern",visible:!0,closable:!1,type:f.a.pleaseWait},content:d.createElement("div",null,k.k.customerData)},t={type:b.ERequestType.customerChangeAddRemoveServices,brandKey:this.activtion.brandKey,id:this.props.parent.data.id,addServices:this.serviceUpdate.add,removeServices:this.serviceUpdate.remove};this.props.parent.processCustomer(function(){E.a.hub.send(JSON.stringify(t),b.ERequestType.customerChangeAddRemoveServices,void 0)},e)}},{key:"onDismissPopup",value:function(){this.lastApi=void 0,this.setState({status:b.ERequestStatus.undefined})}},{key:"addRemoveService",value:function(e){var t=this;if(this.state.mode!==b.EFormMode.view){var n=l.from(this.serviceUpdate.booked).select(function(e){return e.id}).toArray(),a=this.serviceUpdate.add.indexOf(e)>=0,r=this.serviceUpdate.remove.indexOf(e)>=0,i=n.indexOf(e)>=0;if(!i||this.props.parent.data.activations[0].brandKey!=g.b.vodafone){a?E.a.removeElementFromArray(this.serviceUpdate.add,e):a||i?i&&!r?this.serviceUpdate.remove.push(e):i&&r&&E.a.removeElementFromArray(this.serviceUpdate.remove,e):this.serviceUpdate.add.push(e);var s=this.props.parent.dataWrapper.getAllExcludesForSelectedServices(g.b.vodafone,[e]);s&&(a||i?a&&this.serviceUpdate.bookable.forEach(function(e){e.disabled=!1}):s.forEach(function(e){var n=t.serviceUpdate.bookable.findIndex(function(t){return t.id==e});-1!==n&&(t.serviceUpdate.bookable[n].disabled=!0)}))}}}},{key:"prepareServices",value:function(){var e=this,t=new ue,n=l.from(_.a.getBrands()).where(function(t){return t.id==e.activtion.brandKey}).first();if(this.props.parent.data.customer.contracts&&this.props.parent.data.customer.contracts[0].bookedProduct&&this.props.parent.data.customer.contracts[0].bookedProduct.services){var a=this.props.parent.data.customer.contracts[0].bookedProduct.id,r=this.props.parent.data.customer.contracts[0].bookedProduct.sub,i=this.props.parent.data.customer.contracts[0].bookableServices||[],s=this.props.parent.data.customer.contracts[0].bookedProduct.services,o=l.from(n.products).where(function(e){return e.id==a}).firstOrDefault(),c=[];if(o){var u=l.from(o.subs).where(function(e){return e.id===r}).firstOrDefault();if(n.id==g.b.vodafone&&(u=l.from(o.subs).where(function(e){return e.id===r&&e.b==y.e.bookService}).firstOrDefault()),u){l.from(n.services).where(function(e){return e.type===y.v.option}).select(function(e){return e.id}).toArray();if(c=l.from(u.sl).where(function(e){return-1==s.indexOf(e.id)&&i.indexOf(e.id)>=0}).select(function(e){var t=l.from(n.services).where(function(t){return t.id==e.id}).first();return{id:t.id,name:t.name,booked:!1,mandatory:t.mandatory,tooltip:t&&t.tooltip?t.tooltip:""}}).where(function(e){return!e.mandatory}).toArray(),n.id===g.b.vodafone){var d=this.props.parent.data.customer.contracts&&this.props.parent.data.customer.contracts[0].bookedProduct?this.props.parent.data.customer.contracts[0].bookedProduct.services:[],p=l.from(u.sl).select(function(e){return e.id}).toArray(),m=this.props.parent.dataWrapper.getAllExcludesForSelectedServices(g.b.vodafone,d);p&&p.forEach(function(e){if(-1==d.indexOf(e)&&-1==m.indexOf(e)){var t=l.from(n.services).where(function(t){return t.id==e}).firstOrDefault()||{name:"",tooltip:""},a={id:e,name:t?t.name:e,booked:!1,tooltip:t.tooltip?t.tooltip:""};c.push(a)}})}}}s.map(function(e,a){var r=l.from(n.services).where(function(t){return t.id==e}).firstOrDefault(),i={id:e,name:r?r.name:e,booked:!0,tooltip:r&&r.tooltip?r.tooltip:""};t.booked.push(i)}),n.id!==g.b.otelo||o||(c=l.from(n.services).where(function(e){return-1==s.indexOf(e.id)&&i.indexOf(e.id)>=0}).select(function(e){return{id:e.id,name:e.name,booked:!1,mandatory:e.mandatory,tooltip:e&&e.tooltip?e.tooltip:""}}).where(function(e){return!e.mandatory}).toArray()),c.map(function(e,n){t.bookable.push(e)})}return t}},{key:"renderPopup",value:function(){var e={title:k.a.requestInProcess,closable:this.state.status!==b.ERequestStatus.running,visible:this.state.status!==b.ERequestStatus.undefined&&this.state.status!==b.ERequestStatus.done,id:"existingCustomerServiceUpdate",type:f.a.pleaseWait,onDismiss:this.onDismissPopup},t=d.createElement(d.Fragment,null);if(this.lastApi&&this.lastApi.status!=ne.EApiResponseStatus.ok){var n=JSON.parse(this.lastApi.data),a=I.a.parseSummary(this.lastApi,n);e.closable=!0,e.visible=!0,e.type=f.a.info,t=d.createElement("div",null,a.message)}return le.a.GetPopup(e,t,void 0)}},{key:"renderPopupConfirmService",value:function(){var e=this,t={title:k.h.serviceAddRemove,closable:!0,id:"addRemoveServicesPopup",visible:!1,height:200,textPositive:k.h.yes,textNegative:k.h.no,type:f.a.confirmCustom,onDismiss:function(){e.setState({confirmAddRemove:!1})},onNegative:function(){e.setState({confirmAddRemove:!1})},onPositive:function(){e.serviceUpdate.canUpdate()?e.setState({confirmAddRemove:!1},function(){e.onSave()}):e.setState({confirmAddRemove:!1})}},n=d.createElement("div",null,"Buchen von Optionen ist Kostenpflichtig.");return this.serviceUpdate.canUpdate()||(t.textPositive="OK",t.textNegative="",n=d.createElement("div",null,"Keine Korrekturen")),this.state.confirmAddRemove&&(t.visible=!0),le.a.GetPopup(t,n,void 0)}},{key:"socketCallback",value:function(e){var t=JSON.parse(e.data);this.lastApi=t;var n=t.data;if(t.error)this.setState({status:b.ERequestStatus.failed});else if(null!=n){var a=JSON.parse(n.data);JSON.parse(a.steps[0].message);_.a.addOrder(this.props.parent.data),this.setState({status:b.ERequestStatus.done})}}}]),t}(d.Component);de.containerId="existingCustomerServices";var pe=de,me=n(21),he=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).current={activateByCustomer:1,name:"",price:{price:0,unit:""},id:""},n.priceFormated="",n.state={simSelected:!1,actByCustomer:!1,actUponReceipt:!0,procedeButtonState:!0},n}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props.parent.data.customer.contracts,n=d.createElement(d.Fragment,null,d.createElement(v.j,{type:b.ELButtonType.linkSimple,text:k.h.backToCustomerDataSheet,css:"action3 fr",onClick:function(){e.props.parent.onBackToCustomer(!1)}})),a={title:k.h.orderReplacementSIM,transparent:!1,style:"",collapsible:!1,collapsed:!1,action:n},r=(d.Fragment,"a1 fr");return!0===this.state.procedeButtonState?r+=" disabled":r="ai fr",d.createElement("div",null,d.createElement(S.a,{config:a},d.createElement(p.a,null,d.createElement(m.a,null,d.createElement(h.a,{md:4},d.createElement(me.f,{type:b.EControlType.info,style:"merged",label:k.h.pleaseSelectSIM}))),d.createElement(m.a,null,d.createElement(h.a,{md:4},t.map(function(t,n){return e.renderSim(t)}))),d.createElement(m.a,null,d.createElement(h.a,{md:10},d.createElement(v.l,{type:b.EControlType.textArea,name:"",id:"",style:"black"}),d.createElement(v.l,{type:b.EControlType.info,label:k.g.simReplaceHint,isHtml:!0}))),d.createElement(m.a,null,d.createElement(h.a,{md:6},d.createElement(v.l,{type:b.EControlType.radio,onChange:function(t){e.activationChange(t)},name:"",id:"ByCustomer",value:"",checked:this.state.actByCustomer,label:k.h.activationByCustomerUponReceipt})),d.createElement(h.a,{md:4},d.createElement(v.l,{type:b.EControlType.radio,onChange:function(t){e.activationChange(t)},name:"",id:"byOperator",value:"",checked:this.state.actUponReceipt,label:k.h.cardActivatedSent}))),d.createElement(m.a,null,d.createElement(h.a,{md:10},d.createElement(v.l,{type:b.EControlType.textArea,name:"",id:"",style:"black"})," ","Hinweis:",d.createElement("br",null),"Durch diese Auswahl wird die aktuelle Sim-Karte des Kunden nach Bestellung sofort gesperrt.",d.createElement("br",null),"Diese Auswahl ist empfehlenswert bei Diebstahl oder Verlust der Sim-Karte.")),d.createElement(m.a,null,d.createElement(h.a,{xs:12,md:12},d.createElement(v.j,{type:b.ELButtonType.buttonWithIconRight,css:r,id:"buttonOrderSim",text:k.h.orderReplForaFee,onClick:function(){var t={props:{id:"dynamicPopup",title:"SIM Karte wird verarbeitet",visible:!0,closable:!1,type:f.a.pleaseWait},content:d.createElement("div",null,k.k.customerData)};void 0!==e.props.parent.data.customer&&void 0!==e.props.parent.data.customer.contracts&&void 0!==e.props.parent.data.customer.contracts[0].simCards&&(e.props.parent.data.customer.contracts[0].simCards[0]=e.current),e.props.parent.processCustomer(function(){E.a.hub.send('{ "type": '+b.ERequestType.customerOrderSim+', "sim": {"sim": "'+e.current.id+'","activated": "'+(1==e.current.activateByCustomer?1:2)+'"}, "brandKey": "'+(e.props.parent.data.customer.contracts?e.props.parent.data.customer.contracts[0].brandKey:"")+'", "id": "'+e.props.parent.data.id+'"  }',b.ERequestType.customerOrderSim,void 0)},t)}}))))))}},{key:"renderSim",value:function(e){for(var t=this,n=e.simCards,a=d.createElement(d.Fragment,null),r=0;r<n.length;r++){var i=n[r],s=i.price.price.toString().substring(1,2)+"."+i.price.price.toString().substring(1,3)+" "+i.price.unit;this.priceFormated=s}return n.map(function(e,n){return a=d.createElement(m.a,null,d.createElement(h.a,{md:4},d.createElement(O.a,{key:e.id,id:e.id,text:e.name+"\n\xa0"+t.priceFormated,tooltip:"Bitte w\xe4hlen Sie eine SIM Karte aus.",tooltipModel:"",idx:n,brandKey:"",selected:t.state.simSelected,styleBrand:!1,cssStyle:t.state.simSelected?"selected":"",onClick:function(){return t.simChange(e)}})))}),a}},{key:"activationChange",value:function(e){"ByCustomer"===e.id?(this.current.activateByCustomer=1,this.setState({actByCustomer:!0,actUponReceipt:!1})):(this.current.activateByCustomer=2,this.setState({actByCustomer:!1,actUponReceipt:!0}))}},{key:"simChange",value:function(e){this.current.id=e.id,!1===this.state.simSelected?(void 0!==this.props.parent.data.customer&&void 0!==this.props.parent.data.customer.contracts&&void 0!==this.props.parent.data.customer.contracts[0].simCards&&(this.current=this.props.parent.data.customer.contracts[0].simCards[0],this.current.activateByCustomer=1),this.setState({simSelected:!0,procedeButtonState:!1})):(this.current={activateByCustomer:1,name:"",price:{price:0,unit:""},id:""},this.setState({simSelected:!1,procedeButtonState:!0}))}}]),t}(d.Component),ve=n(66),fe=n(58),be=n(33),ye=n(97),ge=function e(){Object(a.a)(this,e)};ge.simOnly="SIM";var Ee,ke=ge,Ce=n(120),_e=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).current=void 0,n.businessCase=void 0,n.processParent=void 0,n.availableProducts=void 0,n.onSelectTariff=n.onSelectTariff.bind(Object(c.a)(Object(c.a)(n))),n.onSelectOption=n.onSelectOption.bind(Object(c.a)(Object(c.a)(n))),n.onSelectSub=n.onSelectSub.bind(Object(c.a)(Object(c.a)(n))),n.businessCase=n.props.businessCase,n.processParent=b.OrderDataWrapper.getParentOfProcess(n.props.activation.processId),n.props.activation.activationType===y.c.existingCustomer&&n.props.activation.brandKey===g.b.vodafone&&(n.businessCase=y.e.bnt),n.availableProducts=n.props.availableProducts,n.props.activation.activationType===y.c.bookService&&(n.availableProducts=l.from(n.props.brand.products).where(function(e){return e.id===n.props.activation.productId}).toArray()),n.state={selection:n.props.selection,changed:!1,canChangeProduct:!(n.props.activation.activationType===y.c.bookService),canChangeSub:!(n.props.activation.activationType===y.c.bookService)},n}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=d.createElement(d.Fragment,null,d.createElement(v.j,{type:b.ELButtonType.linkSimple,text:k.h.backToCustomerDataSheet,css:"action3 fr",onClick:function(){e.props.backToCustomer&&e.props.backToCustomer()}})),n={title:k.k.activationBNTTariff,transparent:!1,action:t},a=[];return this.processParent.customer.contracts&&this.processParent.customer.contracts[0].bookedProduct&&(a=this.processParent.customer.contracts[0].bookedProduct.services),this.current=l.from(this.availableProducts).where(function(t){return t.id===e.props.activation.productId}).firstOrDefault(),d.createElement(S.a,{config:n},d.createElement(d.Fragment,null),this.props.activation.brandKey===g.b.vodafone?d.createElement(d.Fragment,null,this.renderCurrent(this.props.action),d.createElement("div",{className:"spacer-big clear"})):d.createElement(d.Fragment,null),this.renderGroups(),this.props.activation.inCurrent?d.createElement(d.Fragment,null):d.createElement(d.Fragment,null,d.createElement("div",{className:"spacer-big clear"}),this.current&&this.current.creditDebitType||this.props.activation.activationType===y.c.bookService?this.renderSub():d.createElement(d.Fragment,null),d.createElement("div",{className:"spacer-big clear"}),this.props.brand.id===g.b.vodafone?d.createElement(be.i,{activation:this.props.activation,bc:y.e.vvl,preselected:a,blockAddRemove:this.props.activation.activationType==y.c.bookService,canEdit:!0,onChanged:function(){e.props.onConfigurationChanged()},brand:this.props.brand}):d.createElement(d.Fragment,null,this.props.activation&&this.props.activation.brandKey!=g.b.kabel?this.renderPromotions():null,d.createElement("div",{className:"spacer-big clear"}),this.renderOptions(),d.createElement("div",{className:"spacer-big clear"}))))}},{key:"renderCurrent",value:function(e){return e&&(e.type!=Ce.c.STD||e.name.toLowerCase().indexOf("tarifwechsel")>=0)?d.createElement(d.Fragment,null):this.processParent.customer.contracts&&this.processParent.customer.contracts[0].bookedProduct&&"OS"==this.processParent.customer.contracts[0].bookedProduct.sub?d.createElement(d.Fragment,null):d.createElement("div",null,d.createElement(O.a,{key:"current-tar",id:g.d.current,text:k.k.prolongateCurrentTariff,idx:0,brandKey:this.props.brand.id,selected:!!this.props.activation.inCurrent,styleBrand:!1,cssStyle:this.props.activation.inCurrent?"selected":"",onClick:this.onSelectTariff}))}},{key:"renderSub",value:function(){var e=this;if(!this.current||!this.current.subs)return d.createElement(d.Fragment,null);var t=l.from(this.current.subs).join(this.props.brand.subs,function(e){return e.id},function(e){return e.id},function(e,t){return{CS:e,BS:t}}).orderBy(function(e){return e.BS.sort}).select(function(e){return e.CS.id}).toArray();this.props.activation.isNba()&&(t=[this.props.activation.sub]),this.props.activation.brandKey===g.b.otelo&&this.props.selection&&this.props.businessCase===y.e.bnt&&this.props.selection.creditDebitType===y.f.postpaid&&0===l.from(t).where(function(e){return e===ke.simOnly}).count()&&t.push(ke.simOnly),this.props.activation.activationType===y.c.bookService&&(t=[this.props.activation.sub]);var n=[];return t=l.from(t).distinct().toArray(),this.props.activation.brandKey===g.b.vodafone&&this.props.action&&this.props.action.type==Ce.c.STD&&t.splice(0,0,"OS"),t.map(function(t,a){var r=l.from(e.props.brand.subs).where(function(e){return e.id===t}).first(),i=d.createElement(O.a,{id:t,text:J.a.getSub(e.props.brand,t).name,key:a,idx:a,tooltip:r.tooltip,tooltipModel:t,brandKey:e.props.brand.id,selected:!1,styleBrand:!1,cssStyle:e.props.activation.sub===t?"selected sub "+e.props.brand.id:"sub "+e.props.brand.id,onClick:e.onSelectSub});n.push(i)}),d.createElement(d.Fragment,null,d.createElement("div",{className:"subtitle"},k.k.sub),n)}},{key:"renderGroups",value:function(){var e=this,t=this.state.selection.creditDebitType,n=this.state.selection.customerType,a=this.state.selection.activationType,r=l.from(this.availableProducts).select(function(e){return e.id}).toArray(),i=l.from(J.a.filterProducts(this.props.brand.id,this.props.brand.products,this.businessCase)).where(function(e){return(e.creditDebitType&t)===t&&e.bookable&&(e.customerType&n)===n&&(e.activationType&a)===a}).where(function(e){return r.indexOf(e.id)>=0}).select(function(e){return{familyName:e.familyName,familySort:e.familySort}}).distinct().orderBy(function(e){return e.familySort}).select(function(e){return e.familyName}).distinct().toArray();return this.props.activation.activationType===y.c.bookService&&(i=l.from(this.props.brand.products).where(function(t){return t.id===e.props.activation.productId}).select(function(e){return{familyName:e.familyName,familySort:e.familySort}}).distinct().orderBy(function(e){return e.familySort}).select(function(e){return e.familyName}).distinct().toArray()),d.createElement(d.Fragment,null,i.map(function(t,n){return e.renderGroup(t,n)}))}},{key:"renderGroup",value:function(e,t){var n=this,a=this.state.selection?this.state.selection.creditDebitType:y.f.postpaid,r=this.state.selection?this.state.selection.customerType:y.g.personal,i=this.state.selection?this.state.selection.activationType:y.c.actDefault,s=l.from(this.availableProducts).select(function(e){return e.id}).toArray(),o=l.from(J.a.filterProducts(this.props.brand.id,this.props.brand.products,this.businessCase)).where(function(t){return t.familyName===e&&(t.creditDebitType&a)===a&&t.bookable&&(t.customerType&r)===r&&(t.activationType&i)===i}).where(function(e){return s.indexOf(e.id)>=0}).orderBy(function(e){return e.sort}).toArray();if(this.props.activation.isNba()&&(o=l.from(o).where(function(e){return e.id==n.props.activation.productId}).toArray()),this.props.activation.activationType===y.c.bookService)o=l.from(this.props.brand.products).where(function(e){return e.id===n.props.activation.productId}).toArray();return 0===o.length?d.createElement(d.Fragment,null):d.createElement("div",{key:t},d.createElement("div",{className:"subtitle"},e),o.map(function(e,t){return d.createElement(O.a,{key:t,id:e.id,text:e.name,tooltip:e.tooltip,tooltipModel:e,idx:t,brandKey:n.props.brand.id,selected:e.id===n.props.activation.productId&&!n.props.activation.inCurrent,styleBrand:!1,cssStyle:n.props.activation.productId!==e.id||n.props.activation.inCurrent?"":"selected",onClick:n.onSelectTariff})}),d.createElement(v.k,null))}},{key:"renderPromotions",value:function(){var e=this,t=d.createElement("div",{className:"subtitle"},k.h.noPromotions);return this.current&&function(){var n=new ye.a(e.props.brand.id,e.current),a=l.from(e.current.subs).where(function(t){return t.id==e.props.activation.sub}).firstOrDefault();if(l.from(n.getServices(e.props.activation,e.props.businessCase,!1)).toArray().length>0){for(var r=[],i=function(t){var n=l.from(e.props.brand.services).where(function(e){return e.id===a.sl[t].id&&e.type==y.v.promotion}).firstOrDefault();n&&r.push(d.createElement(v.l,{type:b.EControlType.checkbox,label:n.name,key:t,id:n.id,onChange:e.onSelectOption,hideHint:!0,hideTitle:!1}))},s=0;s<a.sl.length;s++)i(s);t=d.createElement(d.Fragment,null,d.createElement("div",{className:"subtitle"},"Optionale Promotion"),r)}}(),t}},{key:"renderOptions",value:function(){var e=this,t=d.createElement("div",{className:"subtitle"},k.h.noOptions);if(this.current){var n=this.getSelectableServices();if(this.props.activation){var a,r,i=function(){var i=new ye.a(e.props.activation.brandKey,e.current),s=[];if(s=e.businessCase===y.e.bnt?e.props.activation.brandKey==g.b.kabel?n:l.from(i.getServices(e.props.activation,e.businessCase,!1)).where(function(e){return n.indexOf(e)>=0}).toArray():n,e.props.activation.availability=_.a.getAvailability(),s.length>0){for(var o=e.props.brand.services,c=[],u=function(t){var n=l.from(o).where(function(e){return e.id==s[t]&&e.type===y.v.option}).firstOrDefault();if(n){if(e.current&&e.props.activation&&e.props.activation.availability&&e.props.brand.id===g.b.dsl&&(a=l.from(e.props.activation.availability.brands).where(function(t){return t.key===e.props.activation.brandKey}).first(),(r=l.from(a.products).where(function(t){return t.productId===(e.current?e.current.id:"")}).firstOrDefault())&&!r.hasComfort&&"svc_dsl_comfort"===n.id))return"continue";var i=n.name+"",u="cb-"+n.id;c.push(d.createElement(v.l,{type:b.EControlType.checkbox,disabled:e.serviceDisabled(n.id),name:u,label:i+":"+n.id,key:t,id:n.id,hideHint:!0,checked:e.props.activation.services.indexOf(n.id)>=0,onChange:e.onSelectOption}))}},p=0;p<s.length;p++)u(p);return{v:t=d.createElement(d.Fragment,null,c)}}}();if("object"===typeof i)return i.v}}return t}},{key:"getSelectableServices",value:function(){var e=this,t=[];if(this.businessCase===y.e.bnt)t=J.a.filterServices(this.props.brand,this.props.activation?this.props.activation:new b.IActivation(this.props.brand.id),y.v.option);else if(this.props.action){var n=l.from(this.props.action.products).where(function(t){return t.id===e.props.activation.productId}).first(),a=l.from(n.subs).where(function(t){return t.id===e.props.activation.sub}).firstOrDefault();a&&(t=l.from(a.sl).select(function(e){return e.id}).toArray())}return t}},{key:"onSelectTariff",value:function(e){var t=this;this.state.canChangeProduct&&(this.props.activation.isNba()||(this.props.activation.servicesRemove=[],this.props.activation.productId=e,this.current=l.from(this.availableProducts).where(function(e){return e.id===t.props.activation.productId}).firstOrDefault(),this.props.activation.resetSeetedsubsAndServices(),e==g.d.current?this.processParent.customer.contracts&&this.processParent.customer.contracts[0].bookedProduct&&(this.props.activation.productId=this.processParent.customer.contracts[0].bookedProduct.id,this.props.activation.sub=this.processParent.customer.contracts[0].bookedProduct.sub,this.props.activation.inCurrent=!0):this.props.activation.inCurrent=!1,_.a.updateActivation(this.props.activation),this.props.onConfigurationChanged&&this.props.onConfigurationChanged(e),this.setState({changed:!0})))}},{key:"onSelectSub",value:function(e){this.state.canChangeSub&&(this.props.activation.servicesRemove=[],this.props.activation.sub=e,_.a.updateActivation(this.props.activation),this.props.onConfigurationChanged&&this.props.onConfigurationChanged(e))}},{key:"onSelectOption",value:function(e){e.checked?this.props.activation&&this.props.activation.addService(e.id,void 0):this.props.activation&&this.props.activation.removeService(e.id,void 0),_.a.updateActivation(this.props.activation),this.setState({changed:!0})}},{key:"serviceDisabled",value:function(e){return this.props.activation.validateService(e)}}]),t}(d.Component),Oe=n(64),Se=n(121),we=n(167);n.d(t,"a",function(){return Ee}),function(e){e[e.main=0]="main",e[e.sim=1]="sim",e[e.imei=2]="imei",e[e.belatedPorting=3]="belatedPorting",e[e.cancellation=4]="cancellation"}(Ee||(Ee={}));var xe=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).modelState=new P.a,n.data=void 0,n.dataWrapper=void 0,n.brand=void 0,n.processId="",n.parentId="",n.progress=y.p.tariff,n.lastApi=void 0,n.processPopupState=f.a.pleaseWait,n.dynamicPopup=void 0,n._imeiCancel=function(){n.setState({dataMode:Ee.main})},n.state={changed:!1,processing:!1,loading:!1,closablePopup:!1,apiMessage:"",clear:!1,dataMode:e.dataMode,showConsentPopUp:!1},n.onConfigurationChanged=n.onConfigurationChanged.bind(Object(c.a)(Object(c.a)(n))),n.onChangeHardware=n.onChangeHardware.bind(Object(c.a)(Object(c.a)(n))),n.onNext=n.onNext.bind(Object(c.a)(Object(c.a)(n))),n.onBack=n.onBack.bind(Object(c.a)(Object(c.a)(n))),n.refresh=n.refresh.bind(Object(c.a)(Object(c.a)(n))),n.onBackToCustomer=n.onBackToCustomer.bind(Object(c.a)(Object(c.a)(n))),n.onDismissProcessPopup=n.onDismissProcessPopup.bind(Object(c.a)(Object(c.a)(n))),n.onDismissValidation=n.onDismissValidation.bind(Object(c.a)(Object(c.a)(n))),n._imeiCancel=n._imeiCancel.bind(Object(c.a)(Object(c.a)(n))),n.openImei=n.openImei.bind(Object(c.a)(Object(c.a)(n))),n.data=_.a.getOrder(n.props.id),n.dataWrapper=new b.OrderDataWrapper(n.data),n.brand=u.a.from(_.a.getBrands()).where(function(e){return e.id===n.data.activations[0].brandKey}).first(),n}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;this.processId=e.id,this.setState({clear:!0},function(){t.setState({changed:!0,clear:!1})})}},{key:"render",value:function(){var e=this;if(this.state.clear)return d.createElement(d.Fragment,null);this.processId=this.props.id,this.data=_.a.getOrder(this.processId),this.dataWrapper=new b.OrderDataWrapper(this.data);_.a.getOrders();E.a.easyApp.setTitle(k.h.existingCustomerActivation),b.OrderDataWrapper.ensure(this.data),this.brand=u.a.from(_.a.getBrands()).where(function(t){return t.id===e.data.activations[0].brandKey}).first(),this.data.customer.action&&E.a.easyApp.setTitle(this.data.customer.action.name),this.parentId=this.data.parentId?this.data.parentId:"";var n=d.createElement(d.Fragment,null);return this.dynamicPopup&&(this.dynamicPopup.props.onDismiss=function(){e.dynamicPopup=void 0,e.setState({changed:!0,processing:!1,closablePopup:!1})},n=le.a.GetPopup(this.dynamicPopup.props,this.dynamicPopup.content,this.dynamicPopup.action)),d.createElement("div",{id:t.containerId},d.createElement(v.f,{style:"   "},d.createElement(v.h,null,"undefined Process"===this.data.activations[0].processId?d.createElement(we.a,{data:{code:404}}):d.createElement(d.Fragment,null,n,this.renderProgress())),d.createElement(d.Fragment,null)))}},{key:"getCurrent",value:function(){return this.data}},{key:"refresh",value:function(){this.setState({changed:!0})}},{key:"getProgress",value:function(){return window.location.href.indexOf("/"+k.j.done+"/")>0?y.p.done:window.location.href.indexOf("/"+k.j.tariff+"/")>0?y.p.tariff:y.p.dashboard}},{key:"socketCallback",value:function(e){var t=e.data,n="string"==typeof t?JSON.parse(t):t;this.lastApi=n;var a=I.a.parseSummary(n,void 0);if(n&&!n.error){if(this.dynamicPopup){if(this.dynamicPopup.closeOnDone&&(this.dynamicPopup.props.visible=!1),this.dynamicPopup.props.closable=!0,this.dynamicPopup.props.type=f.a.info,this.dynamicPopup.content=d.createElement("div",null,"Erfolgreich ausgef\xfchrt"),!this.dynamicPopup.callback){try{var r=JSON.parse(n.data.data);this.data=JSON.parse(r.steps[0].message)}catch(o){this.data=n.data}_.a.addOrder(this.data)}if(e.type===b.ERequestType.customerGetCanellation){this.lastApi=void 0;var i=b.OrderDataWrapper.createProcess(y.e.cancel,y.c.cancellation,this.data,void 0);C.a.route({url:"/customer/cancellation/"+i.id,title:k.a.cancel})}else if(e.type===b.ERequestType.customerChangePayment){E.a.GetComponent(A.containerId).switchMode(b.EFormMode.view)}else if(e.type===b.ERequestType.customerChangeData||e.type===b.ERequestType.customerChangePassword){E.a.GetComponent(oe.containerId).switchMode(b.EFormMode.view)}else if(e.type===b.ERequestType.customerChangeRemoveService||e.type===b.ERequestType.customerChangeAddService||e.type===b.ERequestType.customerChangeAddRemoveServices){E.a.GetComponent(pe.containerId).switchMode(b.EFormMode.view)}else this.dynamicPopup.callback&&this.dynamicPopup.callback(this.lastApi);return this.dynamicPopup.closeOnDone&&(this.dynamicPopup=void 0),void this.setState({processing:!1,closablePopup:void 0!=this.dynamicPopup,apiMessage:a.message})}var s=this.data.customer.action?this.data.customer.action.name:"";_.a.updateActivation(n.data.activations[0]),C.a.routeUrl({url:"/customer/"+k.j.done+"/"+this.processId,title:s+" "+b.OrderDataWrapper.getMsisdnFromContract(this.data)}),this.setState({changed:!0,processing:!1})}else this.dynamicPopup&&(this.dynamicPopup.props.closable=!0,this.dynamicPopup.props.type=f.a.info,this.dynamicPopup.content=d.createElement("div",{dangerouslySetInnerHTML:{__html:a.message}})),this.processPopupState=f.a.custom,this.setState({processing:!1,closablePopup:!0,apiMessage:a.message}),n.validation&&I.a.applyValidation(n)}},{key:"applyAvailability",value:function(){this.setState({changed:!0})}},{key:"processCustomer",value:function(e,t){var n=this;this.dynamicPopup=t,t.props.onDismiss=function(){n.dynamicPopup=void 0},this.setState({changed:!0},function(){e()})}},{key:"resetDynamicPopup",value:function(e){this.dynamicPopup=void 0,this.setState({changed:!0}),e&&e()}},{key:"openImei",value:function(e){C.a.route({url:"/customer/imei/"+this.data.id,title:k.h.imei})}},{key:"onBackToCustomer",value:function(){var e=this;!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?_.a.removeOrder(this.data.id,function(){C.a.route({url:"/customer/dashboard/"+e.data.parentId,title:k.h.existingCustomerActivation})}):C.a.route({url:"/customer/dashboard/"+this.data.id,title:k.h.existingCustomerActivation})}},{key:"renderProgress",value:function(){if(this.progress=this.getProgress(),this.progress!==y.p.dashboard){var e=d.createElement(be.h,{progress:this.progress,states:[k.j.tariff,k.j.done]});E.a.easyApp.head&&E.a.easyApp.head.appendSub(e)}return this.props.dataMode===Ee.sim?this.renderSimReplace():this.props.dataMode===Ee.cancellation?this.renderCancellation():this.props.dataMode===Ee.belatedPorting?this.renderBelatedportingReplace():this.props.dataMode===Ee.imei?this.renderImei():(this.data.type!=y.e.bnt&&this.dataWrapper.getAllActivationsDone()&&(this.progress=y.p.done),this.progress===y.p.dashboard?this.rednerDashboard():this.progress===y.p.done?this.renderDone():this.renderTariff())}},{key:"rednerDashboard",value:function(){return d.createElement(d.Fragment,null,d.createElement(G,{parent:this}),d.createElement(Y,{parent:this}),d.createElement(w,{parent:this}),d.createElement(ce,{parent:this,brand:this.brand}),d.createElement(ee,{parent:this}),d.createElement(oe,{parent:this}),d.createElement(pe,{parent:this}),this.brand.id===g.b.otelo?d.createElement(N,{parent:this}):null,this.brand.id===g.b.otelo?d.createElement(ie,{parent:this,collapsed:!1}):null)}},{key:"renderImei",value:function(){var e=b.OrderDataWrapper.getMsisdnFromContract(this.data);return d.createElement(d.Fragment,null,d.createElement(G,{parent:this}),d.createElement(Se.b,{uploadType:Se.a.Manual,parent:this,msisdn:e,onCancel:this._imeiCancel}))}},{key:"renderSimReplace",value:function(){return d.createElement(d.Fragment,null,d.createElement(G,{parent:this}),d.createElement(he,{parent:this}))}},{key:"renderCancellation",value:function(){return d.createElement(d.Fragment,null,d.createElement(G,{parent:this}),d.createElement(M.a,{onChange:!0,parent:this}))}},{key:"renderBelatedportingReplace",value:function(){return d.createElement(d.Fragment,null,d.createElement(G,{parent:this}),d.createElement(x.a,{onChange:!0,parent:this}))}},{key:"renderDone",value:function(){var e=this,t=b.OrderDataWrapper.ensureActivationIsObject(this.data.activations[0]),n=new Oe.a(this.dataWrapper.data);return d.createElement(d.Fragment,null,d.createElement(ve.b,{customer:this.dataWrapper.data.customer,parentRefresh:function(){_.a.addOrder(e.dataWrapper.data),e.setState({changed:!0})}}),d.createElement(fe.b,{key:"pc-"+t.id,bc:y.e.vvl,ah:n.items[0],customer:this.data.customer,preview:!1,refreshParent:function(){e.setState({changed:!0})}}),this.renderAction())}},{key:"renderTariff",value:function(){var e=this.data.customer.contracts&&this.data.customer.contracts[0].bookedProduct?this.data.customer.contracts[0].bookedProduct.id:"",t={businessCase:y.e.vvl,creditDebitType:y.f.postpaid,activationType:y.c.actDefault,customerType:y.g.personal};return d.createElement(d.Fragment,null,d.createElement(me.g,{type:this.processPopupState,visible:this.state.processing||this.state.closablePopup,closable:this.state.closablePopup,id:"wait",title:k.h.pleaseWait,height:200,onDismiss:this.onDismissProcessPopup},d.createElement(me.h,null,d.createElement("div",null,this.state.apiMessage),d.createElement(d.Fragment,null)),d.createElement(d.Fragment,null)),d.createElement(me.g,{type:f.a.custom,visible:!this.modelState.isValid(),closable:!0,id:"validate",title:k.m.titleValidationError,height:200,onDismiss:this.onDismissValidation},d.createElement(me.h,null,d.createElement("div",null,this.modelState.errorMessage),d.createElement(v.k,null)),d.createElement(d.Fragment,null)),d.createElement(G,{parent:this}),d.createElement(_e,{brand:this.brand,businessCase:this.data.customer.action?this.data.customer.action.bc:y.e.vvl,activation:this.data.activations[0],selection:t,selectedTariff:e,action:this.data.customer.action,backToCustomer:this.onBackToCustomer,availableProducts:b.OrderDataWrapper.getAvailableProducts(this.brand,this.data.customer.action,this.data.customer,this.data.customer.action?this.data.customer.action.bc:y.e.vvl),onConfigurationChanged:this.onConfigurationChanged}),d.createElement(be.d,{preview:!1,activation:this.data.activations[0],onChange:this.onChangeHardware}),this.renderAction())}},{key:"onConfigurationChanged",value:function(){this.setState({changed:!0})}},{key:"onDismissProcessPopup",value:function(){this.setState({processing:!1,closablePopup:!1})}},{key:"onDismissValidation",value:function(){this.modelState.reset(),this.setState({changed:!0})}},{key:"onChangeHardware",value:function(e){this.data.activations[0].imei=e.value,_.a.updateActivation(this.data.activations[0]),this.setState({changed:!0})}},{key:"onNext",value:function(e){if(this.validate()){var t=JSON.parse(JSON.stringify(this.data));t.customer.contracts=[],t.customer.contracts.map(function(e){e.actions=[]}),E.a.hub.send(JSON.stringify(e||t),b.ERequestType.createCustomerProcess,void 0),this.setState({processing:!0,apiMessage:""})}}},{key:"validate",value:function(){return this.modelState.reset(),this.modelState=P.d.startExistingProcessValidation(this.data.activations[0]),!!this.modelState.isValid()||(this.setState({changed:!0}),!1)}},{key:"onBack",value:function(){var e=this,t=this.getProgress(),n=this.data.customer.action?this.data.customer.action.name:"";this.data.activations[0].activationType!=y.c.bookService?t==y.p.done?C.a.route({url:"/customer/"+k.j.tariff+"/"+this.processId,title:n+" "+b.OrderDataWrapper.getMsisdnFromContract(this.data)}):t===y.p.tariff&&_.a.removeOrder(this.processId,function(){C.a.route({url:"/customer/"+k.j.dashboard+"/"+e.parentId,title:k.h.existingCustomerActivation})}):_.a.removeOrder(this.processId,function(){C.a.route({url:"/customer/"+k.j.dashboard+"/"+e.parentId,title:k.h.existingCustomerActivation})})}},{key:"renderAction",value:function(){var e=this.getProgress();return this.data.type!=y.e.bnt&&this.dataWrapper.getAllActivationsDone()?d.createElement(d.Fragment,null):d.createElement(p.a,{className:"container-action"},d.createElement(m.a,null,this.data.activations[0].isActivated()?d.createElement(h.a,{xs:4,md:4},d.createElement(v.j,{text:k.h.backToCustomer,onClick:this.onBackToCustomer,type:b.ELButtonType.linkSimple,css:"action3",icon:"chevron"})):d.createElement(h.a,{xs:4,md:4},d.createElement(v.j,{text:k.h.back,onClick:this.onBack,type:b.ELButtonType.linkSimple,css:"action3",icon:"chevron"})),e!=y.p.done?d.createElement(h.a,{xs:8,md:8,className:"toright"},d.createElement(v.j,{text:"WEITER ZUR \xdcBERSICHT",onClick:this.onNext,css:"fr",type:b.ELButtonType.buttonWithIconRight,icon:"arrow-right"})):null))}}]),t}(d.Component);xe.containerId="existingCustomer",xe.uri="/customer/dashboard/";t.b=xe},105:function(e,t,n){"use strict";var a=n(317),r=n(123),i=n(318),s=n(219),o="OPEN_POPUP",c="OPEN_SCREEN",l={popup:null,screen:null};var u=function(e){return console.log("action1!!!!"),{type:o,payload:e}},d=function(e){return console.log("action2!!!!"),{type:c,payload:e}};n.d(t,"c",function(){return m}),n.d(t,"b",function(){return h}),n.d(t,"a",function(){return v});var p=Object(r.combineReducers)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case o:return Object(s.a)({},e,{popup:a});case c:return Object(s.a)({},e,{screen:a});default:return e}}}),m=function(e){return{app:e.app}};function h(e){return{openPopup:function(t){return e(u(t))},openScreen:function(t){return e(d(t))}}}function v(){var e=[a.a],t=r.applyMiddleware.apply(void 0,e);return Object(r.createStore)(p,Object(i.composeWithDevTools)(t))}},119:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n(10),r=n(6),i=function e(){Object(a.a)(this,e),this.id="",this.countryCode="",this.prefix="",this.number="",this.telType=r.m.mobile};t.b=i},120:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"e",function(){return r}),n.d(t,"c",function(){return i}),n.d(t,"d",function(){return o}),n.d(t,"a",function(){return m}),n.d(t,"f",function(){return p}),n.d(t,"g",function(){return h});var a,r,i,s,o,c=n(10),l=n(11),u=n(9);!function(e){e[e[void 0]=0]="undefined",e[e.rot=1]="rot",e[e.gelb=2]="gelb",e[e.gruen=3]="gruen",e[e.addedRuntime=4]="addedRuntime"}(a||(a={})),function(e){e[e[void 0]=0]="undefined",e[e.view=1]="view",e[e.edit=2]="edit"}(r||(r={})),function(e){e[e[void 0]=0]="undefined",e[e.ART=1]="ART",e[e.STD=2]="STD"}(i||(i={})),function(e){e[e[void 0]=0]="undefined",e[e.high=1]="high",e[e.low=2]="low"}(s||(s={})),function(e){e[e[void 0]=0]="undefined",e[e.silver=1]="silver",e[e.gold=2]="gold",e[e.platinum=3]="platinum"}(o||(o={}));var d,p,m=function(){function e(){Object(c.a)(this,e),this.groupId="",this.numberOfOwner=0,this.numberOfMember=0,this.groupName="",this.groupStatus="",this.groupType="",this.marketCode="",this.effectiveDate=new Date,this.members=[]}return Object(l.a)(e,[{key:"getOwner",value:function(){var e=u.from(this.members).where(function(e){return e.type===p.owner}).firstOrDefault();return e||{}}},{key:"getMembers",value:function(){return u.from(this.members).where(function(e){return e.type===p.partner}).toArray()}}],[{key:"createInstanceFromJson",value:function(t){return Object.assign(new e,t)}}]),e}();!function(e){e[e.partner=0]="partner",e[e.multicard=1]="multicard"}(d||(d={})),function(e){e[e[void 0]=0]="undefined",e[e.owner=1]="owner",e[e.partner=2]="partner"}(p||(p={}));var h=function e(){Object(c.a)(this,e),this.vvlCancelable=!1,this.twCancelable=!1,this.bntCancelable=!1,this.bntReasons=[],this.cancellationTypeId=7,this.cancellationSpecialTypeId=1,this.reasonId=1,this.reason="",this.employeeName="",this.provisionRenounce=!1}},121:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a,r=n(10),i=n(11),s=n(14),o=n(12),c=n(15),l=n(7),u=n(0),d=n(42),p=n(23),m=n(19),h=n(17),v=n(21),f=n(18),b=n(3),y=n(2),g=n(25),E=n(8),k=n(1),C=n(16);!function(e){e[e.Manual=0]="Manual",e[e.List=1]="List"}(a||(a={}));var _=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(o.a)(t).call(this,e))).processPopupState=h.a.pleaseWait,n._renderManual=function(e){return u.createElement("div",{id:t.containerId},u.createElement(f.a,{config:e},u.createElement(v.g,{type:n.processPopupState,visible:n.state.processing||n.state.closblePopup,closable:n.state.closblePopup,id:"wait",title:n.state.popupTitle,height:200,onDismiss:n._onDismissProcessPopup},u.createElement(v.h,null,u.createElement("div",null,n.state.apiMessage),u.createElement(u.Fragment,null)),u.createElement(u.Fragment,null)),u.createElement(d.a,{className:"container-action"},u.createElement(p.a,null,u.createElement(m.a,{xs:12,md:12},u.createElement(b.l,{type:y.EControlType.hint,label:k.h.imeiManualDesc}))),u.createElement(p.a,null,u.createElement(m.a,{xs:6,md:6},u.createElement(b.l,{type:y.EControlType.text,value:n.state.msisdn,validationOptions:[new C.c({type:C.a.required,message:k.m.requiredError})],onChange:n._onChange,name:"msisdn",id:"msisdn",label:k.h.msisdn})),u.createElement(m.a,{xs:6,md:6},u.createElement(b.l,{type:y.EControlType.text,value:n.state.imei,validationOptions:[new C.c({type:C.a.required,message:k.m.requiredError})],onChange:n._onChange,name:"imei",id:"imei",label:k.h.imei}))),u.createElement(p.a,null,u.createElement(m.a,{xs:6,md:6}),u.createElement(m.a,{xs:6,md:6},u.createElement(b.j,{type:y.ELButtonType.buttonWithIconRight,css:"ai fr",id:"buttonSave",text:k.h.save,onClick:n._onSave})))),u.createElement(b.k,null)))},n._renderList=function(e){return u.createElement("div",{id:t.containerId},u.createElement(v.c,null,u.createElement(f.a,{config:e},u.createElement(v.g,{type:n.processPopupState,visible:n.state.processing||n.state.closblePopup,closable:n.state.closblePopup,id:"wait",title:n.state.popupTitle,height:200,onDismiss:n._onDismissProcessPopup},u.createElement(v.h,null,u.createElement("div",null,n.state.apiMessage),u.createElement(u.Fragment,null)),u.createElement(u.Fragment,null)),u.createElement(d.a,{className:"container-action"},u.createElement(p.a,null,u.createElement(m.a,{xs:12,md:12},u.createElement(b.l,{type:y.EControlType.hint,label:k.h.imeiListUploadDesc}))),u.createElement(p.a,null,u.createElement(m.a,{xs:12,md:12},u.createElement("input",{type:"file",name:"file",id:"file",accept:".csv",onChange:n._onFileChange}))),u.createElement(p.a,null,u.createElement(m.a,{xs:6,md:6}),u.createElement(m.a,{xs:6,md:6},u.createElement(b.j,{type:y.ELButtonType.buttonWithIconRight,css:"ai fr",id:"buttonSave",text:k.h.save,onClick:n._onSave})))),u.createElement(b.k,null))))},n._onFileChange=function(e){n.setState({file:e.target.files[0]})},n.state={msisdn:n.props.msisdn||"",imei:"",closblePopup:!1,apiMessage:"",processing:!1,popupTitle:""},n.props.uploadType===a.List&&E.a.easyApp.setTitle(k.h.imeiPageTitle),n._onChange=n._onChange.bind(Object(l.a)(Object(l.a)(n))),n._onFileChange=n._onFileChange.bind(Object(l.a)(Object(l.a)(n))),n._onSave=n._onSave.bind(Object(l.a)(Object(l.a)(n))),n._showPopup=n._showPopup.bind(Object(l.a)(Object(l.a)(n))),n._onDismissProcessPopup=n._onDismissProcessPopup.bind(Object(l.a)(Object(l.a)(n))),n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=u.createElement(u.Fragment,null);this.props.parent&&(t=u.createElement(b.j,{type:y.ELButtonType.linkSimple,text:k.h.backToCustomerDataSheet,css:"action3 fr",onClick:function(){e.props.parent&&e.props.parent.onBackToCustomer(!1)}}));var n={title:this.props.uploadType===a.List?k.h.imeiListUpload:k.h.imeiPageTitle,transparent:!1,styleContainer:"",action:t};u.Fragment;return this.props.uploadType===a.List?this._renderList(n):this._renderManual(n)}},{key:"socketCallback",value:function(e){if(this._onDismissProcessPopup(),e.error){var t=g.a.parseSummary(e,void 0);this.processPopupState=h.a.custom,this._showPopup(h.a.custom,"",t.message,!1,!0)}else this._showPopup(h.a.info,k.h.saveSuccess,"",!0,!0)}},{key:"_onChange",value:function(e){var t=this,n=this.state;E.a.onInput(n,e,function(){t.setState(n)})}},{key:"getBase64",value:function(e){return new Promise(function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){t(a.result)},a.onerror=function(e){n(e)}})}},{key:"_onSave",value:function(){var e=this;if(this._showPopup(h.a.pleaseWait,"","",!0,!1),this.props.uploadType===a.Manual){var t={msisdn:this.state.msisdn,imei:this.state.imei};E.a.hub.send(JSON.stringify(t),y.ERequestType.saveImei,void 0)}else this.getBase64(this.state.file).then(function(t){var n={file:t,fileName:e.state.file.name};E.a.hub.send(JSON.stringify(n),y.ERequestType.saveImeiList,void 0)})}},{key:"_showPopup",value:function(e,t,n,a,r){this.processPopupState=e,this.setState({apiMessage:n,closblePopup:r,processing:a,popupTitle:t})}},{key:"_onDismissProcessPopup",value:function(){this.setState({processing:!1,closblePopup:!1})}}]),t}(u.Component);_.containerId="imeiScreen",t.b=_},122:function(e,t,n){"use strict";var a,r=n(10),i=n(11),s=n(14),o=n(12),c=n(15),l=n(7),u=n(0),d=n(42),p=n(23),m=n(19),h=n(21),v=n(39),f=n(2),b=n(5),y=(n(274),n(4)),g=n(8),E=n(1),k=n(17),C=n(66),_=n(18),O=n(3);!function(e){e[e.Now=1]="Now",e[e.AfterContractEnd=2]="AfterContractEnd"}(a||(a={}));var S=function(e){function t(e){var n;Object(r.a)(this,t),(n=Object(s.a)(this,Object(o.a)(t).call(this,e))).processPopupState=k.a.pleaseWait,n.cfg2={title:E.k.dataOfLastContract,transparent:!1,styleContainer:"",collapsible:!1,collapsed:!1},n._onSave=function(){n.setState({processing:!0});var e=n.state.model,t=e.mnp,a={id:n.props.parent.data.id,salutationId:e.salutationId,firstname:e.firstname,surname:e.surname,birthday:e.birthday,customerNumber:e.customerNumber,msisdn:e.toBePorted,brandKey:y.b.otelo,toBePorted:e.toBePorted,portingTime:e.portingTime,mnp:{networkKey:t?t.network:"",providerKey:t?t.provider:""},consent:e.consent};g.a.hub.send(JSON.stringify(a),f.ERequestType.belatedPortation,function(){})},n._onDismissProcessPopup=function(){n.processPopupState=k.a.pleaseWait,n.setState({closablePopup:!1,processing:!1,apiMessage:""})};var i=n.props.parent.data.customer,c=i.mnp||{provider:"",network:"",differentCustomer:!1};return n.state={processing:!1,closablePopup:!1,apiMessage:"",popupTitle:"",model:{mnp:{network:c.network,provider:c.provider,differentCustomer:!1},salutationId:i.salutation?i.salutation:b.t.mr,firstname:i.firstname||"",surname:i.surname||"",birthday:i.birthday||new Date,customerNumber:i.telMobile?i.telMobile.number:"",toBePorted:i.contracts&&i.contracts[0].msisdn||"",portingTime:a.Now,customer:i,consent:!1}},n.onChange=n.onChange.bind(Object(l.a)(Object(l.a)(n))),n._onDismissProcessPopup=n._onDismissProcessPopup.bind(Object(l.a)(Object(l.a)(n))),n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,n=u.createElement(O.j,{type:f.ELButtonType.linkSimple,text:E.h.backToCustomerDataSheet,css:"action3 fr",onClick:function(){e.props.parent.onBackToCustomer(!1)}}),r={title:E.k.activationBNTCustomer,transparent:!1,styleContainer:"",collapsible:!1,collapsed:!1,action:n};g.a.easyApp.head&&g.a.easyApp.head.setTitle(E.h.belatedPortingTitle);var i=this.state.model;return u.createElement("div",{id:t.containerId},u.createElement("br",null),u.createElement("br",null),u.createElement("br",null),u.createElement(h.g,{type:this.processPopupState,visible:this.state.processing||this.state.closablePopup,closable:this.state.closablePopup,id:"wait",title:this.state.popupTitle,height:200,onDismiss:this._onDismissProcessPopup},u.createElement(h.h,null,u.createElement("div",null,this.state.apiMessage),u.createElement(u.Fragment,null)),u.createElement(u.Fragment,null)),u.createElement(_.a,{config:r},u.createElement(d.a,null,u.createElement(p.a,null,u.createElement(m.a,{md:2},u.createElement(O.l,{type:f.EControlType.radio,checked:i.salutationId===b.t.mr,onChange:this.onChange,name:"salutationId",id:"salutationId_"+b.t.mr.toString(),label:E.h.mr,title:E.h.salutation})),u.createElement(m.a,{md:2},u.createElement(O.l,{type:f.EControlType.radio,checked:i.salutationId===b.t.mrs,onChange:this.onChange,name:"salutationId",id:"salutationId_"+b.t.mrs.toString(),label:E.h.mrs,title:E.h.salutation}))),u.createElement(p.a,null,u.createElement(m.a,{md:4},u.createElement(h.f,{type:f.EControlType.text,style:"merged",name:"firstname",value:i.firstname,onChange:this.onChange,label:E.h.firstname})),u.createElement(m.a,{md:4},u.createElement(h.f,{type:f.EControlType.text,style:"merged",name:"surname",value:i.surname,onChange:this.onChange,label:E.h.surname}))),u.createElement(p.a,null,u.createElement(m.a,{md:4},u.createElement(O.m,{value:i.birthday,datePicker:!1,onChange:this.onChange,name:"birthday",id:"birthday",title:E.h.dateOfBirth})),u.createElement(m.a,{md:4},u.createElement(h.f,{type:f.EControlType.text,style:"merged",value:i.customerNumber,onChange:this.onChange,name:"customerNumber",label:E.h.customerNumber}))),u.createElement(p.a,null,u.createElement(m.a,{md:4},u.createElement(h.f,{type:f.EControlType.text,style:"merged",value:i.toBePorted,onChange:this.onChange,name:"toBePorted",label:E.h.numberToBePorted})),u.createElement(m.a,{md:2},u.createElement(O.l,{type:f.EControlType.radio,onChange:this.onChange,name:"portingTime",id:"portingTime_"+a.Now.toString(),checked:i.portingTime===a.Now,label:E.h.immediately,title:E.h.portingTime})),u.createElement(m.a,{md:2},u.createElement(O.l,{type:f.EControlType.radio,onChange:this.onChange,name:"portingTime",id:"portingTime_"+a.AfterContractEnd.toString(),checked:i.portingTime===a.AfterContractEnd,label:E.h.afterContractEnds}))))),u.createElement("div",{className:"spacer"}),u.createElement(_.a,{config:this.cfg2},u.createElement(d.a,null,u.createElement(C.i,{parent:this,customer:this.state.model.customer,onChange:this.onChange,preview:!1}),u.createElement(p.a,null,u.createElement(m.a,{md:1},u.createElement(O.l,{type:f.EControlType.checkbox,onChange:this.onChange,name:"consent",id:"consent",value:!0,checked:i.consent})),u.createElement(m.a,{md:10},u.createElement(O.l,{type:f.EControlType.textArea,name:"",id:"",style:"black"})," ",E.k.dataLastContract)),this.state.model.consent?u.createElement(p.a,null,u.createElement(m.a,{xs:12,md:12},u.createElement(O.j,{type:f.ELButtonType.buttonWithIconRight,css:"a1 fr",id:"save",text:E.h.save,onClick:this._onSave}))):null)))}},{key:"onChange",value:function(e){var t=this,n=this.state.model;g.a.onInput(n,e,function(){t.setState({model:n})})}},{key:"socketCallback",value:function(e){var t=e.data;t.status!=v.EApiResponseStatus.ok?(this.processPopupState=k.a.custom,this.setState({apiMessage:t.data.Text,closablePopup:!0,processing:!1})):(this.processPopupState=k.a.custom,this.setState({apiMessage:E.b.execSuccess,closablePopup:!0,processing:!1}))}}]),t}(u.Component);S.containerId="belatedPortingScreen",t.a=S},124:function(e,t,n){"use strict";var a=n(10),r=n(11),i=n(14),s=n(12),o=n(15),c=n(0),l=n(18),u=n(2),d=n(4),p=n(8),m=n(1),h=n(24),v=n(3),f=n(96),b=n(7),y=n(9),g=n(5),E=n(60),k=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).onSelect=n.onSelect.bind(Object(b.a)(Object(b.a)(n))),n.onClickBlister=n.onClickBlister.bind(Object(b.a)(Object(b.a)(n))),n.state={selected:""},n}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;if(!p.a.categoryWrapper.availableBrands||0==p.a.categoryWrapper.availableBrands.length)return c.createElement(c.Fragment,null);var t={title:this.props.block.title,transparent:!0,styleContainer:this.props.styleContainer,action:this.props.block.action},n=E.a.filterProducts(this.props.brandKey,this.props.products,g.e.bnt);n=(n=n.filter(function(e){return 0!==e.sortFocus})).sort(function(e,t){return e.sortFocus-t.sortFocus}),n=y.from(n).take(4).toArray();var a=[];return n.map(function(t,n){t.monthlyFee.price.toString();var r=c.createElement("div",{key:"btl-"+n,onClick:e.onClickBlister,dangerouslySetInnerHTML:{__html:t.blister}});a.push(r)}),c.createElement("div",null,c.createElement(l.a,{config:t},a))}},{key:"onClickBlister",value:function(e){var t;(t=e.target?e.target:e)&&(t.classList.contains("thumb-blister")?this.onSelect(e.getAttribute("blister-action")):this.onClickBlister(t.parentNode))}},{key:"onSelect",value:function(e){this.props.onClick&&this.props.onClick(e)}},{key:"onClick",value:function(e){this.props.onClick&&this.props.onClick(e)}}]),t}(c.Component),C=n(44),_=function(e){function t(e){var n;Object(a.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).current=void 0,n.onlyOne=void 0,n.oneClick=!1,n.onSelectCat=function(e){p.a.categoryWrapper.switchCat(e),n.props.clickHandler?n.props.clickHandler(e):n.setState({changed:!0})},n.onSelectProduct=function(e){if(n.current&&p.a.easyApp.checkDefCon()){e||(e=p.a.categoryWrapper.getFirstProductInCategory());var t="/ordering/new/tariff/"+u.OrderDataWrapper.createOrder(p.a.getUniqueId(),n.current.id,p.a.categoryWrapper.getBrandByProduct(e),e).id;h.a.route({url:t,title:m.k.activation+": "+m.k.activationBNTTariff})}};n.props.selected;return n.onlyOne=p.a.categoryWrapper.onlyOneBrandAvailable(),n.current=p.a.categoryWrapper.getSelected(),n.state={changed:!0,selected:p.a.categoryWrapper.cat},n}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.oneClick||this.setState({selected:e.selected})}},{key:"render",value:function(){var e=this;if(this.current=p.a.categoryWrapper.getSelected(),!this.current)return c.createElement(c.Fragment,null);var t={title:this.onlyOne?"":this.props.block.title,transparent:this.props.block.transparent,style:this.props.block.style,styleContainer:"/"==window.location.pathname?"middle":""};p.a.categoryWrapper.reset();var n=c.createElement("div",null,c.createElement(v.j,{text:m.h.allTariffs,onClick:this.onSelectProduct,css:"fr uc text-h2",type:u.ELButtonType.linkSimple,icon:"arrow-right"}),c.createElement(v.k,null));this.current.id===d.c.vodafone||this.current.id===d.c.fn||this.current.id===d.c.tv||(n=c.createElement(c.Fragment,null));var a=this.props.crossSelling?p.a.categoryWrapper.getCrossSellingCats():p.a.categoryWrapper.availableCats;return c.createElement(c.Fragment,null,c.createElement(l.a,{config:t},a.map(function(t,n){return e.renderThumb(t,n)})),this.props.withTariffs&&a.length>0?c.createElement(k,{products:p.a.categoryWrapper.getCategoryBrandProducts(!0),key:"xxx",styleContainer:"/"==window.location.pathname?"middle":"",brandKey:this.current.id,onClick:this.onSelectProduct,block:{title:m.h.favoriteTariffs,subTitle:"",transparent:!0,action:n}}):null)}},{key:"renderThumb",value:function(e,t){var n=this;if(e.status!=f.a.available&&e.status!=f.a.inProcess&&!this.props.forceVisible)return c.createElement(c.Fragment,null);var a=C.a.undefined;return this.props.thumbSelectable||(a|=C.a.inactive),e.id===this.current.id&&(a|=C.a.selected),e.status==f.a.inProcess&&(a|=C.a.loading),c.createElement(C.c,{key:"bt-"+t,ckey:"bt-"+t,item:e,status:a,type:this.props.thumbType,onClick:function(t){e.status==f.a.available&&n.onSelectCat(t)}})}}]),t}(c.Component);t.a=_},125:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return EditUserScreen});var _home_pc_abiatec_my_projects_Easy3_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(11),_home_pc_abiatec_my_projects_Easy3_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(14),_home_pc_abiatec_my_projects_Easy3_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(12),_home_pc_abiatec_my_projects_Easy3_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(15),_home_pc_abiatec_my_projects_Easy3_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(7),_home_pc_abiatec_my_projects_Easy3_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(10),linq__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(9),linq__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(linq__WEBPACK_IMPORTED_MODULE_6__),react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__),react_bootstrap__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(19),react_bootstrap__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(42),react_bootstrap__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(23),_components_dialogs_popup__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(17),_components_index__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(21),_components_page_block__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(18),_components_page_index__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(3),_models__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(2),_utils_Defaults__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(4),_utils_Global__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(8),_utils_messages__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(1),_utils_storage__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(13),UserData=function e(){Object(_home_pc_abiatec_my_projects_Easy3_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_5__.a)(this,e),this.id=void 0,this.firstname=void 0,this.surname=void 0,this.email=void 0,this.mobilePhone=void 0,this.birthDate=void 0,this.voId=void 0,this.portalStatus=void 0,this.salutationId=void 0,this.positionId=void 0,this.newsletterId=void 0,this.salutations=void 0,this.roles=void 0,this.positions=void 0,this.newsletters=void 0,this.portalStatuses=void 0,this.id="",this.firstname="",this.surname="",this.email="",this.mobilePhone="",this.birthDate=void 0,this.voId="",this.portalStatus="",this.salutationId=0,this.positionId=0,this.newsletterId=0,this.salutations=[],this.roles=[],this.positions=[],this.newsletters=[],this.portalStatuses=[]},UserActivationStatus;!function(e){e[e.Unknown=0]="Unknown",e[e.Active=1]="Active",e[e.InActive=2]="InActive"}(UserActivationStatus||(UserActivationStatus={}));var EditUserScreen=function(_React$Component){function EditUserScreen(e){var t;return Object(_home_pc_abiatec_my_projects_Easy3_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_5__.a)(this,EditUserScreen),(t=Object(_home_pc_abiatec_my_projects_Easy3_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1__.a)(this,Object(_home_pc_abiatec_my_projects_Easy3_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__.a)(EditUserScreen).call(this,e))).processPopupState=_components_dialogs_popup__WEBPACK_IMPORTED_MODULE_11__.a.pleaseWait,t.globalCfg=_utils_Global__WEBPACK_IMPORTED_MODULE_17__.a.getConfiguration(),t.cfg={title:_utils_messages__WEBPACK_IMPORTED_MODULE_18__.h.edit,transparent:!1,styleContainer:""},t.cfgConfiguration={title:_utils_messages__WEBPACK_IMPORTED_MODULE_18__.h.configuration,transparent:!1,styleContainer:""},t.cfgRoles={title:_utils_messages__WEBPACK_IMPORTED_MODULE_18__.h.roles,transparent:!1,styleContainer:""},t._activateUser=function(e){t.setState({processing:!0,closblePopup:!1}),_utils_Global__WEBPACK_IMPORTED_MODULE_17__.a.hub.send(JSON.stringify({id:t.state.contactId}),_models__WEBPACK_IMPORTED_MODULE_15__.ERequestType.activateUser,void 0)},t._deactivateUser=function(e){t.setState({processing:!0,closblePopup:!1}),_utils_Global__WEBPACK_IMPORTED_MODULE_17__.a.hub.send(JSON.stringify({id:t.state.contactId}),_models__WEBPACK_IMPORTED_MODULE_15__.ERequestType.deactivateUser,void 0)},t._reload=function(e){t.setState({contactId:e,processing:!0,closblePopup:!1,apiMessage:"",popupTitle:"",model:new UserData,cancelRequest:!1,userActivationStatus:UserActivationStatus.Unknown}),_utils_Global__WEBPACK_IMPORTED_MODULE_17__.a.hub.send(JSON.stringify({id:e}),_models__WEBPACK_IMPORTED_MODULE_15__.ERequestType.loadContact,void 0)},t.onDismissProcessPopup=t.onDismissProcessPopup.bind(Object(_home_pc_abiatec_my_projects_Easy3_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__.a)(Object(_home_pc_abiatec_my_projects_Easy3_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__.a)(t))),t._onChange=t._onChange.bind(Object(_home_pc_abiatec_my_projects_Easy3_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__.a)(Object(_home_pc_abiatec_my_projects_Easy3_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__.a)(t))),t._onSave=t._onSave.bind(Object(_home_pc_abiatec_my_projects_Easy3_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__.a)(Object(_home_pc_abiatec_my_projects_Easy3_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__.a)(t))),t.loadUserCallback=t.loadUserCallback.bind(Object(_home_pc_abiatec_my_projects_Easy3_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__.a)(Object(_home_pc_abiatec_my_projects_Easy3_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__.a)(t))),t.saveUserCallback=t.saveUserCallback.bind(Object(_home_pc_abiatec_my_projects_Easy3_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__.a)(Object(_home_pc_abiatec_my_projects_Easy3_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__.a)(t))),t._activateUser=t._activateUser.bind(Object(_home_pc_abiatec_my_projects_Easy3_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__.a)(Object(_home_pc_abiatec_my_projects_Easy3_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__.a)(t))),t._deactivateUser=t._deactivateUser.bind(Object(_home_pc_abiatec_my_projects_Easy3_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__.a)(Object(_home_pc_abiatec_my_projects_Easy3_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__.a)(t))),t._reload=t._reload.bind(Object(_home_pc_abiatec_my_projects_Easy3_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__.a)(Object(_home_pc_abiatec_my_projects_Easy3_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__.a)(t))),t.state={contactId:t.props.contactId,processing:!0,closblePopup:!1,apiMessage:"",popupTitle:"",model:new UserData,cancelRequest:!1,userActivationStatus:UserActivationStatus.Unknown},_utils_Global__WEBPACK_IMPORTED_MODULE_17__.a.hub.send(JSON.stringify({id:t.state.contactId}),_models__WEBPACK_IMPORTED_MODULE_15__.ERequestType.loadContact,void 0),t}return Object(_home_pc_abiatec_my_projects_Easy3_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_3__.a)(EditUserScreen,_React$Component),Object(_home_pc_abiatec_my_projects_Easy3_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_0__.a)(EditUserScreen,[{key:"render",value:function(){var e=this,t=this.state.model,n=_utils_storage__WEBPACK_IMPORTED_MODULE_19__.a.getUser(),a=react__WEBPACK_IMPORTED_MODULE_7__.createElement(react__WEBPACK_IMPORTED_MODULE_7__.Fragment,null);return _utils_Global__WEBPACK_IMPORTED_MODULE_17__.a.checkAccessRoles([_utils_Defaults__WEBPACK_IMPORTED_MODULE_16__.i.XTND_ShopManager,_utils_Defaults__WEBPACK_IMPORTED_MODULE_16__.i.XTND_Nutzerverwaltung])&&0!==this.state.contactId&&void 0!==t&&(this.state.userActivationStatus===UserActivationStatus.Active?a=react__WEBPACK_IMPORTED_MODULE_7__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_8__.a,{xs:4,md:4},react__WEBPACK_IMPORTED_MODULE_7__.createElement(_components_page_index__WEBPACK_IMPORTED_MODULE_14__.j,{text:_utils_messages__WEBPACK_IMPORTED_MODULE_18__.h.deactivate,onClick:function(){return e._deactivateUser(e.state.contactId)},type:_models__WEBPACK_IMPORTED_MODULE_15__.ELButtonType.buttonWithIconRight,css:"action fr"})):this.state.userActivationStatus===UserActivationStatus.InActive&&(a=react__WEBPACK_IMPORTED_MODULE_7__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_8__.a,{xs:4,md:4},react__WEBPACK_IMPORTED_MODULE_7__.createElement(_components_page_index__WEBPACK_IMPORTED_MODULE_14__.j,{text:_utils_messages__WEBPACK_IMPORTED_MODULE_18__.h.activate,onClick:function(){return e._activateUser(e.state.contactId)},type:_models__WEBPACK_IMPORTED_MODULE_15__.ELButtonType.buttonWithIconRight,css:"action fr"})))),react__WEBPACK_IMPORTED_MODULE_7__.createElement("div",{id:EditUserScreen.containerId},react__WEBPACK_IMPORTED_MODULE_7__.createElement(_components_page_index__WEBPACK_IMPORTED_MODULE_14__.f,null,react__WEBPACK_IMPORTED_MODULE_7__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_7__.createElement(_components_index__WEBPACK_IMPORTED_MODULE_12__.g,{type:this.processPopupState,visible:this.state.processing||this.state.closblePopup,closable:this.state.closblePopup,id:"wait",title:this.state.popupTitle,height:200,onDismiss:this.onDismissProcessPopup},react__WEBPACK_IMPORTED_MODULE_7__.createElement(_components_index__WEBPACK_IMPORTED_MODULE_12__.h,null,react__WEBPACK_IMPORTED_MODULE_7__.createElement("div",null,this.state.apiMessage),react__WEBPACK_IMPORTED_MODULE_7__.createElement(react__WEBPACK_IMPORTED_MODULE_7__.Fragment,null)),react__WEBPACK_IMPORTED_MODULE_7__.createElement(react__WEBPACK_IMPORTED_MODULE_7__.Fragment,null)),react__WEBPACK_IMPORTED_MODULE_7__.createElement(_components_page_block__WEBPACK_IMPORTED_MODULE_13__.a,{config:this.cfg},react__WEBPACK_IMPORTED_MODULE_7__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_9__.a,{className:"container-action"},react__WEBPACK_IMPORTED_MODULE_7__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_10__.a,null,react__WEBPACK_IMPORTED_MODULE_7__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_8__.a,{xs:6,md:6},react__WEBPACK_IMPORTED_MODULE_7__.createElement(_components_index__WEBPACK_IMPORTED_MODULE_12__.f,{type:_models__WEBPACK_IMPORTED_MODULE_15__.EControlType.dropdown,value:t.salutationId,onChange:this._onChange,id:"salutationId",name:"salutationId",title:_utils_messages__WEBPACK_IMPORTED_MODULE_18__.h.salutation,options:this.structToKeyTexts(t.salutations)})),react__WEBPACK_IMPORTED_MODULE_7__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_8__.a,{xs:6,md:6},react__WEBPACK_IMPORTED_MODULE_7__.createElement(_components_index__WEBPACK_IMPORTED_MODULE_12__.f,{type:_models__WEBPACK_IMPORTED_MODULE_15__.EControlType.text,value:t.email,onChange:this._onChange,id:"email",name:"email",title:_utils_messages__WEBPACK_IMPORTED_MODULE_18__.h.email}))),react__WEBPACK_IMPORTED_MODULE_7__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_10__.a,null,react__WEBPACK_IMPORTED_MODULE_7__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_8__.a,{xs:6,md:6},react__WEBPACK_IMPORTED_MODULE_7__.createElement(_components_index__WEBPACK_IMPORTED_MODULE_12__.f,{type:_models__WEBPACK_IMPORTED_MODULE_15__.EControlType.text,value:t.firstname,onChange:this._onChange,id:"firstname",name:"firstname",title:_utils_messages__WEBPACK_IMPORTED_MODULE_18__.h.firstname})),react__WEBPACK_IMPORTED_MODULE_7__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_8__.a,{xs:6,md:6},react__WEBPACK_IMPORTED_MODULE_7__.createElement(_components_index__WEBPACK_IMPORTED_MODULE_12__.f,{type:_models__WEBPACK_IMPORTED_MODULE_15__.EControlType.text,value:t.mobilePhone,onChange:this._onChange,id:"mobilePhone",name:"mobilePhone",title:_utils_messages__WEBPACK_IMPORTED_MODULE_18__.h.mobilePhoneNumber}))),react__WEBPACK_IMPORTED_MODULE_7__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_10__.a,null,react__WEBPACK_IMPORTED_MODULE_7__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_8__.a,{xs:6,md:6},react__WEBPACK_IMPORTED_MODULE_7__.createElement(_components_index__WEBPACK_IMPORTED_MODULE_12__.f,{type:_models__WEBPACK_IMPORTED_MODULE_15__.EControlType.text,value:t.surname,onChange:this._onChange,id:"surname",name:"surname",title:_utils_messages__WEBPACK_IMPORTED_MODULE_18__.h.surname})),react__WEBPACK_IMPORTED_MODULE_7__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_8__.a,{xs:6,md:6},react__WEBPACK_IMPORTED_MODULE_7__.createElement(_components_page_index__WEBPACK_IMPORTED_MODULE_14__.m,{onChange:this._onChange,datePicker:!1,value:t.birthDate,name:"birthDate",id:"birthDate",title:_utils_messages__WEBPACK_IMPORTED_MODULE_18__.h.dateOfBirth}))))),react__WEBPACK_IMPORTED_MODULE_7__.createElement(_components_page_block__WEBPACK_IMPORTED_MODULE_13__.a,{config:this.cfgConfiguration},react__WEBPACK_IMPORTED_MODULE_7__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_9__.a,{className:"container-action"},react__WEBPACK_IMPORTED_MODULE_7__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_10__.a,null,react__WEBPACK_IMPORTED_MODULE_7__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_8__.a,{xs:6,md:6},react__WEBPACK_IMPORTED_MODULE_7__.createElement(_components_index__WEBPACK_IMPORTED_MODULE_12__.f,{type:_models__WEBPACK_IMPORTED_MODULE_15__.EControlType.text,value:t.voId,id:"void",title:"VOID",preview:!0})),react__WEBPACK_IMPORTED_MODULE_7__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_8__.a,{xs:6,md:6},react__WEBPACK_IMPORTED_MODULE_7__.createElement(_components_index__WEBPACK_IMPORTED_MODULE_12__.f,{type:_models__WEBPACK_IMPORTED_MODULE_15__.EControlType.dropdown,value:t.positionId,onChange:this._onChange,id:"positionId",name:"positionId",title:"Position",options:this.structToKeyTexts(t.positions)}))),react__WEBPACK_IMPORTED_MODULE_7__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_10__.a,null,react__WEBPACK_IMPORTED_MODULE_7__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_8__.a,{xs:6,md:6},react__WEBPACK_IMPORTED_MODULE_7__.createElement(_components_index__WEBPACK_IMPORTED_MODULE_12__.f,{type:_models__WEBPACK_IMPORTED_MODULE_15__.EControlType.text,value:t.portalStatus,id:"portalStatus",name:"portalStatus",title:"Portal Status",preview:!0})),react__WEBPACK_IMPORTED_MODULE_7__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_8__.a,{xs:6,md:6},react__WEBPACK_IMPORTED_MODULE_7__.createElement(_components_index__WEBPACK_IMPORTED_MODULE_12__.f,{type:_models__WEBPACK_IMPORTED_MODULE_15__.EControlType.dropdown,value:t.newsletterId,onChange:this._onChange,id:"newsletterId",name:"newsletterId",title:"Newsletter",options:this.structToKeyTexts(t.newsletters)}))))),react__WEBPACK_IMPORTED_MODULE_7__.createElement(_components_page_block__WEBPACK_IMPORTED_MODULE_13__.a,{config:this.cfgRoles},react__WEBPACK_IMPORTED_MODULE_7__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_9__.a,{className:"container-action"},react__WEBPACK_IMPORTED_MODULE_7__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_10__.a,null,react__WEBPACK_IMPORTED_MODULE_7__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_8__.a,{xs:12,md:12},t.roles.map(function(t,a){if(t.isVisible)return t.name===_utils_Defaults__WEBPACK_IMPORTED_MODULE_16__.i.Stornofreigabe&&n&&2===n.accountLevel?react__WEBPACK_IMPORTED_MODULE_7__.createElement(react__WEBPACK_IMPORTED_MODULE_7__.Fragment,null):react__WEBPACK_IMPORTED_MODULE_7__.createElement(_components_index__WEBPACK_IMPORTED_MODULE_12__.f,{type:_models__WEBPACK_IMPORTED_MODULE_15__.EControlType.checkbox,value:t.id,checked:!!t.selected,onChange:e._onChange,id:"roles-"+a,name:"roles["+a+"].selected",key:"roles-"+a,disabled:!t.isSelectable,label:t.text})}))),react__WEBPACK_IMPORTED_MODULE_7__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_10__.a,null,react__WEBPACK_IMPORTED_MODULE_7__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_8__.a,{xs:4,md:4},react__WEBPACK_IMPORTED_MODULE_7__.createElement(_components_page_index__WEBPACK_IMPORTED_MODULE_14__.j,{text:_utils_messages__WEBPACK_IMPORTED_MODULE_18__.h.cancel,onClick:function(){return window.location.href="/am/administration"},type:_models__WEBPACK_IMPORTED_MODULE_15__.ELButtonType.linkSimple,css:"fl",icon:"chevron"})),a,react__WEBPACK_IMPORTED_MODULE_7__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_8__.a,{xs:4,md:4},react__WEBPACK_IMPORTED_MODULE_7__.createElement(_components_page_index__WEBPACK_IMPORTED_MODULE_14__.j,{text:_utils_messages__WEBPACK_IMPORTED_MODULE_18__.h.save,onClick:this._onSave,type:_models__WEBPACK_IMPORTED_MODULE_15__.ELButtonType.buttonWithIconRight,css:"action fr"}))))))))}},{key:"loadUserCallback",value:function(e){var t=e.data.data,n=UserActivationStatus.Unknown;"Active"===t.portalStatus?n=UserActivationStatus.Active:"Inactive"===t.portalStatus&&(n=UserActivationStatus.InActive),this.setState({model:t,processing:!1,userActivationStatus:n})}},{key:"saveUserCallback",value:function(e){if(!this.state.cancelRequest)if(this.processPopupState=_components_dialogs_popup__WEBPACK_IMPORTED_MODULE_11__.a.info,e.error)this.setState({apiMessage:e.error.message,closblePopup:!0,processing:!1,popupTitle:_utils_messages__WEBPACK_IMPORTED_MODULE_18__.h.textError,userActivationStatus:UserActivationStatus.Unknown});else{var t=e.data.data;this._reload(t)}}},{key:"activateUserCallback",value:function(e){this._reload(this.state.contactId)}},{key:"deactivateUserCallback",value:function(e){this._reload(this.state.contactId)}},{key:"_onChange",value:function _onChange(e){var model=this.state.model,path=e.name;path&&"["!==path[0]&&(path="."+path);var val=e.value;e.type===_models__WEBPACK_IMPORTED_MODULE_15__.EControlType.date?val=e.dateValue:e.type===_models__WEBPACK_IMPORTED_MODULE_15__.EControlType.checkbox&&(val=e.checked),eval("model"+path+"=val"),this.setState({model:model})}},{key:"structToKeyTexts",value:function(e){return linq__WEBPACK_IMPORTED_MODULE_6__.from(e).select(function(e,t){return{key:e.id,text:e.text}}).toArray()}},{key:"onDismissProcessPopup",value:function(){this.processPopupState=_components_dialogs_popup__WEBPACK_IMPORTED_MODULE_11__.a.pleaseWait,this.setState({processing:!1,closblePopup:!1,cancelRequest:!0,apiMessage:"",popupTitle:""})}},{key:"_onSave",value:function(){var e=this.state.model;this.setState({processing:!0,closblePopup:!0,cancelRequest:!1}),e.firstname=e.firstname.trim(),e.surname=e.surname.trim(),_utils_Global__WEBPACK_IMPORTED_MODULE_17__.a.hub.send(JSON.stringify(e),_models__WEBPACK_IMPORTED_MODULE_15__.ERequestType.saveContact,void 0)}}]),EditUserScreen}(react__WEBPACK_IMPORTED_MODULE_7__.Component);EditUserScreen.containerId="editUserScreen"},13:function(e,t,n){"use strict";var a,r=n(10),i=n(11),s=n(9),o=n.n(s);!function(e){e[e.light=0]="light",e[e.dark=1]="dark"}(a||(a={}));var c=n(2),l=n(49),u=n(103),d=n(31),p=n(4),m=n(8),h=function(){function e(){Object(r.a)(this,e)}return Object(i.a)(e,null,[{key:"getOrders",value:function(){var t=sessionStorage.getItem(p.j.keyOrders),n=[];return null!=t?n=JSON.parse(t):(n=[],e.set(p.j.keyOrders,n)),n}},{key:"updateActivation",value:function(t){var n=e.getOrder(t.processId),a=o.a.from(n.activations).where(function(e){return e.id==t.id}).firstOrDefault();a?n.activations[n.activations.indexOf(a)]=t:n.activations.push(t),e.addOrder(n)}},{key:"updateCustomer",value:function(t,n){console.log("update c",n);var a=e.getOrder(t);a.customer=n,e.addOrder(a)}},{key:"getCustomer",value:function(t){return e.getOrder(t).customer}},{key:"resetStep",value:function(t,n,a){var r=o.a.from(t.processStatus.steps).where(function(e){return e.type==n}).firstOrDefault();r&&(r.status=a,r.message="",e.updateActivation(t))}},{key:"getOrder",value:function(t){var n=e.getOrders(),a=o.a.from(n).where(function(e){return e.id.toLowerCase()==t.toLowerCase()}).firstOrDefault();return a?(c.OrderDataWrapper.ensure(a),a):c.OrderDataWrapper.createOrder("undefined Process",p.c.vodafone,p.b.vodafone,"SM2S")}},{key:"removeOther",value:function(t){var n=[];n.push(e.getOrder(t)),e.set(p.j.keyOrders,n)}},{key:"getParentOfProcess",value:function(t){var n=e.getOrders(),a=o.a.from(n).where(function(e){return e.id==t}).first();return e.getOrder(a.parentId?a.parentId:"")}},{key:"toActivation",value:function(e){return Object.assign(new c.IActivation(e.brandKey),e)}},{key:"addOrder",value:function(t,n){if(t.Id||t.id){t.Id&&(t.id=t.Id);var a=e.getOrders(),r=o.a.from(a).where(function(e){return e.id==t.id}).firstOrDefault();if(t.activations.map(function(e,n){if(!e.selection)if(e.selection=new d.b("root"),t.customer.contracts&&!t.isCrossSelling)e.catKey=e.brandKey==p.b.vodafone?p.c.vodafone:e.brandKey==p.b.otelo?p.c.otelo:p.c.fn,e.selection.add(t.customer.contracts[0].bookedProduct.id);else{var a=m.a.categoryWrapper.getCategoryBrandMapByProduct(e.productId);e.catKey=a.catKey,e.brandKey=e.brandKey,e.selection.add(e.productId)}e.catKey||(e.catKey=m.a.categoryWrapper.getCategoryKeyByProduct(e.selection.children[0].id)),e.services||(e.services=[]),e.servicesRemove||(e.servicesRemove=[])}),!t.currentCat&&t.activations.length>0&&(t.currentCat=t.activations[0].catKey),!t.currentBrand&&t.activations.length>0&&(t.currentBrand=t.activations[0].brandKey),r){var i=a.indexOf(r);a[i]=t}else a.push(t);e.set(p.j.keyOrders,a),n&&n()}}},{key:"addOrderProducts",value:function(t){e.set(p.j.keyOrdersProducts,t)}},{key:"resetAvailability",value:function(t,n){var a=e.getAvailability();return a.brands=[{id:p.b.kabel,key:p.b.kabel,products:[],data:""},{id:p.b.dsl,key:p.b.dsl,products:[],data:""}],a.id=m.a.getUniqueId(),a.executed=n,t&&(a.address=t),e.set(p.j.keyAvailability,a),a}},{key:"parseAvailability",value:function(t){var n=JSON.parse(t.data),a=n.data;if(null==n.error&&null!=a)try{var r=a.steps[0];if(r.status==c.ERequestStatus.done||r.status==c.ERequestStatus.tempResult){var i=JSON.parse(r.message),s=e.getAvailability();i.brands.map(function(e){i.id=e.id||"";var t=JSON.parse(e.data);t&&t.products&&(e.products=JSON.parse(e.data).products)}),i.executed=r.status,i.address=s.address,e.set(p.j.keyAvailability,i)}else r.status===c.ERequestStatus.corrected||r.status===c.ERequestStatus.failed||(r.status,c.ERequestStatus.invalid)}catch(o){console.error(o)}}},{key:"addOrderAndReset",value:function(t){e.resetOrders(),e.addOrder(t)}},{key:"removeOrder",value:function(t,n){var a=e.getOrders(),r=o.a.from(a).where(function(e){return e.id!=t}).toArray();e.set(p.j.keyOrders,r),n&&n()}},{key:"cleanAndPreserve",value:function(t){var n=e.getOrders(),a=o.a.from(n).where(function(e){return e.id===t}).toArray();e.set(p.j.keyOrders,a)}},{key:"resetOrders",value:function(){e.set(p.j.keyOrders,[])}},{key:"clear",value:function(){sessionStorage.clear(),e.user&&(e.user=void 0)}},{key:"set",value:function(t,n){if(t===p.j.keyUser)m.a.getConfiguration().debug?sessionStorage.setItem(t,JSON.stringify(n)):e.user=n;else if(sessionStorage.setItem(t,JSON.stringify(n)),t==p.j.keyBrands){var a=e.getAvailability();e.syncAvailabilityPrices(a)}}},{key:"syncAvailabilityPrices",value:function(t){var n=t,a=e.getBrands();n&&n.brands&&(n.brands.map(function(e){if(e.products&&(e.key==p.b.unity||e.key==p.b.kabel)){var t=o.a.from(a).where(function(t){return t.id==e.key}).first();e.products.map(function(n){var a=o.a.from(t.products).where(function(e){return e.id==n.productId}).firstOrDefault();if(a){var r=l.f.createInstance(a.id,e.key,n,l.d.product);a.monthlyFee=r.getMonthlyFee()}e.key!=p.b.unity&&n.subs&&n.subs.map(function(n){o.a.from(t.subs).where(function(e){return e.id==n.id}).firstOrDefault();n.options&&n.options.map(function(n){var a=o.a.from(t.services).where(function(e){return e.id==n.id}).firstOrDefault();if(a){var r=l.f.createInstance(a.id,e.key,n,l.d.service);a.monthlyFee=r.getMonthlyFee(),a.activationFee=r.getActivationFee()}})})})}}),sessionStorage.setItem(p.j.keyBrands,JSON.stringify(a)))}},{key:"remove",value:function(t,n){t===p.j.keyUser?m.a.getConfiguration().debug?sessionStorage.removeItem(t):e.user=void 0:sessionStorage.removeItem(t)}},{key:"removeOrderAndGotoParent",value:function(){}},{key:"getAppSettings",value:function(){var t=sessionStorage.getItem(p.j.keyApp),n=void 0;return t?n=JSON.parse(t):(n={expanded:!1,theme:a.light},e.set(p.j.keyApp,n)),n}},{key:"getBrands",value:function(){var e=sessionStorage.getItem(p.j.keyBrands),t=[];return null!=e&&(t=JSON.parse(e)),t}},{key:"getCombis",value:function(){var e=sessionStorage.getItem(p.j.keyCombis),t=new u.a;return null!=e&&(t.items=JSON.parse(e)),t}},{key:"getBrand",value:function(t){var n=e.getBrands();return o.a.from(n).where(function(e){return e.id===t}).first()}},{key:"getDefCon",value:function(){var e=new c.IDefCon;try{var t=sessionStorage.getItem(p.j.keyDefCon);null!=t&&(e=JSON.parse(t))}catch(n){}return e=Object.assign(new c.IDefCon,e)}},{key:"oteloOnlyBookable",value:function(){var t=e.getDefCon();return!(!t||!t.brands)&&(!!o.a.from(t.brands).where(function(e){return e.id==p.b.otelo&&e.available}).firstOrDefault()&&1==o.a.from(t.brands).where(function(e){return e.available}).count())}},{key:"needAvailability",value:function(e){var t=o.a.from(e.brands).where(function(e){return e.available}).toArray(),n=o.a.from(t).where(function(e){return e.id==p.b.dsl}).firstOrDefault(),a=o.a.from(t).where(function(e){return e.id==p.b.kabel}).firstOrDefault();return!(!n&&!a)}},{key:"getSupport",value:function(){var e=sessionStorage.getItem(p.j.keySupport),t={countries:[],networks:[],fields:[],boxes:[]};return null!=e&&(t=JSON.parse(e)),t}},{key:"getAvailability",value:function(){var e=sessionStorage.getItem(p.j.keyAvailability),t=new l.g;return null!=e&&(t=JSON.parse(e),(t=Object.assign(new l.g,t)).brands.map(function(e){e.data&&(e.products=JSON.parse(e.data).products)})),t}},{key:"updateAvailability",value:function(t,n){for(var a=this.getAvailability(),r=0;r<a.brands.length;r++)if(a.brands[r].key==t){a.brands[r]=n,a.brands[r].key=t;break}e.syncAvailabilityPrices(a),this.set(p.j.keyAvailability,a)}},{key:"getAvailabilityForBrand",value:function(t){var n=e.getAvailability();return null!=n?o.a.from(n.brands).where(function(e){return e.key===t}).firstOrDefault():{key:t,products:[],data:""}}},{key:"getAvailabilityProduct",value:function(t,n){var a=e.getAvailabilityForBrand(t);if(null!=a&&null!=a.products)return o.a.from(a.products).where(function(e){return e.productId===n}).firstOrDefault()}},{key:"getUser",value:function(){if(m.a.getConfiguration().debug){var t,n=sessionStorage.getItem(p.j.keyUser);return null!=n&&(t=JSON.parse(n)),t}return e.user}}]),e}();h.user=void 0;t.a=h},131:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return l});var a,r=n(10),i=n(11),s=n(9),o=n(4),c=n(13);!function(e){e[e[void 0]=0]="undefined",e[e.ok=1]="ok",e[e.okDb=2]="okDb",e[e.bookingAllowed=4]="bookingAllowed",e[e.warningVisible=8]="warningVisible",e[e.blockScreen=16]="blockScreen"}(a||(a={}));var l=function(){function e(){Object(r.a)(this,e),this.state=a.ok,this.isAvailable=void 0,this.brands=[],this.voidAllowed=void 0,this.notification=void 0}return Object(i.a)(e,[{key:"canRunAvailability",value:function(){var e=s.from(this.brands).where(function(e){return e.id==o.b.kabel}).firstOrDefault(),t=s.from(this.brands).where(function(e){return e.id==o.b.dsl}).firstOrDefault();return!((!e||e&&!e.available)&&(!t||t&&!t.available))}},{key:"canAccess",value:function(){if(this.state!=a.ok&&(this.state&a.bookingAllowed)!=a.bookingAllowed){var e=c.a.getUser();if(this.voidAllowed&&e)return this.voidAllowed.indexOf(e.voId)>=0}return!0}}],[{key:"ensure",value:function(t){return Object.assign(new e,t)}}]),e}()},134:function(e,t,n){"use strict";var a=n(10),r=n(11),i=n(25),s=n(8),o=n(9),c=n.n(o),l=n(4),u=n(6),d=function(){function e(){Object(a.a)(this,e)}return Object(r.a)(e,null,[{key:"runAction",value:function(e,t,n){var a=s.a.getConfiguration().apiUrl+"activation/",r=t;e===u.l.create?a+="create":e===u.l.print?(a+="print/"+t.id,r=void 0):e===u.l.status?(a+="status/"+t.id,r=void 0):e===u.l.statusRequest?(a+="statusrequest/"+t.id,r=void 0):e===u.l.activation&&(a+="activate/"+t.id,r=void 0),i.a.fetch(a,r,l.g.post,function(e){i.a.parseResponse(e,function(e){n&&n(e)})})}},{key:"processStep",value:function(e,t){var n={type:u.l.undefined,status:u.k.failed,message:"Fehler"};e&&!e.error&&(e&&!e.error&&e.data&&e.data.steps&&(n=c.a.from(e.data.steps).where(function(e){return e.type==t}).firstOrDefault()));return e&&e.error&&(n.message=e.error.message),n}},{key:"getSteps",value:function(e){var t={type:u.l.undefined,status:u.k.failed,message:"Fehler"};if(e&&!e.error&&(e&&!e.error&&e.data&&e.data.steps))return c.a.from(e.data.steps).toArray();return e&&e.error&&(t.message=e.error.message),[]}},{key:"download",value:function(e,t,n){var a=s.a.getConfiguration().apiUrl+"activation/download/"+e.id+"?file="+t;window.open(a,"_blank")}}]),e}();t.a=d},142:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var a=n(10),r=n(5),i=n(119),s=function e(){Object(a.a)(this,e),this.homeType=r.j.appartmentHouse,this.homeLocation=r.k.front,this.homePosition=r.m.left,this.details="",this.techDetails="",this.entranceLocation="",this.appartmentLocation="",this.floor="",this.previousFirstname="",this.previousSurname="",this.tel=new i.b}},158:function(e,t,n){"use strict";var a;n.d(t,"a",function(){return a}),function(e){e[e[void 0]=0]="undefined",e[e.follow=1]="follow",e[e.login=2]="login"}(a||(a={}))},16:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return u});var a,r=n(10),i=n(11),s=n(5),o=n(6),c=n(8),l=n(13);!function(e){e[e[void 0]=0]="undefined",e[e.required=1]="required",e[e.minLength=2]="minLength",e[e.exactLength=3]="exactLength",e[e.maxLength=4]="maxLength",e[e.notBefore=5]="notBefore",e[e.notAfter=6]="notAfter",e[e.notEqual=7]="notEqual",e[e.email=8]="email",e[e.inRange=9]="inRange",e[e.numeric=10]="numeric",e[e.exactValue=11]="exactValue",e[e.match=12]="match",e[e.password=13]="password",e[e.regEx=14]="regEx",e[e.bdayValidation=15]="bdayValidation",e[e.inputRange=16]="inputRange",e[e.number=17]="number",e[e.oneOf=18]="oneOf",e[e.monthRange=19]="monthRange",e[e.yearFieldValidity=20]="yearFieldValidity",e[e.dateMax=21]="dateMax",e[e.dateMin=22]="dateMin",e[e.nationalityError=23]="nationalityError",e[e.errorDeliveryDate=24]="errorDeliveryDate",e[e.bdayValidationVeryPrecise=25]="bdayValidationVeryPrecise",e[e.alphanumeric=26]="alphanumeric",e[e.alphanumericWithoutGermanChars=27]="alphanumericWithoutGermanChars",e[e.germanIBAN=28]="germanIBAN",e[e.validateNames=29]="validateNames",e[e.leftAndRightTrim=30]="leftAndRightTrim",e[e.validateSurname=31]="validateSurname",e[e.validateSurnameDSL=32]="validateSurnameDSL",e[e.passwordOutsideCustomerData=33]="passwordOutsideCustomerData"}(a||(a={}));var u=function(){function e(t){Object(r.a)(this,e),this.option=void 0,this.option=t}return Object(i.a)(e,[{key:"isValid",value:function(e){var t=e.getValue();if(this.option){if(this.option.nullable&&!t.value)return"";if(this.option.nullable&&!t.value)return"";if(this.option.type===a.required)return this.isValidRequired(e);if(this.option.type===a.exactLength)return this.isValidExactLength(e);if(this.option.type===a.maxLength)return this.isValidMaxLength(e);if(this.option.type===a.minLength)return this.isValidMinLength(e);if(this.option.type===a.numeric)return this.isValidNumeric(e);if(this.option.type===a.exactValue)return this.isExactValue(e);if(this.option.type===a.notEqual)return this.isNotEqual(e);if(this.option.type===a.email)return this.isEmail(e);if(this.option.type===a.match)return this.isMatch(e);if(this.option.type===a.password)return this.isPassword(e);if(this.option.type===a.bdayValidation)return this.isDateValid(e);if(this.option.type===a.inputRange)return this.isInputInRange(e);if(this.option.type===a.oneOf)return this.isOneOf(e);if(this.option.type===a.monthRange)return this.isMonthInRange(e);if(this.option.type===a.yearFieldValidity)return this.isYearInRange(e);if(this.option.type===a.dateMax||this.option.type===a.dateMin)return this.isDateMinMaxValid(e);if(this.option.type===a.nationalityError)return this.isNationalitySameAsIDcard(e);if(this.option.type===a.errorDeliveryDate)return this.deliveryDateValidation(e);if(this.option.type===a.bdayValidationVeryPrecise)return this.validateBdayPrecise(e);if(this.option.type===a.alphanumeric)return this.validateAlphanumeric(e);if(this.option.type===a.alphanumericWithoutGermanChars)return this.validateAlphanumericWithoutGermanChars(e);if(this.option.type===a.germanIBAN)return this.validateGermanIBAN(e);if(this.option.type===a.validateNames)return this.validateNames(e);if(this.option.type===a.leftAndRightTrim)return this.trimWhitespaces(e);if(this.option.type===a.validateSurname)return this.validateSurname(e);if(this.option.type===a.validateSurnameDSL)return this.validateSurnameDSL(e);if(this.option.type===a.passwordOutsideCustomerData)return this.passwordOutsideCustomerData(e)}return""}},{key:"isOneOf",value:function(e){if(e.props&&e.props.id){var t=this.option.targetControl?this.option.targetControl:"---",n=this.option.source?this.option.source[t]:"";if(this.option.targetValue&&this.option.targetValue.indexOf(n.toString())<0)return this.option.message}return""}},{key:"validateAlphanumeric",value:function(e){var t=e.getValue();return new RegExp("^[A-Z][a-zA-Z0-9\xc4\xe4\xd6\xf6\xdc\xfc\xdf ]*$").test(t.value)?"":this.option.message.replace("$0",t.name)}},{key:"trimWhitespaces",value:function(e){var t=e.getValue();return new RegExp("^[^s]+(s+[^s]+)*$").test(t.value)?"":this.option.message.replace("$0",t.name)}},{key:"validateNames",value:function(e){var t=e.getValue();return new RegExp("^[A-Z][a-zA-Z\xc4\xe4\xd6\xf6\xdc\xfc\xdf -]{1,}/*$").test(t.value)?"":this.option.message.replace("$0",t.name)}},{key:"validateSurname",value:function(e){var t=e.getValue();return new RegExp("^[a-zA-Z\xc4\xe4\xd6\xf6\xdc\xfc\xdf -]{2,}/*$").test(t.value)?"":this.option.message.replace("$0",t.name)}},{key:"validateSurnameDSL",value:function(e){var t=e.getValue();return new RegExp("^[A-Z][A-Za-z\xc4\xe4\xd6\xf6\xdc\xfc\xdf -]{2,}/*$").test(t.value)?"":this.option.message.replace("$0",t.name)}},{key:"validateGermanIBAN",value:function(e){var t=e.getValue();return new RegExp("^DEd{2}s?([0-9a-zA-Z]{4}s?){4}[0-9a-zA-Z]{2}$").test(t.value)?"":this.option.message.replace("$0",t.name)}},{key:"validateAlphanumericWithoutGermanChars",value:function(e){var t=e.getValue();return new RegExp("^[a-zA-Z0-9]*$").test(t.value)?"":this.option.message.replace("$0",t.name)}},{key:"isDateMinMaxValid",value:function(e){var t=e.getValue();return e.props.type!==o.d.date||void 0!==t.value&&""!==t.value&&0!==t.value.length?"":this.option.message}},{key:"validateBdayPrecise",value:function(e){var t=e.getValue(),n=(l.a.getOrders(),!1);l.a.getOrders().forEach(function(e){"otelo"===e.currentBrand&&e.activations[0].creditDebitType===s.f.prepaid&&(n=!0)});var a=n?16:18,r=200,i=l.a.getOrders();0!==i.length&&i[0].activations.forEach(function(e){"vf"===e.brandKey?e.services.forEach(function(e){"YOUAGEVAL"===e&&(r=27,a=18)}):"otelo"===e.brandKey&&8===e.familyId&&(r=27,a=18)});var o=c.a.getAgeFromDate(t.value);return o<a?"Das Alter des Kunden darf nicht unter ".concat(a," Jahren liegen."):o>r?"Das Alter des Kunden darf nicht \xfcber ".concat(r," Jahren liegen."):""}},{key:"deliveryDateValidation",value:function(e){var t,n,a=e.getValue(),r=l.a.getOrders(),i=r.find(function(e){return"kabel"===e.currentBrand});if((i&&(t=i.activations.find(function(e){return"kabel"===e.brandKey})),void 0!==a.value&&0!==r.length&&void 0!==t)&&(n=new Date(t.activationDate),this.monthDiff(n,a.value)>6))return this.option.message;return""}},{key:"monthDiff",value:function(e,t){var n;return n=12*(t.getFullYear()-e.getFullYear()),n-=e.getMonth(),(n+=t.getMonth())<=0?0:n}},{key:"isNationalitySameAsIDcard",value:function(e){e.getValue();var t,n=l.a.getOrders();if(void 0!==n){if((t=n[0].customer).legitimation&&t.legitimation.type==s.l.foreign&&t.nationality&&"DEU"==t.nationality)return this.option.message;if(t.legitimation&&t.legitimation.type==s.l.german&&t.nationality&&"DEU"!==t.nationality)return this.option.message}return""}},{key:"isValidRequired",value:function(e){var t=e.getValue();return e.props.type!==o.d.password&&e.props.type!==o.d.text&&e.props.type!==o.d.dropdown||t&&t.value&&0!==t.value.toString().trim().length?"":this.option.message}},{key:"isValidExactLength",value:function(e){var t=e.getValue();return e.props.type!==o.d.text||void 0!==t.value&&t.value.length==this.option.targetValue?"":this.option.message.replace("$0",t.name).replace("$1",(this.option.targetValue?this.option.targetValue:0).toString())}},{key:"isValidMaxLength",value:function(e){var t=e.getValue();return e.props.type===o.d.text&&(void 0===t.value||t.value.length>(this.option.maxLength?this.option.maxLength:1))?this.option.message.replace("$0",t.name).replace("$1",(this.option.maxLength?this.option.maxLength:0).toString()):""}},{key:"isValidMinLength",value:function(e){var t=e.getValue();return e.props.type===o.d.text&&(void 0===t.value||t.value.length<(this.option.minLength?this.option.minLength:1))?this.option.message.replace("$0",t.name).replace("$1",(this.option.minLength?this.option.minLength:0).toString()):""}},{key:"isValidNumeric",value:function(e){var t=e.getValue(),n=new RegExp("^\\d+$").test(t.value?t.value:"");return void 0!==t.value&&n?"":(this.option.blockInputOnError&&this.blockInput(e),this.option.message.replace("$0",t.name))}},{key:"isInputInRange",value:function(e){var t=e.getValue();return new RegExp("^[0-9].{"+(this.option.minLength?this.option.minLength-1:0)+","+(this.option.maxLength?this.option.maxLength-1:0)+"}$").test(t.value)?"":this.option.message.replace("$0",t.name)}},{key:"isYearInRange",value:function(e){var t=e.getValue();(new Date).getFullYear().toString().substring(2,4);return Number(t.value)>=20&&Number(t.value)<=99?"":this.option.message}},{key:"blockInput",value:function(e){var t=e.getValue(),n=t.value?t.value:"";n.length>0&&e.setValue(n.substring(0,n.length-1))}},{key:"isMonthInRange",value:function(e){var t=e.getValue();return null!==/0[1-9]|1[0-2]/gm.exec(t.value)?"":this.option.message}},{key:"isMatch",value:function(e){var t=e.getValue(),n="";if(this.option.targetValue)n=this.option.targetValue;else if(this.option.targetControl){var a=c.a.GetComponent(this.option.targetControl);a&&(n=a.getValue().value)}else n=c.a.getValueByPath(this.option.source,this.option.targetMatch?this.option.targetMatch:"___");return t&&n&&(void 0==t.value||n.toString()!=t.value.toString())?this.option.message:""}},{key:"isEmail",value:function(e){var t=e.getValue();return t.value&&/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t.value.toLowerCase())?"":this.option.message.replace("$0",t.name)}},{key:"isPassword",value:function(e){var t=e.getValue();return t.value&&/^(?=.*[A-Za-z])(?=.*\d)(?=.*[A-Z])(?!\xe4\xf6\xfc\xd6\xc4\xdc\xdf)[A-Za-z\d_@.\/#%&-]{8,10}$/gm.test(t.value)?"":this.option.message.replace("$0",t.name)}},{key:"passwordOutsideCustomerData",value:function(e){var t=e.getValue();return t.value&&/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?!.*?[;,])(?!.*?[\xe4\xf6\xfc\xd6\xc4\xdc\xdf]).{8,30}$/gm.test(t.value)?"":this.option.message.replace("$0",t.name)}},{key:"isDateValid",value:function(e){var t=e.getValue();if("bdaydropdownfulldate"===t.id){var n=t.value;t.value=("0"+n.getDate()).slice(-2)+"/"+("0"+(n.getMonth()+1)).slice(-2)+"/"+n.getFullYear()}if(null!==/^(0[1-9]|[12][0-9]|3[01])[- \/.](0[1-9]|1[012])[- \/.](19|20)\d\d$/gm.exec(t.value)){var a=t.value.replace(/\//gm,".").split("."),r=new Date(+a[2],a[1]-1,+a[0]);"bdaydropdownfulldate"===t.id&&(t.value=r);var i=!1;l.a.getOrders().forEach(function(e){"otelo"===e.currentBrand&&e.activations[0].creditDebitType===s.f.prepaid&&(i=!0)});var o=i?16:18,u=200,d=l.a.getOrders();0!==d.length&&d[0].activations.forEach(function(e){"vf"===e.brandKey?e.services.forEach(function(e){"YOUAGEVAL"===e&&(u=27,o=18)}):"otelo"===e.brandKey&&8===e.familyId&&(u=27,o=18)});var p=c.a.getAgeFromDate(r);return p<o?"Das Alter des Kunden darf nicht unter ".concat(o," Jahren liegen."):p>u?"Das Alter des Kunden darf nicht \xfcber ".concat(u," Jahren liegen."):""}return"Geben Sie ein g\xfcltiges Format ein"}},{key:"isExactValue",value:function(e){var t=e.getValue();return void 0==t.value||void 0!=this.option.targetValue&&this.option.targetValue.toString()!=t.value.toString()?this.option.message:""}},{key:"isNotEqual",value:function(e){var t=e.getValue();return e.props.type!==o.d.dropdown||t.value&&t.value==this.option.targetValue?"":this.option.message}}]),e}();t.c=u},162:function(e,t,n){"use strict";var a=n(10);t.a=function e(){Object(a.a)(this,e),this.id=""}},163:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n(10),r=function e(){Object(a.a)(this,e),this.id="",this.text=void 0,this.css=void 0,this.visible=void 0,this.loading=void 0}},164:function(e,t,n){"use strict";var a=n(10),r=n(11),i=n(14),s=n(12),o=n(15),c=n(0),l=function(e){function t(e){return Object(a.a)(this,t),Object(i.a)(this,Object(s.a)(t).call(this,e))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return c.createElement("div",null,this.props.children)}}]),t}(c.Component);t.a=l},165:function(e,t,n){"use strict";var a=n(10),r=n(11),i=n(14),s=n(12),o=n(15),c=n(0),l=n(42),u=n(23),d=n(19),p=n(18),m=n(3),h=n(6),v=n(1),f=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).state={changed:!1},n}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,n={id:t.containerId,title:v.h.letterOfAceptance,transparent:!1};return c.createElement(p.a,{config:n},c.createElement(l.a,null,c.createElement(u.a,null,c.createElement(d.a,{xs:1,md:1,className:"np"},c.createElement(m.l,{type:h.d.checkbox,onChange:function(t){e.props.customer.bew.consent=!!t.checked&&t.checked,e.props.parentRefresh&&e.props.parentRefresh()},name:"consent",id:"consent_true",hideTitle:!0,label:"",checked:!!this.props.customer.bew&&this.props.customer.bew.consent})),c.createElement(d.a,{xs:11,md:11,className:"npr"},c.createElement(m.l,{type:h.d.hint,label:"Bestandteil des Vertrages sind die Allgemeinen Gesch\xe4ftsbedingungen der Vodafone GmbH sowie die Preisliste f\xfcr otelo Mobilfunkdienstleistungen. <br/><br/>Vodafone Kabel Deutschland/Vodafone tauscht Ihre personenbezogenen Daten zur Durchf\xfchrung von Bonit\xe4tspr\xfcfungen (\u201eBonit\xe4tsdaten\u201c) vor Auftragsannahme mit der Schufa GmbH sowie mit sonstigen Auskunfteien gem. Ziff. 7 der Datenschutz-Hinweise aus."})))),c.createElement(m.k,null))}}]),t}(c.Component);f.containerId="customerConsentContainer",t.a=f},166:function(e,t,n){"use strict";var a=n(10),r=n(11),i=n(14),s=n(12),o=n(15),c=n(7),l=n(0),u=(n(213),n(42)),d=n(23),p=n(19),m=n(21),h=n(1),v=n(18),f=n(2),b=n(3),y=n(8),g=n(33),E=n(5),k=n(28),C=n(17),_=n(13),O=n(58),S=n(9),w=n(134),x=n(6),P=n(16),D=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).cancel=new f.ICancellation,n.readonly=!1,n.viewState=O.a.undefined,n.processStatus={steps:[]},n.contract=void 0,n.printedDocument="",n.printed=!1,n.user=void 0,n.state={changed:!1,progress:E.p.cancellation},n.user=_.a.getUser(),n.contract=n.props.parent.data.customer.contracts?n.props.parent.data.customer.contracts[0]:{},n.contract.cancel&&(n.cancel=n.contract.cancel),n.cancel.cancellationTypeId=7,n.cancel.cancellationSpecialTypeId=1,n.cancel.reasonId=1,n.cancel.provisionRenounce=!1,n.cancel.employeeName=n.user?n.user.firstname+" "+n.user.surname:"",n.onChange=n.onChange.bind(Object(c.a)(Object(c.a)(n))),n}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;this.parseStatus();var t=l.createElement(l.Fragment,null,l.createElement(b.j,{type:f.ELButtonType.linkSimple,text:h.h.backToCustomerDataSheet,css:"action3 fr",onClick:function(){e.props.parent.onBackToCustomer(!0)}})),n={title:h.h.cancellation,transparent:!1,style:"",styleContainer:"",collapsible:!1,collapsed:!1,action:t},a=(h.k.cancellation,l.createElement(g.h,{progress:this.state.progress,states:[h.j.cancellation,h.j.overview,h.j.summary]}));y.a.easyApp.head&&(y.a.easyApp.head.setTitle(h.k.cancellation.toUpperCase()),y.a.easyApp.head.appendSub(a));var r=l.createElement(l.Fragment,null);if(this.viewState===O.a.activationDone){var i=S.from(this.processStatus.steps).where(function(e){return e.type===f.ERequestType.activation}).first();r=l.createElement(v.a,{config:n},l.createElement(u.a,null,l.createElement(d.a,null,l.createElement(p.a,{xs:12,md:12},i.message))))}else r=l.createElement(v.a,{config:n},l.createElement(u.a,null,l.createElement(d.a,null,l.createElement(p.a,{md:4},l.createElement(b.l,{type:f.EControlType.dropdown,value:this.cancel.cancellationTypeId,onChange:this.onChange,valueType:x.n.numberInt,preview:this.state.progress===E.p.overview,name:"cancellationTypeId",id:"cancellationTypeId",title:h.h.orderType,options:this.getOrderType(this.contract)})),this.cancel.cancellationTypeId==x.b.extraordinary?l.createElement(p.a,{md:6},l.createElement(b.l,{type:f.EControlType.dropdown,value:this.cancel.cancellationSpecialTypeId,onChange:this.onChange,valueType:x.n.numberInt,preview:this.state.progress===E.p.overview,name:"cancellationSpecialTypeId",id:"cancellationSpecialTypeId",title:h.h.extraordinaryCancellation,options:this.getExtraodrinaryCancellation()})):null),l.createElement(d.a,null,l.createElement(p.a,{md:12,className:"title"},h.h.reasoningPOS)),l.createElement(d.a,null,l.createElement(p.a,{md:4},l.createElement(b.l,{type:f.EControlType.dropdown,value:this.cancel.reasonId,valueType:x.n.numberInt,preview:this.state.progress===E.p.overview,onChange:this.onChange,name:"reasonId",id:"reasonId",title:h.h.typeOfCancellation,options:this.getCancellationReasons()})),l.createElement(p.a,{md:4})),l.createElement(d.a,null,l.createElement(p.a,{md:12},l.createElement(m.f,{hint:"Mind. 80 und Max. 140 Zeichen",type:f.EControlType.text,style:"merged",id:"reason",name:"reason",preview:this.state.progress===E.p.overview,value:this.cancel.reason,onChange:this.onChange,label:h.h.reason,validationOptions:[new P.c({type:P.a.required,message:h.m.requiredError}),new P.c({type:P.a.minLength,targetValue:80,message:"Min 80"}),new P.c({type:P.a.maxLength,targetValue:120,message:"Max 120"})]}))),l.createElement(d.a,null,l.createElement(p.a,{md:12,className:"title"},h.h.dealerInfo)),l.createElement(d.a,null,l.createElement(p.a,{md:12},l.createElement(m.f,{type:f.EControlType.text,style:"merged",id:"employeeName",name:"employeeName",preview:this.state.progress===E.p.overview,value:this.cancel.employeeName,onChange:this.onChange,label:h.h.dealerName}))),this.state.progress===E.p.overview?l.createElement(d.a,null,l.createElement(p.a,{md:12},l.createElement(m.f,{type:f.EControlType.checkbox,style:"merged tal",id:"provisionRenounce",name:"provisionRenounce",preview:this.state.progress===E.p.overview,checked:this.cancel.provisionRenounce,onChange:this.onChange,label:"Mit dieser Auftragsstornierung verzichten wir auf unsere Provision f\xfcr die <br/>ausgew\xe4hlten Neuauftr\xe4ge bzw. Vertragsverl\xe4ngerungen."})),l.createElement(p.a,{md:12},l.createElement("div",{className:"text-sub"},l.createElement("br",null),l.createElement("br",null),'Achtung: Bei Formularausdruck \xf6ffnet sich eine neuer Reiter un Ihrem Broeser. Nach dem Ausdruck, m\xfcssen Sie den Button "Absenden" dr\xfccken. Formular vom Kunden unterzeichnet f\xfcr m\xf6gliche R\xfcckfragen durch Vodafone oder Ihren L1 H\xe4ndelr lokal archivieren.'))):null,l.createElement(d.a,null,l.createElement(p.a,{xs:12,md:12},this.renderAction()))));return r}},{key:"parseStatus",value:function(){if(this.viewState=O.a.requestNeeded,this.processStatus.steps&&this.processStatus.steps.length>0){var e=S.from(this.processStatus.steps).where(function(e){return e.type===f.ERequestType.print}).first(),t=S.from(this.processStatus.steps).where(function(e){return e.type===f.ERequestType.activation}).first();e.status===f.ERequestStatus.done&&(this.viewState=O.a.printNeeded,this.printedDocument=e.message),this.printed&&(this.viewState=O.a.printReady),t.status===f.ERequestStatus.done&&(this.viewState=O.a.activationDone)}}},{key:"renderAction",value:function(){var e=this,t=l.createElement(l.Fragment,null);return this.viewState===O.a.activationDone?t:(this.state.progress===E.p.cancellation?t=l.createElement(l.Fragment,null,l.createElement(b.j,{type:f.ELButtonType.buttonWithIconRight,css:"a1 fr",id:"",text:h.h.next,onClick:function(){e.props.parent.data.customer.contracts&&(e.props.parent.data.customer.contracts[0].cancel=e.cancel,_.a.addOrder(e.props.parent.data));var t={props:{id:"dynamicPopup",title:"Stornoprozess wird vorbereitet",visible:!0,closable:!1,type:C.a.pleaseWait},closeOnDone:!0,content:l.createElement("div",null,h.k.customerData),callback:function(t){e.setState({progress:E.p.overview}),e.processStatus=t,e.setState({changed:!0})}};e.props.parent.processCustomer(function(){y.a.hub.send(JSON.stringify(e.props.parent.data),f.ERequestType.createCancellationProcess,void 0)},t)}})):this.state.progress===E.p.overview&&(t=l.createElement(l.Fragment,null,this.viewState===O.a.requestNeeded?l.createElement(b.j,{type:f.ELButtonType.buttonWithIconRight,css:"action3 fr",id:"",text:h.b.requestContract,onClick:function(){_.a.addOrder(e.props.parent.data),e.printed=!1;var t={props:{id:"dynamicPopup",title:"Ausdruck wird vorbereitet",visible:!0,closable:!1,type:C.a.pleaseWait},callback:function(t){e.processStatus=t,e.setState({changed:!0})},content:l.createElement("div",null,h.k.customerData)},n={innerType:f.ERequestType.customerSetCancellation,brandKey:e.props.parent.data.customer.contracts?e.props.parent.data.customer.contracts[0].brandKey:"",id:e.props.parent.data.id,orderId:e.props.parent.data.activations[0].id,receiverId:k.f.containerId};e.props.parent.processCustomer(function(){y.a.hub.send(JSON.stringify(n),f.ERequestType.print,void 0)},t)}}):null,this.viewState===O.a.printReady?l.createElement(b.j,{type:f.ELButtonType.buttonWithIconRight,css:"action3 fr",id:"",text:h.b.run,onClick:function(){_.a.addOrder(e.props.parent.data);var t={props:{id:"dynamicPopup",title:"Stornierung wird ausgef\xfchrt",visible:!0,closable:!1,type:C.a.pleaseWait},callback:function(t){e.setState({progress:E.p.summary}),e.processStatus=t,e.setState({changed:!0})},closeOnDone:!0,content:l.createElement("div",null,h.k.customerData)},n={innerType:f.ERequestType.customerSetCancellation,brandKey:e.props.parent.data.customer.contracts?e.props.parent.data.customer.contracts[0].brandKey:"",id:e.props.parent.data.id,orderId:e.props.parent.data.activations[0].id,receiverId:k.f.containerId};e.props.parent.processCustomer(function(){y.a.hub.send(JSON.stringify(n),f.ERequestType.activation,void 0)},t)}}):null,this.viewState===O.a.printNeeded||this.viewState===O.a.printReady?l.createElement(b.j,{type:f.ELButtonType.buttonWithIconRight,css:"action3 fr",id:"",text:h.b.print,onClick:function(){var t=S.from(e.processStatus.steps).where(function(e){return e.type===f.ERequestType.print}).first();JSON.parse(t.message);w.a.download(e.props.parent.data.activations[0],"",null),e.viewState=O.a.printReady,e.printed=!0,e.setState({changed:!0})}}):null)),t)}},{key:"onChange",value:function(e){y.a.setValueByPath(this.cancel,e.name,e.type===f.EControlType.checkbox?e.checked:e.value),this.props.parent.data.customer.contracts&&(this.props.parent.data.customer.contracts[0].cancel=this.cancel,_.a.addOrder(this.props.parent.data)),this.setState({changed:!0})}},{key:"getOrderType",value:function(e){var t=new Array;return this.user&&1===this.user.accountLevel?(e.cancel&&e.cancel.bntCancelable&&t.push({key:1,text:"Neuvertrag "}),e.cancel&&e.cancel.vvlCancelable&&t.push({key:2,text:"VVL"}),e.cancel&&e.cancel.twCancelable&&t.push({key:3,text:"TW"})):(e.cancel&&e.cancel.bntCancelable&&t.push({key:4,text:"Neuvertrag (Freigabe Level 1 erforderlich)"}),e.cancel&&e.cancel.vvlCancelable&&t.push({key:5,text:"VVL (Freigabe Level 1 erforderlich)"}),e.cancel&&e.cancel.twCancelable&&t.push({key:6,text:"TW (Freigabe Level 1 erforderlich)"})),t.push({key:7,text:"Ausserordenliche Stornierung"}),t}},{key:"getExtraodrinaryCancellation",value:function(){var e=new Array;return e.push({key:1,text:"Neuvertrag (NV)"}),e.push({key:2,text:"Neuvertrag mit Portierung (NMP)"}),e.push({key:3,text:"Tarifwechsel (TW)"}),e.push({key:4,text:"Vertragsverl\xe4ngerung (VVL)"}),e.push({key:5,text:"Bitte ausw\xe4hlen"}),e}},{key:"getCancellationReasons",value:function(){var e=new Array;return e.push({key:1,text:"Storno mit Provisionsverzicht"}),e.push({key:2,text:"Widerruf mit Provisionsverzicht"}),e}}]),t}(l.Component);t.a=D},167:function(e,t,n){"use strict";var a=n(10),r=n(11),i=n(14),s=n(12),o=n(15),c=n(0),l=n(1),u=n(18),d=n(42),p=n(23),m=n(19),h=n(21),v=n(3),f=n(2),b=n(13),y=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).state={},n}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.prepare(),t={title:e.isContent?"":e.title,transparent:!1},n=[];return e.message&&e.message.split("\n").map(function(e,t){return n.push("<p>"+e+"</p>")}),c.createElement(v.f,null,c.createElement(v.h,null,c.createElement(c.Fragment,null,c.createElement(u.a,{config:t},c.createElement("div",{className:"spacer-big"}),c.createElement(d.a,null,c.createElement(p.a,null,e.isContent?c.createElement(m.a,{xs:12,md:12,className:"tac"},c.createElement("div",{className:"title"},e.title),c.createElement("br",null),e.content):c.createElement(m.a,{xs:12,md:12,className:"np text tac",dangerouslySetInnerHTML:{__html:n.join("")}}))),c.createElement(h.e,null)))),c.createElement(c.Fragment,null))}},{key:"prepare",value:function(){var e=this.props.data;if(e.code)if(404===e.code)e.message=l.f.message404,e.title=l.f.title404;else if(403==e.code)e.message=l.f.message403,e.title=l.f.title403;else if(403.1==e.code){var t=b.a.getUser();e.message=l.f.message4031,e.isContent=!0,e.content=c.createElement(v.j,{type:f.ELButtonType.buttonWithIconRight,css:"aicon",text:"Zum VB-Tool",onClick:function(){window.open("https://bo.vf-easy.de","_blank")}}),t&&(e.title=l.f.title4031.replace("$user",t.firstname+" "+t.surname))}return e.dc&&(e.message=l.f.message403,e.title=l.f.title403),e}}]),t}(c.Component);t.a=y},168:function(e,t,n){"use strict";var a=n(10),r=n(11),i=n(14),s=n(12),o=n(15),c=n(0),l=n(42),u=n(23),d=n(19),p=function(e){function t(e){return Object(a.a)(this,t),Object(i.a)(this,Object(s.a)(t).call(this,e))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e="c1";this.props.style&&(e+=" "+this.props.style);var t=this.props.children instanceof Array?this.props.children[0]:this.props.children;return c.createElement(l.a,{className:e,id:"container-main"},this.props.title?c.createElement(u.a,null,c.createElement(d.a,{xs:12,md:12},c.createElement("h1",null,this.props.title))):null,c.createElement(u.a,null,c.createElement(d.a,{xs:12,md:12},t)))}}]),t}(c.Component);t.a=p},17:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a,r=n(10),i=n(11),s=n(14),o=n(12),c=n(15),l=n(7),u=n(0),d=n(21),p=n(27),m=n(3),h=n(6),v=n(1),f=n(169),b=n.n(f);!function(e){e[e.info=0]="info",e[e.pleaseWait=1]="pleaseWait",e[e.confirm=2]="confirm",e[e.custom=3]="custom",e[e.confirmCustom=4]="confirmCustom"}(a||(a={}));var y=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(o.a)(t).call(this,e))).hasAction=!1,n.title="",n.onDismiss=n.onDismiss.bind(Object(l.a)(Object(l.a)(n))),n.confirmNegative=n.confirmNegative.bind(Object(l.a)(Object(l.a)(n))),n.confirmPositive=n.confirmPositive.bind(Object(l.a)(Object(l.a)(n))),n.clickOverlay=n.clickOverlay.bind(Object(l.a)(Object(l.a)(n))),n.refresh=n.refresh.bind(Object(l.a)(Object(l.a)(n))),n.state={visible:n.props.visible,type:n.props.type,closable:n.props.closable},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({visible:e.visible,closable:e.closable,type:e.type})}},{key:"render",value:function(){if(!this.state.visible)return u.createElement(u.Fragment,null);var e=this.props.id+"-over",t="popup-overlay dn",n="popup",r={};this.title=this.props.title?this.props.title:"",this.props.type!==a.confirm||this.title?this.props.type!==a.pleaseWait||this.title||(this.title=v.h.pleaseWait):this.title="Bitte best\xe4tigen",this.state.visible&&(t="popup-overlay");var i=this.renderAction();if(this.hasAction||(n+=" noact"),this.props.width&&("number"===typeof this.props.height?r.width=this.props.width+"px":r.width=this.props.width),this.props.height)if("number"===typeof this.props.height){var s=200===this.props.height?300:this.props.height;r.height=s+"px"}else r.height=this.props.height;this.props.style&&(n+=" "+this.props.style);var o=this.renderContent();return u.createElement("div",{id:this.props.id},u.createElement("div",{id:e,className:t,onClick:this.clickOverlay}),u.createElement("div",{className:n,id:this.props.id,style:r},u.createElement("div",{className:"inner"},this.props.onDismiss&&this.state.closable?u.createElement("div",{className:"close",onClick:this.onDismiss}):null,u.createElement("div",{className:"title"},this.title),o,i?u.createElement("div",{className:"action-container"},u.createElement("div",{className:"popup-action"},i)):null)))}},{key:"refresh",value:function(e,t,n,a){this.setState({visible:e,closable:t,type:n,content:a})}},{key:"renderContent",value:function(){var e="content text-body",t=this.props.children?this.props.children[0]:u.createElement("div",null,"error");return this.state.type==a.pleaseWait?(e+=" center",t=p.a.GetLoaderWithText("Die Anfrage wird verarbeitet ... ")):this.state.type==a.confirm?(e+=" center",t=u.createElement("div",null,"Sind Sie sicher?")):this.state.type==a.custom&&(e+=" center",this.state.content&&(t=this.state.content)),b.a.renderToString(t).indexOf("answerError")>0&&(this.title=v.f.general),u.createElement("div",{className:e},t)}},{key:"renderAction",value:function(){var e=this.props.children&&this.props.children.length>0?this.props.children[this.props.children.length-1]:null,t=u.createElement(u.Fragment,null);return this.hasAction=void 0!==e,this.props.type===a.confirm||this.props.type===a.confirmCustom?t=u.createElement(d.a,null,u.createElement(m.j,{text:this.props.textNegative?this.props.textNegative:v.h.cancel,css:"fl",icon:"cancel",type:h.h.linkWithIconLeft,onClick:this.confirmNegative}),u.createElement(m.j,{text:this.props.textPositive?this.props.textPositive:v.h.ok,css:"fr",icon:"ok",type:h.h.buttonWithIconRight,onClick:this.confirmPositive})):e&&(t=e),t}},{key:"clickOverlay",value:function(){this.props.closable&&(this.setState({visible:!1}),this.onDismiss())}},{key:"identify",value:function(e){return e}},{key:"onDismiss",value:function(){this.props.onDismiss&&this.props.onDismiss()}},{key:"confirmPositive",value:function(){this.props.onPositive&&this.props.onPositive()}},{key:"confirmNegative",value:function(){this.props.onNegative&&this.props.onNegative()}}]),t}(u.Component);t.b=y},170:function(e,t,n){"use strict";n.d(t,"a",function(){return E});var a=n(10),r=n(11),i=n(14),s=n(12),o=n(15),c=n(7),l=n(0),u=n(42),d=n(23),p=n(19),m=n(21),h=n(17),v=n(18),f=n(2),b=n(25),y=n(8),g=n(1),E=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).processPopupState=h.a.pleaseWait,n._loadData=function(){n.processPopupState=h.a.pleaseWait,n.setState({processing:!0});var e={id:n.state.msisdn};y.a.hub.send(JSON.stringify(e),f.ERequestType.loadPortingStatus,void 0)},n._onDismissProcessPopup=function(){n.setState({processing:!1})},n._onMsisdnChange=function(e){n.setState({msisdn:e.value})},y.a.easyApp.setTitle(g.h.mnpStatusPageTitle),n._loadData=n._loadData.bind(Object(c.a)(Object(c.a)(n))),n._onMsisdnChange=n._onMsisdnChange.bind(Object(c.a)(Object(c.a)(n))),n.state={msisdn:"",processing:!1,closblePopup:!1,popupTitle:"",apiMessage:""},n}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e={title:g.h.mnpStatus,transparent:!1,styleContainer:""},n=l.createElement(m.f,{type:f.EControlType.hint,value:g.h.status,preview:!0,name:"status",id:"status",label:this.state.statusMsg||""});return l.createElement("div",{id:t.containerId},l.createElement(m.c,null,l.createElement("div",null,l.createElement(h.b,{type:this.processPopupState,visible:this.state.processing||this.state.closblePopup,closable:this.state.closblePopup,id:"wait",title:this.state.popupTitle,height:200,onDismiss:this._onDismissProcessPopup},l.createElement(m.h,null,l.createElement("div",null,this.state.apiMessage),l.createElement(l.Fragment,null)),l.createElement(l.Fragment,null)),l.createElement(v.a,{config:e},l.createElement(u.a,{className:"container-action"},l.createElement(d.a,null,l.createElement(p.a,{xs:6,md:6},l.createElement(m.f,{type:f.EControlType.text,value:this.state.msisdn,onChange:this._onMsisdnChange,preview:!1,name:"msisdn",id:"msisdn",label:g.h.msisdn})),l.createElement(p.a,{xs:6,md:6},l.createElement(m.d,{type:f.ELButtonType.buttonWithIconRight,css:"ai fr",id:"buttonSearch",text:g.h.mnpStatus,onClick:this._loadData})))),l.createElement(m.e,null)),l.createElement(v.a,{config:{title:"Status",transparent:!1,styleContainer:""}},l.createElement(u.a,{className:"container-action"},l.createElement(d.a,null,l.createElement(p.a,{xs:"12",md:"12"},n)))))))}},{key:"socketCallback",value:function(e){if(e.error){var t=b.a.parseSummary(e,void 0);this.processPopupState=h.a.custom,this.setState({processing:!1,apiMessage:t.message,closblePopup:!0})}else e.data&&this.setState({processing:!1,statusMsg:e.data.data})}}]),t}(l.Component);E.containerId="mnpStatusScreen"},171:function(e,t,n){"use strict";var a=n(10),r=n(11),i=n(14),s=n(12),o=n(15),c=n(7),l=n(0),u=n(39),d=n(42),p=n(23),m=n(19),h=n(2),v=n(13),f=n(3),b=n(37),y=n(8),g=n(17),E=n(1),k=n(27),C=n(25),_=n(4),O=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).contract=void 0,n.lastApi=void 0,n.process=void 0,n.apiState=b.a.undefined,n.current=new h.PartnerCardGet,n.brand=void 0,n.onStart=n.onStart.bind(Object(c.a)(Object(c.a)(n))),n.onDismissPopup=n.onDismissPopup.bind(Object(c.a)(Object(c.a)(n))),n.socketCallback=n.socketCallback.bind(Object(c.a)(Object(c.a)(n))),n.state={status:h.ERequestStatus.undefined},n.current.id=n.props.parent.data.id,n.current.brandKey=_.b.vodafone,n.brand=v.a.getBrand(_.b.vodafone),n.contract=n.props.parent.data.customer.contracts?n.props.parent.data.customer.contracts[0]:{},n}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return l.createElement("div",{id:t.containerId},this.renderControl())}},{key:"onStart",value:function(e){this.process={steps:[]},this.apiState=b.a.inprocessTimer,this.lastApi=void 0,this.current.type=e,y.a.hub.send(JSON.stringify(this.current),e,void 0),this.setState({status:h.ERequestStatus.running},function(){})}},{key:"onDismissPopup",value:function(){this.lastApi=void 0,this.setState({status:h.ERequestStatus.undefined})}},{key:"renderPopup",value:function(){var e={title:E.a.requestInProcess,closable:this.state.status!==h.ERequestStatus.running,visible:this.state.status!==h.ERequestStatus.undefined&&this.state.status!==h.ERequestStatus.done,id:"partnerCardLoaderPopup",type:g.a.pleaseWait,onDismiss:this.onDismissPopup},t=l.createElement(l.Fragment,null);if(this.lastApi&&this.lastApi.status!=u.EApiResponseStatus.ok){var n=JSON.parse(this.lastApi.data),a=C.a.parseSummary(this.lastApi,n);e.closable=!0,e.visible=!0,e.type=g.a.info,t=l.createElement("div",null,a.message)}return k.a.GetPopup(e,t,void 0)}},{key:"renderGroups",value:function(){var e=this,t=this.props.parent.data.customer.contracts?this.props.parent.data.customer.contracts[0].groups:[],n=[];return t&&t.length>0&&t.map(function(t,a){n.push(e.renderGroup(t,a))}),l.createElement("div",{className:""},n)}},{key:"renderGroup",value:function(e,t){var n=this,a=h.CustomerGroup.createInstanceFromJson(e),r=a.getOwner(),i=a.getMembers();return l.createElement("div",{className:"group",key:"group-"+t},l.createElement("div",{className:"text-sub uc"},E.h.group+" "+e.groupName),l.createElement("div",{className:"spacer"}),this.renderMember(r),i&&i.length>0?i.map(function(e,t){return n.renderMember(e)}):null)}},{key:"renderMember",value:function(e){var t=h.MobileNumber.createInstanceFromJson(e.subscriberNumber),n=e.type===h.EGroupMemeberType.owner?"cardowner":"cardmember",a=h.TariffAndSub.createInstanceFromId(this.brand,e.tariffOption?e.tariffOption:"");return l.createElement("div",{className:"group-member"},l.createElement(d.a,null,l.createElement(p.a,null,l.createElement(m.a,{md:1},l.createElement("div",{className:"icon32 icon "+n})),l.createElement(m.a,{md:2},l.createElement("div",{className:"text-tiny uc group-text "+n},e.type===h.EGroupMemeberType.owner?E.h.owner:E.h.member)),l.createElement(m.a,{md:3},l.createElement("div",{className:"text-body uc group-text group-text-big "+n},t.toString())),l.createElement(m.a,{md:6},l.createElement("div",{className:"text-body uc group-text group-text-big "+n},a.productName)))))}},{key:"renderControl",value:function(){var e=this;return l.createElement(l.Fragment,null,l.createElement(d.a,null,l.createElement(p.a,null,this.state.status!==h.ERequestStatus.running?l.createElement(l.Fragment,null,this.props.parent.dataWrapper.hasPartnerGroups()?null:l.createElement(l.Fragment,null,l.createElement(m.a,{md:9},"Der Kunde besitzt keine Gruppenzugeh\xf6rigkeit. ",l.createElement("br",null),"* Um Partnerkarten (RED+) zu buchen, muss der Kunde einer Gruppe angeh\xf6ren."),l.createElement(m.a,{md:3},l.createElement(f.j,{text:"Gruppe erstellen",onClick:function(){e.onStart(h.ERequestType.customerGroupCreate)},css:"fr",type:h.ELButtonType.buttonWithIconRight,icon:"arrow-right"})))):null),l.createElement(p.a,null,l.createElement(m.a,{md:12,className:"np"},this.renderGroups()))),this.renderPopup())}},{key:"socketCallback",value:function(e){var t=JSON.parse(e.data);this.lastApi=t;var n=t.data;if(t.error)this.setState({status:h.ERequestStatus.failed});else if(null!=n){var a=JSON.parse(n.data),r=JSON.parse(a.steps[0].message);this.props.parent.data.customer=r,v.a.addOrder(this.props.parent.data),this.setState({status:h.ERequestStatus.done}),this.props.parent.refresh()}}}]),t}(l.Component);O.containerId="partnerCard",t.a=O},172:function(e,t,n){"use strict";var a=n(10),r=n(11),i=n(14),s=n(12),o=n(15),c=n(7),l=n(9),u=n(0),d=n(42),p=n(23),m=n(19),h=n(39),v=n(2),f=n(6),b=n(41),y=n(25),g=n(4),E=n(8),k=n(27),C=n(1),_=n(24),O=n(13),S=n(16),w=n(17),x=n(3),P=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).valoptIdCard=void 0,n.canceled=!1,n.model=new v.ExistingCustomerLogin,n.lastApi=void 0,n.valopt=void 0,n.valoptNumber=void 0,n.valoptPrefix=void 0,n.options=E.a.getPrefixes(),n.dc=new v.IDefCon,n.errorMessage="MSISDN muss 7 Ziffern lang sein",n.hintVF="7-Stellige MSISDN eingeben",n.msisdnLength=7,n.preSearch=function(e){if(n.model.brandKey!=g.b.dsl&&n.dc.canRunAvailability())if(n.model.brandKey==g.b.otelo)n.startSearch(e,void 0);else if(n.model.brandKey==g.b.otelo)n.startSearch(e,void 0);else{if(!b.d.validateFormular(void 0,!0,t.containerId))return void e.preventDefault();n.setState({queryAvailability:!0}),e.preventDefault()}else n.startSearch(e,void 0)},n.switchState=n.switchState.bind(Object(c.a)(Object(c.a)(n))),n.onChange=n.onChange.bind(Object(c.a)(Object(c.a)(n))),n.startSearch=n.startSearch.bind(Object(c.a)(Object(c.a)(n))),n.socketCallback=n.socketCallback.bind(Object(c.a)(Object(c.a)(n))),n.changeBrand=n.changeBrand.bind(Object(c.a)(Object(c.a)(n))),n.onDismissPopup=n.onDismissPopup.bind(Object(c.a)(Object(c.a)(n))),n.onCancelPopup=n.onCancelPopup.bind(Object(c.a)(Object(c.a)(n))),n.model.mode=v.EExistingCustomerLoginMode.password,n.model.brandKey="",n.dc=O.a.getDefCon(),n.valopt=[new S.c({type:S.a.required,message:C.m.requiredError})],n.valoptIdCard=[new S.c({type:S.a.required,message:C.m.requiredError}),new S.c({type:S.a.minLength,minLength:2,message:"Bitte, geben Sie die f\xfcnf letzten Buchstaben aus dem Personalausweis ein"}),new S.c({type:S.a.alphanumericWithoutGermanChars,message:"Bitte, geben Sie die f\xfcnf letzten Buchstaben aus dem Personalausweis ein"})],n.valoptPrefix=[new S.c({type:S.a.required,message:C.m.requiredError}),new S.c({type:S.a.numeric,message:"Bitte geben Sie die Rufnummer in folgendem Format ein: 0173",blockInputOnError:!0})],n.valoptNumber=n.getNumberValidation(),n.state={type:v.EExistingCustomerLoginMode.password,loading:!1,changed:!1,input:""},n}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){b.d.validateFormular(void 0,!1,t.containerId)}},{key:"render",value:function(){var e=this;if(!E.a.isDelaer(!1))return u.createElement("div",{id:t.containerId});var n=O.a.getDefCon(),a=1==l.from(n.brands).where(function(e){return e.available&&e.id==g.b.otelo}).count(),r=1==l.from(n.brands).where(function(e){return e.available&&e.id==g.b.vodafone}).count(),i=1==l.from(n.brands).where(function(e){return e.available&&e.id==g.b.dsl}).count();return""==this.model.brandKey&&(r?this.model.brandKey=g.b.vodafone:a?this.model.brandKey=g.b.otelo:i&&(this.model.brandKey=g.b.dsl)),u.createElement("div",{id:t.containerId},this.renderPopup(),this.dc.canRunAvailability()&&this.model.brandKey!=g.b.otelo&&this.renderPopupAvailability(),u.createElement("div",{className:"tool"},u.createElement("form",{autoComplete:"smartystreets"},u.createElement("input",{autoComplete:"false",name:"hidden",type:"text",className:"dn"}),u.createElement("div",{className:"info"},u.createElement("div",{className:"icon icon.big profile"}),u.createElement("div",{className:"title"},C.h.searchExisting)),u.createElement("div",{className:""},r?u.createElement("div",{title:"Vodafone",className:"brandi selector vf "+(this.model.brandKey==g.b.vodafone?"selected":""),onClick:function(){e.changeBrand("vf")}},u.createElement("div",{className:"desc"},"Mobilfunk")):null,a?u.createElement("div",{title:"otelo",className:"brandi selector otelo "+(this.model.brandKey==g.b.otelo?"selected":""),onClick:function(){e.changeBrand("otelo")}},u.createElement("div",{className:"desc"},"Mobilfunk")):null,i?u.createElement("div",{title:"DSL",className:"brandi selector dsl "+(this.model.brandKey==g.b.dsl?"selected":""),onClick:function(){e.changeBrand("dsl")}},u.createElement("div",{className:"desc"},"DSL")):null),u.createElement(x.k,null),this.renderLogin(),u.createElement("div",{className:"spacer clear"}),u.createElement("div",{className:"col-md-5"},u.createElement(x.j,{text:C.h.searchExisting,css:"fl",icon:"arrow-right",type:v.ELButtonType.buttonWithIconRight,onClickEvent:function(t){e.preSearch(t)}})))))}},{key:"socketCallbackPush",value:function(e){if(this.canceled)return this.canceled=!1,void(this.lastApi=void 0);var t=JSON.parse(e.data);if(!t.error){var n=t.data;O.a.addOrderAndReset(n),this.lastApi=void 0,this.setState({loading:!1}),this.model.reset(),_.a.route({url:"/customer/dashboard/"+n.id,title:C.h.existingCustomerActivation})}this.lastApi=t,this.setState({loading:!1})}},{key:"socketCallback",value:function(e){if(this.canceled)return this.canceled=!1,void(this.lastApi=void 0);var t=JSON.parse(e.data);if(!t.error){var n=t.data,a=JSON.parse(n.data).steps[0];if(a.status===f.k.done){var r=JSON.parse(a.message);O.a.addOrderAndReset(r),this.lastApi=void 0,this.setState({loading:!1}),this.model.reset(),_.a.route({url:"/customer/dashboard/"+r.id,title:C.h.existingCustomerActivation})}}this.lastApi=t,this.setState({loading:!1,input:this.options[0].text})}},{key:"renderLogin",value:function(){return this.model.brandKey===g.b.dsl?this.renderDsl():this.model.brandKey===g.b.otelo?this.renderOtelo():this.model.brandKey===g.b.vodafone?this.renderVodafone():u.createElement(u.Fragment,null)}},{key:"renderOtelo",value:function(){return u.createElement(u.Fragment,null,u.createElement("div",{className:"input-round"},u.createElement(x.l,{onChange:this.onChange,hideHint:!1,type:f.d.text,hideTitle:!0,style:"",controlStlye:"form-control",name:"ecusername",id:"ecUsername",autoComplete:"nope1",placeholder:"Mobilfunknummer (MSISDN)",hideLabel:!0,validationOptions:this.valoptNumber,value:this.model.ecusername,checked:this.model.mode==v.EExistingCustomerLoginMode.password})),u.createElement(x.k,null),u.createElement("div",{className:"info"},u.createElement("div",{className:"icon icon.big lock"}),u.createElement("div",{className:"title row"},u.createElement("div",{className:"col-md-5"},u.createElement(x.l,{onChange:this.switchState,hideHint:!0,type:f.d.radio,hideTitle:!0,style:"",name:"loginType",id:"loginType_0",label:"Kennwort",value:v.EExistingCustomerLoginMode.password,checked:this.model.mode==v.EExistingCustomerLoginMode.password})),u.createElement("div",{className:"col-md-7"},u.createElement(x.l,{onChange:this.switchState,hideHint:!0,type:f.d.radio,hideTitle:!0,value:v.EExistingCustomerLoginMode.birthday,name:"loginType",id:"loginType_1",label:"Geburtsdatum",checked:this.model.mode==v.EExistingCustomerLoginMode.birthday})))),this.model.mode===v.EExistingCustomerLoginMode.password?u.createElement("div",{className:"input-round"},u.createElement(x.l,{onChange:this.onChange,onEnter:this.preSearch,hideHint:!1,type:f.d.password,hideTitle:!0,style:"",controlStlye:"form-control",name:"ecpassword",id:"ecPassword",autoComplete:"nope1",hideLabel:!0,validationOptions:this.valopt,value:this.model.ecpassword,placeholder:"Kennwort"})):u.createElement(u.Fragment,null,u.createElement("div",{className:"input-round"},u.createElement(x.l,{onChange:this.onChange,onEnter:this.preSearch,hideHint:!1,type:f.d.text,hideTitle:!0,style:"",controlStlye:"form-control",name:"birthday",id:"ecBirthday",autoComplete:"nope1",hideLabel:!0,validationOptions:this.valopt,value:this.model.birthday,placeholder:C.h.dateOfBirth})),u.createElement("div",{className:"spacer clear"}),u.createElement("div",{className:"input-round"},u.createElement(x.l,{onChange:this.onChange,onEnter:this.preSearch,hideHint:!1,type:f.d.text,hideTitle:!0,style:"",controlStlye:"form-control",name:"additional",id:"ecAdditional",autoComplete:"nope1",maxLength:5,hideLabel:!0,validationOptions:this.valoptIdCard,value:this.model.additional,placeholder:"Die f\xfcnf letzten Buchstaben des Ausweises"}))))}},{key:"renderVodafone",value:function(){var e=this;return""===this.model.temp1&&(this.model.temp1=this.options[0].text),u.createElement(u.Fragment,null,u.createElement(d.a,null,u.createElement(p.a,null,u.createElement(m.a,{md:5,className:"np"},u.createElement("select",{name:"temp1",id:"temp1",value:this.state.input,onChange:function(t){e.onChangeDropDown(t)},style:{borderRadius:"15px",height:"32px",width:"110px",backgroundColor:"#E0E0E0",borderColor:"#f8f9fa"}},this.renderOptions())),u.createElement(m.a,{md:7},u.createElement("div",{className:"input-round"},u.createElement(x.l,{onChange:this.onChange,hint:this.hintVF,type:f.d.text,hideTitle:!0,style:"",controlStlye:"form-control",name:"temp2",id:"temp2",autoComplete:"nope1",placeholder:"Nummer",hideLabel:!0,validationOptions:this.valoptNumber,value:this.model.temp2}))))),u.createElement(x.k,null),u.createElement("div",{className:"input-round"},u.createElement(x.l,{onChange:this.onChange,onEnter:this.preSearch,hideHint:!1,type:f.d.password,hideTitle:!0,style:"",controlStlye:"form-control",name:"ecpassword",id:"ecPassword",autoComplete:"nope1",hideLabel:!0,validationOptions:this.valopt,value:this.model.ecpassword,placeholder:"Kennwort"})))}},{key:"renderDsl",value:function(){return u.createElement(u.Fragment,null,u.createElement(d.a,null,u.createElement(p.a,null,u.createElement(m.a,{md:5,className:"np"},u.createElement("div",{className:"input-round"},u.createElement(x.l,{onChange:this.onChange,hideHint:!1,type:f.d.text,hideTitle:!0,style:"",controlStlye:"form-control",name:"temp1",id:"temp1",autoComplete:"nope1",placeholder:"Vorwahl",hideLabel:!0,validationOptions:this.valoptPrefix,value:this.model.temp1}))),u.createElement(m.a,{md:7},u.createElement("div",{className:"input-round"},u.createElement(x.l,{onChange:this.onChange,hint:"(Min.4 Ziffern, Max. 9 Ziffern)",type:f.d.text,hideTitle:!0,style:"",controlStlye:"form-control",name:"temp2",id:"temp2",autoComplete:"nope1-dsl",placeholder:"Nummer",hideLabel:!0,validationOptions:this.valoptNumber,value:this.model.temp2}))))),u.createElement(x.k,null),u.createElement("div",{className:"info"},u.createElement("div",{className:"icon icon.big lock"}),u.createElement("div",{className:"title row"},u.createElement("div",{className:"col-md-5"},u.createElement(x.l,{onChange:this.switchState,hideHint:!0,type:f.d.radio,hideTitle:!0,style:"",name:"loginType",id:"loginType_0",label:"Kennwort",value:v.EExistingCustomerLoginMode.password,checked:this.model.mode==v.EExistingCustomerLoginMode.password})),u.createElement("div",{className:"col-md-7"},u.createElement(x.l,{onChange:this.switchState,hideHint:!0,type:f.d.radio,hideTitle:!0,value:v.EExistingCustomerLoginMode.birthday,name:"loginType",id:"loginType_1",label:C.h.dateOfBirth,checked:this.model.mode==v.EExistingCustomerLoginMode.birthday})))),u.createElement("div",{className:"spacer clear"}),this.model.mode===v.EExistingCustomerLoginMode.password?u.createElement(u.Fragment,null,u.createElement("div",{className:"input-round"},u.createElement(x.l,{onChange:this.onChange,onEnter:this.preSearch,hideHint:!1,type:f.d.password,hideTitle:!0,style:"",controlStlye:"form-control",name:"ecpassword",id:"ecPassword",autoComplete:"nope1",hideLabel:!0,validationOptions:this.valopt,value:this.model.ecpassword,placeholder:C.h.customerPassword})),u.createElement("div",{className:"spacer clear"}),u.createElement("div",{className:"input-round"},u.createElement(x.l,{onChange:this.onChange,onEnter:this.preSearch,hideHint:!1,type:f.d.text,hideTitle:!0,style:"",controlStlye:"form-control",name:"additional",id:"ecAdditional",autoComplete:"nope1",hideLabel:!0,validationOptions:this.valopt,value:this.model.additional,placeholder:C.h.customerId}))):u.createElement(u.Fragment,null,u.createElement("div",{className:"input-round"},u.createElement(x.l,{onChange:this.onChange,onEnter:this.preSearch,hideHint:!1,type:f.d.text,hideTitle:!0,style:"",controlStlye:"form-control",name:"birthday",id:"ecBirthday",autoComplete:"nope1",hideLabel:!0,validationOptions:this.valopt,value:this.model.birthday,placeholder:C.h.dateOfBirth}))))}},{key:"getNumberValidation",value:function(){return this.model.brandKey==g.b.vodafone?("0151"===this.model.temp1||"0160"===this.model.temp1||"0176"===this.model.temp1?this.model.temp2.startsWith("9")&&"0160"===this.model.temp1?(this.errorMessage="MSISDN muss 8 Ziffern lang sein",this.msisdnLength=8):this.model.temp2.startsWith("9")||"0160"!==this.model.temp1||(this.errorMessage="MSISDN muss 7 Ziffern lang sein",this.msisdnLength=7):(this.errorMessage="MSISDN muss 7 Ziffern lang sein",this.msisdnLength=7),[new S.c({type:S.a.required,message:C.m.requiredError}),new S.c({type:S.a.numeric,message:"Bitte geben Sie die Rufnummer in folgendem Format ein: 1234567",blockInputOnError:!0}),new S.c({type:S.a.inputRange,minLength:this.msisdnLength,maxLength:this.msisdnLength,message:this.errorMessage})]):this.model.brandKey==g.b.dsl?[new S.c({type:S.a.required,message:C.m.requiredError}),new S.c({type:S.a.numeric,message:"Bitte geben Sie die Rufnummer in folgendem Format ein: 1234567",blockInputOnError:!0}),new S.c({type:S.a.inputRange,minLength:4,maxLength:9,message:"Bitte korrigieren Sie Ihre Eingabe dsl"})]:this.model.brandKey==g.b.otelo?[new S.c({type:S.a.required,message:C.m.requiredError}),new S.c({type:S.a.numeric,message:"Bitte geben Sie die Rufnummer in folgendem Format ein: 1234567",blockInputOnError:!0})]:[]}},{key:"onCancelPopup",value:function(){this.lastApi=void 0,this.canceled=!0,this.setState({loading:!1})}},{key:"onDismissPopup",value:function(){this.lastApi=void 0,this.setState({loading:!1,queryAvailability:!1})}},{key:"renderPopup",value:function(){var e=this,t={title:"Anmeldung wird ausgef\xfchrt",closable:!1,visible:this.state.loading,id:"existingLoaderPopup",type:w.a.pleaseWait,onDismiss:this.onDismissPopup,height:260},n=u.createElement("div",null);if(this.lastApi&&this.lastApi.status!=h.EApiResponseStatus.ok){var a=JSON.parse(this.lastApi.data),r=y.a.parseSummary(this.lastApi,a);t.title="Anmeldung fehlgeschlagen",t.closable=!0,t.visible=!0,t.type=w.a.info,n=u.createElement("div",null,r.message)}var i=u.createElement("div",null,u.createElement(x.j,{onClick:function(){e.onCancelPopup()},type:v.ELButtonType.buttonWithIconRight,css:"aicon fr",icon:"",text:C.h.cancel}));return k.a.GetPopup(t,n,i)}},{key:"renderPopupAvailability",value:function(){var e=this,t={title:C.h.availabilityCheck,closable:!0,visible:this.state.queryAvailability||!1,id:"existingAvailabilityPopup",type:w.a.custom,onDismiss:this.onDismissPopup,height:320},n=u.createElement("div",{className:"tal"},"Sichere Deinem Kunden noch mehr Vorteile:",u.createElement("br",null),"Hat dein Kunde Interesse an den Festnetz oder TV Produkten von Vodafone? Du kannst dir die Verf\xfcgbarkeit f\xfcr weitere Giga Kombi f\xe4hige Produkte innerhalb seines Kontos anzeigen lassen. ",u.createElement("br",null),u.createElement("br",null),"M\xf6chtest du die Verf\xfcgbarkeitsabfrage an der Adresse des Kunden durchf\xfchren?"),a=u.createElement("div",null,u.createElement(x.j,{onClick:function(t){e.model.withAvailability=0,O.a.resetAvailability(new v.Address,f.k.undefined),e.startSearch(t,void 0)},type:v.ELButtonType.linkSimple,css:"aicon fl",icon:"",text:C.h.no}),u.createElement(x.j,{onClick:function(t){e.model.withAvailability=1,O.a.resetAvailability(new v.Address,f.k.running),e.startSearch(t,void 0)},type:v.ELButtonType.buttonWithIconRight,css:"aicon fr",icon:"",text:C.h.yes}));return k.a.GetPopup(t,n,a)}},{key:"renderOptions",value:function(){var e=[];return this.options.forEach(function(t){e.push(u.createElement("option",{key:"op-"+t.key,value:t.text},t.text))}),e}},{key:"onChangeDropDown",value:function(e){this.model.temp1=e.target.value,"0160"===this.model.temp1?(this.hintVF="7 oder 8 Stellige MSISDN eingeben",this.errorMessage="MSISDN muss 8 Ziffern lang sein",this.msisdnLength=8):"0151"===this.model.temp1||"0176"===this.model.temp1?(this.hintVF="8-Stellige MSISDN eingeben",this.errorMessage="MSISDN muss 8 Ziffern lang sein",this.msisdnLength=8):(this.hintVF="7-Stellige MSISDN eingeben",this.errorMessage="MSISDN muss 7 Ziffern lang sein",this.msisdnLength=7),this.valoptNumber=this.getNumberValidation(),this.setState({changed:!0,input:e.target.value})}},{key:"onChange",value:function(e){var t=e.value;e.type===f.d.date&&(t=e.dateValue),this.model.brandKey===g.b.dsl&&(this.model.ecusername=this.model.temp1+"-"+this.model.temp2),E.a.setValueByPath(this.model,e.name,t),this.valoptNumber=this.getNumberValidation(),this.setState({changed:!0})}},{key:"startSearch",value:function(e,n){if(e&&e.preventDefault(),E.a.easyApp.checkDefCon()){this.model.brandKey!==g.b.otelo&&(this.model.ecusername=this.model.temp1+"-"+this.model.temp2),this.model.brandKey!=g.b.vodafone&&this.model.brandKey!=g.b.dsl||(this.model.ecpassword=this.model.ecpassword.toUpperCase());var a=b.d.validateFormular(void 0,!0,t.containerId);this.canceled=!1,a&&(this.lastApi=void 0,this.model.id=E.a.getUniqueId(),E.a.hub.send(JSON.stringify(this.model),v.ERequestType.loadCustomer,void 0),this.setState({loading:!0,queryAvailability:!1}))}}},{key:"switchState",value:function(e){this.model.mode=Number.parseInt(e.id.replace("loginType_","")),this.setState({type:this.model.mode})}},{key:"changeBrand",value:function(e){this.model.brandKey=e,this.model.mode=v.EExistingCustomerLoginMode.password,this.model.ecusername="",this.valoptNumber=this.getNumberValidation(),this.setState({changed:!0}),b.d.validateFormular(void 0,!1,t.containerId)}}]),t}(u.Component);P.uri="existing/",P.containerId="searchExisting",t.a=P},173:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var a=n(10),r=n(11),i=n(14),s=n(12),o=n(15),c=n(0),l=(n(634),function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).hasAction=!1,n.state={visible:n.props.visible,text:n.props.text},n}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({visible:e.visible})}},{key:"render",value:function(){c.Fragment;return this.props.visible?c.createElement("div",{className:"errorMessageContainer"},c.createElement("h3",null,this.props.text)):c.createElement(c.Fragment,null)}}]),t}(c.Component));t.b=l},174:function(e,t,n){"use strict";var a=n(10),r=n(11),i=n(14),s=n(12),o=n(15),c=n(0),l=n(21),u=n(6),d=n(42),p=n(23),m=n(19),h=n(3),v=n(17),f=n(37),b=n(39),y=n(2),g=n(25),E=n(8),k=n(27),C=n(1),_=n(13),O=n(310),S=n.n(O),w=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).mouse=void 0,n.componentDidMount=function(){n.handleWindowResize(),window.addEventListener("resize",n.handleWindowResize)},n.componentWillUnmount=function(){window.removeEventListener("resize",n.handleWindowResize)},n.handleWindowResize=function(){var e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,t=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;n.setState({windowWidth:e,windowHeight:t})},n.handStartCapture=function(){return n.setState({on:!0})},n.handleMouseMove=function(e){n.mouse=e;var t=n.state,a=t.isMouseDown,r=t.windowWidth,i=t.windowHeight,s=t.startX,o=t.startY,c=t.borderWidth,l=o,u=s,d=e.clientX,p=e.clientY,m=p>=o,h=p<=o,v=d>=s,f=d<=s,b=m&&f,y=h&&v,g=h&&f,E=c,k=0,C=0;a&&(m&&v&&(E="".concat(o,"px ").concat(r-d,"px ").concat(i-p,"px ").concat(s,"px"),k=d-s,C=p-o),b&&(E="".concat(o,"px ").concat(r-s,"px ").concat(i-p,"px ").concat(d,"px"),k=s-d,C=p-o,u=d),y&&(E="".concat(p,"px ").concat(r-d,"px ").concat(i-o,"px ").concat(s,"px"),k=d-s,C=o-p,l=p),g&&(E="".concat(p,"px ").concat(r-s,"px ").concat(i-o,"px ").concat(d,"px"),k=s-d,C=o-p,u=d,l=p)),n.setState({crossHairsTop:e.clientY,crossHairsLeft:e.clientX,borderWidth:E,cropWidth:k,cropHeigth:C,cropPositionTop:l,cropPositionLeft:u})},n.handleMouseDown=function(e){var t=e.clientX,a=e.clientY;n.setState(function(e){return{startX:t,startY:a,cropPositionTop:a,cropPositionLeft:t,isMouseDown:!0,borderWidth:"".concat(e.windowWidth,"px ").concat(e.windowHeight,"px")}})},n.handleMouseUp=function(e){n.handleClickTakeScreenShot(e),n.setState({on:!1,isMouseDown:!1,borderWidth:0})},n.handleClickTakeScreenShot=function(e){var t=n.state,a=t.cropPositionTop,r=t.cropPositionLeft,i=t.cropWidth,s=t.cropHeigth,o=document.querySelector("body");null!==o&&(S()(o).then(function(e){var t=document.createElement("canvas"),o=t.getContext("2d");t.width=i,t.height=s,null!==o&&o.drawImage(e,r,a,i,s,0,0,i,s),n.props.onEndCapture(t.toDataURL())},function(e){}),n.setState({crossHairsTop:0,crossHairsLeft:0}))},n.renderChild=function(){var e=n.props.children,t={onStartCapture:n.handStartCapture};return"function"===typeof e?e(t):e},n.state={on:!1,startX:0,startY:0,endX:0,endY:0,crossHairsTop:0,crossHairsLeft:0,isMouseDown:!1,windowWidth:0,windowHeight:0,borderWidth:0,cropPositionTop:0,cropPositionLeft:0,cropWidth:0,cropHeigth:0,imageURL:""},n}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.state,t=e.on,n=e.crossHairsTop,a=e.crossHairsLeft,r=e.borderWidth,i=e.isMouseDown;e.imageURL;return t?c.createElement("div",{onMouseMove:this.handleMouseMove,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp},this.renderChild(),c.createElement("div",{className:"overlay ".concat(i&&"highlighting"),style:{borderWidth:r}}),c.createElement("div",{className:"crosshairs",style:{position:"fixed",left:a+"px",top:n+"px"}})):this.renderChild()}}]),t}(c.Component);w.defaultProps={onStartCapture:function(){return null},onEndCapture:function(e){return null}};n(616);var x=function(e){function t(e){var n;Object(a.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).processPopupState=v.a.custom,n.user=void 0,n.model=void 0,n.cfg=E.a.getConfiguration(),n.handleScreenCapture=function(e){n.model.screenshot=e,n.setState({screenCapture:e,changed:!0,screenCaptureVisibility:!0})},n.user=_.a.getUser();var r=_.a.getOrders();return n.model={orderId:void 0!==r&&r.length>0?r[0].id:"",notes:"",screenshot:"",username:n.user?n.user.username:"",error_message:n.props.summary.message},n.state={hideShowArea:!1,changed:!1,screenCapture:"",successFeedback:!1,screenCaptureVisibility:!1,canvas:!1,screenshotStarted:!1},n}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;return c.createElement(c.Fragment,null,this.state.successFeedback?this.renderThankYouPopUp():null,this.renderBugReporter(),c.createElement(w,{onEndCapture:this.handleScreenCapture},function(t){var n=t.onStartCapture;return e.state.screenCaptureVisibility?e.screenShotTool(n):c.createElement(c.Fragment,null)}))}},{key:"renderBugReporter",value:function(){var e=this,n=c.createElement(d.a,{className:"full"},c.createElement(p.a,null,c.createElement(m.a,{xs:12,md:12,className:"np"},c.createElement("h2",{className:"text-muted font-weight-bold"},"Es ist ein Fehler aufgetreten"))),c.createElement(p.a,null,c.createElement(m.a,{xs:10,md:10},c.createElement("div",{id:"capture"},this.props.summary.answerError?c.createElement(c.Fragment,null,c.createElement(p.a,null,c.createElement(m.a,{xs:8,md:8},c.createElement("h4",{className:"text-muted font-weight-bolder mb-0"},"Das ist passiert:"))),c.createElement(p.a,null,c.createElement(m.a,{xs:8,md:8},c.createElement("p",{className:"text-muted font-weight-lighter mt-0"},this.props.summary.answerError.message)))):c.createElement(p.a,null,c.createElement(m.a,{xs:8,md:8},c.createElement("p",{id:"errorcanvas",className:"text-muted font-weight-lighter mt-0"},this.props.summary.message)))),this.props.summary.answerError?c.createElement(c.Fragment,null,c.createElement(p.a,null,c.createElement(m.a,{xs:8,md:8},c.createElement("h4",{className:"text-muted font-weight-bolder mb-0"},"Was kannst du tun?"))),c.createElement(p.a,null,c.createElement(m.a,{xs:8,md:8},c.createElement("p",{className:"text-muted font-weight-lighter mt-0"},this.props.summary.answerError.suggestion)))):null),c.createElement(m.a,null,c.createElement(p.a,null,c.createElement(m.a,{xs:2,md:2},c.createElement(l.i,{status:f.a.failed,id:"stfail"}))))),c.createElement(p.a,null,c.createElement(m.a,{xs:12,md:12,className:"np"},c.createElement(h.j,{type:y.ELButtonType.linkWithIconRight,css:"action4 right",icon:this.state.hideShowArea?"chevron-up-small":"chevron-down-small",text:"Fehler melden",onClick:function(){e.setState({hideShowArea:!e.state.hideShowArea})}})),this.state.hideShowArea?c.createElement("div",{id:"collapseOne","aria-labelledby":"headingOne","data-parent":"#accordion"},c.createElement("div",{className:""},"Nutze unsere Meldefunktion, wenn dir unser Tip nicht helfen konnte. Nehme einen Screenshot auf und f\xfcge deine Beschreibung an. Wir schauen uns deinen Fehler schnellstm\xf6ligch an."),c.createElement(p.a,{className:"justify-content-md-left"},c.createElement(m.a,{xs:12,md:12},c.createElement(h.j,{type:y.ELButtonType.buttonWithIconRight,css:"a1 fr",id:"",text:"Fehler melden",onClick:function(){e.setState({screenCaptureVisibility:!0})}}))),c.createElement(p.a,null)):null));return c.createElement("div",{id:t.containerId},n)}},{key:"screenShotTool",value:function(e){var t=this,n=this.state,a=(n.screenCapture,n.screenCaptureVisibility,c.createElement(d.a,{className:"full tal"},c.createElement(p.a,null,c.createElement(m.a,{xs:12,md:12},c.createElement("p",{className:"text-muted font-weight-lighter mt-0"},"Ein Screenshot von deinem Bildschirm wurde erfolreich aufgenommen."))),c.createElement(p.a,null,c.createElement(m.a,{xs:12,md:12},c.createElement(h.j,{type:y.ELButtonType.linkWithIconRight,css:"action4 right",text:"Screenshot anzeigen",onClick:e}),c.createElement("img",{src:null!==this.state.screenCapture?this.state.screenCapture:""}))),c.createElement(p.a,null,c.createElement(m.a,{xs:12,md:12},c.createElement("p",{className:"text-muted font-weight-lighter mt-0"},"Beschreibung:"))),c.createElement(p.a,null,c.createElement(m.a,{md:12,xs:12},c.createElement("div",{className:"form-group"},c.createElement("textarea",{id:"notes",style:{backgroundColor:"#DCDCDC",borderRadius:"15px"},onChange:function(e){t.model.notes=e.target.value},className:"form-control",rows:5})))))),r={props:{id:"dynamicPopup",title:"Fehler melden",visible:!0,closable:!1,style:"tal",type:v.a.custom,height:500,width:800},content:a,action:c.createElement(c.Fragment,null,c.createElement(h.j,{type:y.ELButtonType.buttonWithIconRight,css:"a1 fl",id:"",text:C.h.cancel,onClick:function(){t.setState({screenCaptureVisibility:!1})}}),c.createElement(h.j,{type:y.ELButtonType.buttonWithIconRight,css:"a1 fr",id:"",text:"Absenden",onClick:function(){g.a.fetch("activation/saveFeedback",t.model,"POST",function(e){e.status===b.EApiResponseStatus.ok&&t.setState({screenCaptureVisibility:!1,successFeedback:!0})})}}))};return k.a.GetPopup(r.props,r.content,r.action)}},{key:"screenshot",value:function(){document.getElementById("capture")}},{key:"renderThankYouPopUp",value:function(){var e=this,t={props:{id:"dynamicPopup",title:"Danke f\xfcr dein Feedback!",visible:!0,closable:!1,style:"tal",type:v.a.custom},content:c.createElement(d.a,{className:"full"},c.createElement(p.a,null,c.createElement(m.a,{xs:12,md:12},c.createElement("p",{className:"text-muted font-weight-lighter mt-0"},"Deine Fehlermeldung wurde erfolgreich \xfcbermittelt.")))),action:c.createElement(c.Fragment,null,c.createElement(h.j,{type:y.ELButtonType.buttonWithIconRight,css:"a1 fr",id:"",text:"OK",onClick:function(){e.setState({screenCaptureVisibility:!1,successFeedback:!1})}}))};return k.a.GetPopup(t.props,t.content,t.action)}}]),t}(c.Component);x.containerId="userFeedback";var P=x,D=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).api=void 0,n.process=void 0,n.state={changed:!1},n}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.api=e.api,this.process=e.process,this.setState({changed:!0})}},{key:"render",value:function(){var e=this,t=c.createElement(c.Fragment,null),n=c.Fragment,a="",r="";if(this.process=this.props.process,this.props.apiState===f.a.undefined)return c.createElement("div",null,"status: ",this.props.apiState);a=this.props.apiState===f.a.inprocessTimer||this.props.apiState===f.a.inprocess?C.k.inProcess:this.props.apiState==f.a.done?C.k.success:this.props.apiState===f.a.warning?C.k.info:C.k.error,n=c.createElement(l.i,{counter:this.props.resetTimer?l.i.defaultTimer:void 0,id:this.props.timerId?this.props.timerId:"status_"+E.a.getUniqueId(),status:this.props.apiState,autoRestart:!0,completedCallback:function(){e.props.completedCallback()},stepCallback:this.props.processCallback});var i=g.a.parseSummary(this.api,this.process);i.status===u.k.failed?r+=" error":i.status===u.k.done?r+=" success":i.status===u.k.corrected&&(r+=" warn");var s=(i.code?i.code+": ":"")+i.message;return this.props.message&&(a=this.props.title,s=this.props.message),s=s.replace("undefined","").replace("null",""),t=c.createElement("div",{className:"apistatus "+r},c.createElement("div",{className:"info"},a),c.createElement("div",{className:"act"},n),i.status!=u.k.tempResult&&c.createElement("div",{className:"details"},s),c.createElement(h.k,null)),i.status===u.k.failed&&(t=this.props.parent&&"welcomescreen"===this.props.parent.props.parent.componentId?c.createElement("div",{className:"apistatus "+r},c.createElement("div",{className:"info"},a),c.createElement("div",{className:"act"},n),c.createElement("div",{className:"details"},i.message)):c.createElement(P,{summary:i})),t}}]),t}(c.Component);t.a=D},18:function(e,t,n){"use strict";var a=n(10),r=n(11),i=n(14),s=n(12),o=n(15),c=n(0),l=n(3),u=n(2),d=function(e){function t(e){return Object(a.a)(this,t),Object(i.a)(this,Object(s.a)(t).call(this,e))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return this.props.children&&0!==this.props.children.length?c.createElement("div",{className:"block-action"},this.props.children):c.createElement(c.Fragment,null)}}]),t}(c.Component),p=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).collapsed=!1,n.collapsed=!!n.props.config.collapsed&&n.props.config.collapsed,n.state={changed:!1},n}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.collapsed=!!e.config.collapsed&&e.config.collapsed,this.setState({changed:!0})}},{key:"render",value:function(){var e="block block-inner page-break-avoid",t="block-container";return this.props.config.transparent&&(e+=" block-trans"),this.props.config.styleContainer&&(e+=" "+this.props.config.styleContainer),this.props.config.style&&(t+=" "+this.props.config.style),this.collapsed&&(t+=" dn"),c.createElement("div",{className:e,id:this.props.config.id},this.props.config.teaser?this.props.config.teaser:null,this.props.config.title&&this.props.config.title.length>0?c.createElement("div",{className:"title"},c.createElement("span",null,this.props.config.title),this.props.config.titleDesc?c.createElement("div",{className:"desct"},this.props.config.titleDesc):null,this.props.config.action?c.createElement("div",{className:"action"},this.props.config.action):null,c.createElement("div",{className:"spacer-dim2"})):null,this.props.config.collapsible?this.renderCollapse():null,c.createElement(l.k,null),this.props.config.subTitle?c.createElement("div",{className:"subtitle"},this.props.config.subTitle):null,c.createElement("div",{className:t},this.props.children),c.createElement("div",{className:"clear"}))}},{key:"renderCollapse",value:function(){var e=this;return c.createElement(d,null,c.createElement(l.j,{type:u.ELButtonType.iconImage,css:"chevron",icon:this.collapsed?"chevron-down":"chevron-up",onClickEvent:function(t,n){return t.preventDefault(),t.stopPropagation(),e.collapsed=!e.collapsed,e.setState({changed:!0},function(){e.props.config.onCollapse&&e.props.config.onCollapse(e.collapsed)}),!1}}),c.createElement(c.Fragment,null))}}]),t}(c.Component);t.a=p},2:function(e,t,n){"use strict";var a=n(102);n.d(t,"Address",function(){return a.a});var r=n(49);n.d(t,"Availability",function(){return r.g});var i=n(64);n.d(t,"IActivation",function(){return i.c});var s=n(119);n.d(t,"Tel",function(){return s.b});var o=n(72);n.d(t,"OrderDataWrapper",function(){return o.a});var c=n(261);n.d(t,"ExistingCustomerLogin",function(){return c.a});n(262),n(263),n(162);var l=n(264);n.d(t,"TariffAndSub",function(){return l.a});var u=n(265);n.o(u,"ConsumptionItem")&&n.d(t,"ConsumptionItem",function(){return u.ConsumptionItem}),n.o(u,"CustomerGroup")&&n.d(t,"CustomerGroup",function(){return u.CustomerGroup}),n.o(u,"EAppState")&&n.d(t,"EAppState",function(){return u.EAppState}),n.o(u,"ECustomerActionPurchase")&&n.d(t,"ECustomerActionPurchase",function(){return u.ECustomerActionPurchase}),n.o(u,"ECustomerStatus")&&n.d(t,"ECustomerStatus",function(){return u.ECustomerStatus}),n.o(u,"EFormMode")&&n.d(t,"EFormMode",function(){return u.EFormMode}),n.o(u,"EGroupMemeberType")&&n.d(t,"EGroupMemeberType",function(){return u.EGroupMemeberType}),n.o(u,"ICancellation")&&n.d(t,"ICancellation",function(){return u.ICancellation}),n.o(u,"IDefCon")&&n.d(t,"IDefCon",function(){return u.IDefCon}),n.o(u,"InfoItem")&&n.d(t,"InfoItem",function(){return u.InfoItem}),n.o(u,"MobileNumber")&&n.d(t,"MobileNumber",function(){return u.MobileNumber}),n.o(u,"PartnerCardGet")&&n.d(t,"PartnerCardGet",function(){return u.PartnerCardGet});var d=n(163);n.d(t,"InfoItem",function(){return d.a});n(266);var p=n(267);n.o(p,"ConsumptionItem")&&n.d(t,"ConsumptionItem",function(){return p.ConsumptionItem}),n.o(p,"CustomerGroup")&&n.d(t,"CustomerGroup",function(){return p.CustomerGroup}),n.o(p,"EAppState")&&n.d(t,"EAppState",function(){return p.EAppState}),n.o(p,"ECustomerActionPurchase")&&n.d(t,"ECustomerActionPurchase",function(){return p.ECustomerActionPurchase}),n.o(p,"ECustomerStatus")&&n.d(t,"ECustomerStatus",function(){return p.ECustomerStatus}),n.o(p,"EFormMode")&&n.d(t,"EFormMode",function(){return p.EFormMode}),n.o(p,"EGroupMemeberType")&&n.d(t,"EGroupMemeberType",function(){return p.EGroupMemeberType}),n.o(p,"ICancellation")&&n.d(t,"ICancellation",function(){return p.ICancellation}),n.o(p,"IDefCon")&&n.d(t,"IDefCon",function(){return p.IDefCon}),n.o(p,"MobileNumber")&&n.d(t,"MobileNumber",function(){return p.MobileNumber}),n.o(p,"PartnerCardGet")&&n.d(t,"PartnerCardGet",function(){return p.PartnerCardGet});var m=n(268);n.o(m,"ConsumptionItem")&&n.d(t,"ConsumptionItem",function(){return m.ConsumptionItem}),n.o(m,"CustomerGroup")&&n.d(t,"CustomerGroup",function(){return m.CustomerGroup}),n.o(m,"EAppState")&&n.d(t,"EAppState",function(){return m.EAppState}),n.o(m,"ECustomerActionPurchase")&&n.d(t,"ECustomerActionPurchase",function(){return m.ECustomerActionPurchase}),n.o(m,"ECustomerStatus")&&n.d(t,"ECustomerStatus",function(){return m.ECustomerStatus}),n.o(m,"EFormMode")&&n.d(t,"EFormMode",function(){return m.EFormMode}),n.o(m,"EGroupMemeberType")&&n.d(t,"EGroupMemeberType",function(){return m.EGroupMemeberType}),n.o(m,"ICancellation")&&n.d(t,"ICancellation",function(){return m.ICancellation}),n.o(m,"IDefCon")&&n.d(t,"IDefCon",function(){return m.IDefCon}),n.o(m,"MobileNumber")&&n.d(t,"MobileNumber",function(){return m.MobileNumber}),n.o(m,"PartnerCardGet")&&n.d(t,"PartnerCardGet",function(){return m.PartnerCardGet});var h=n(269);n.o(h,"ConsumptionItem")&&n.d(t,"ConsumptionItem",function(){return h.ConsumptionItem}),n.o(h,"CustomerGroup")&&n.d(t,"CustomerGroup",function(){return h.CustomerGroup}),n.o(h,"EAppState")&&n.d(t,"EAppState",function(){return h.EAppState}),n.o(h,"ECustomerActionPurchase")&&n.d(t,"ECustomerActionPurchase",function(){return h.ECustomerActionPurchase}),n.o(h,"ECustomerStatus")&&n.d(t,"ECustomerStatus",function(){return h.ECustomerStatus}),n.o(h,"EFormMode")&&n.d(t,"EFormMode",function(){return h.EFormMode}),n.o(h,"EGroupMemeberType")&&n.d(t,"EGroupMemeberType",function(){return h.EGroupMemeberType}),n.o(h,"ICancellation")&&n.d(t,"ICancellation",function(){return h.ICancellation}),n.o(h,"IDefCon")&&n.d(t,"IDefCon",function(){return h.IDefCon}),n.o(h,"MobileNumber")&&n.d(t,"MobileNumber",function(){return h.MobileNumber}),n.o(h,"PartnerCardGet")&&n.d(t,"PartnerCardGet",function(){return h.PartnerCardGet});var v=n(270);n.o(v,"ConsumptionItem")&&n.d(t,"ConsumptionItem",function(){return v.ConsumptionItem}),n.o(v,"CustomerGroup")&&n.d(t,"CustomerGroup",function(){return v.CustomerGroup}),n.o(v,"EAppState")&&n.d(t,"EAppState",function(){return v.EAppState}),n.o(v,"ECustomerActionPurchase")&&n.d(t,"ECustomerActionPurchase",function(){return v.ECustomerActionPurchase}),n.o(v,"ECustomerStatus")&&n.d(t,"ECustomerStatus",function(){return v.ECustomerStatus}),n.o(v,"EFormMode")&&n.d(t,"EFormMode",function(){return v.EFormMode}),n.o(v,"EGroupMemeberType")&&n.d(t,"EGroupMemeberType",function(){return v.EGroupMemeberType}),n.o(v,"ICancellation")&&n.d(t,"ICancellation",function(){return v.ICancellation}),n.o(v,"IDefCon")&&n.d(t,"IDefCon",function(){return v.IDefCon}),n.o(v,"MobileNumber")&&n.d(t,"MobileNumber",function(){return v.MobileNumber}),n.o(v,"PartnerCardGet")&&n.d(t,"PartnerCardGet",function(){return v.PartnerCardGet});n(101);var f=n(131);n.d(t,"EAppState",function(){return f.a}),n.d(t,"IDefCon",function(){return f.b});var b=n(120);n.d(t,"CustomerGroup",function(){return b.a}),n.d(t,"ECustomerActionPurchase",function(){return b.b}),n.d(t,"ECustomerStatus",function(){return b.d}),n.d(t,"EFormMode",function(){return b.e}),n.d(t,"EGroupMemeberType",function(){return b.f}),n.d(t,"ICancellation",function(){return b.g});var y=n(271);n.d(t,"PartnerCardGet",function(){return y.a});var g=n(272);n.d(t,"MobileNumber",function(){return g.a});var E=n(273);n.d(t,"ConsumptionItem",function(){return E.a});var k=n(6);n.d(t,"EPortationType",function(){return k.j}),n.d(t,"EDesiredSchedule",function(){return k.f}),n.d(t,"ETelType",function(){return k.m}),n.d(t,"ELButtonType",function(){return k.h}),n.d(t,"ERequestType",function(){return k.l}),n.d(t,"ERequestStatus",function(){return k.k}),n.d(t,"EComponentState",function(){return k.c}),n.d(t,"EControlType",function(){return k.d}),n.d(t,"EExistingCustomerLoginMode",function(){return k.g})},21:function(e,t,n){"use strict";var a=n(164),r=n(17),i=n(10),s=n(11),o=n(14),c=n(12),l=n(15),u=n(0),d=function(e){function t(e){return Object(i.a)(this,t),Object(o.a)(this,Object(c.a)(t).call(this,e))}return Object(l.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return this.props.children?u.createElement(u.Fragment,null,this.props.children.map(function(e,t){return e})):u.createElement(u.Fragment,null)}}]),t}(u.Component),p=n(37),m=(n(79),n(3));n.d(t,"h",function(){return a.a}),n.d(t,"g",function(){return r.b}),n.d(t,"a",function(){return d}),n.d(t,"i",function(){return p.b}),n.d(t,"d",function(){return m.j}),n.d(t,"e",function(){return m.k}),n.d(t,"f",function(){return m.l}),n.d(t,"b",function(){return m.b}),n.d(t,"c",function(){return m.f})},213:function(e,t,n){"use strict";var a=n(10),r=n(11),i=n(14),s=n(12),o=n(15),c=n(0),l=(n(274),function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).state={maxValue:"",initialValue:"",label:""},n}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){c.Fragment;return c.createElement("div",null,c.createElement("progress",{id:"bar",max:this.props.maxValue,value:this.props.initialValue}),c.createElement("label",{className:"lowerLabel",htmlFor:"bar"},"   ",this.props.label,"  "))}}]),t}(c.Component));t.a=l},24:function(e,t,n){"use strict";var a=n(10),r=n(11),i=n(0),s=n(73),o=n(121),c=n(170),l=n(104),u=n(28),d=n(14),p=n(12),m=n(15),h=n(7),v=n(42),f=n(23),b=n(19),y=n(133),g=n(17),E=n(18),k=n(45),C=n(3),_=n(6),O=n(105),S=n(8),w=n(27),x=n(1),P=n(13),D=function e(){Object(a.a)(this,e),this.username="",this.url="",this.error="",this.data=""},T=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).model=new D,n.errorFromReponse=new D,n.timerCompleted=n.timerCompleted.bind(Object(h.a)(Object(h.a)(n))),n.onConfirmNegative=n.onConfirmNegative.bind(Object(h.a)(Object(h.a)(n))),S.a.easyApp.setTitle("test"),n.showConfirm=n.showConfirm.bind(Object(h.a)(Object(h.a)(n))),n.showCustom=n.showCustom.bind(Object(h.a)(Object(h.a)(n))),n.showWait=n.showWait.bind(Object(h.a)(Object(h.a)(n))),n.closeAll=n.closeAll.bind(Object(h.a)(Object(h.a)(n))),n.onclick=n.onclick.bind(Object(h.a)(Object(h.a)(n))),n.model.error="this is test error",n.model.url="test url",n.model.data="test data",n.model.username="test username",n.state={customVisible:!1,pleaseWaitVisible:!1,confirmVisible:!1,table1:!1,table2:!1,responseError:!1,iframeSrc:"https://apps.unitymedia.de/SpiceExternal/"},n}return Object(m.a)(t,e),Object(r.a)(t,[{key:"timerCompleted",value:function(){}},{key:"clickme",value:function(e){alert(e)}},{key:"onclick",value:function(e){var t;(t=e.target?e.target:e)&&(t.classList.contains("thumb-blister")||this.onclick(t.parentNode))}},{key:"getHtml",value:function(){return'<div class="thumb thumb-blister vf" action="12"><div class="title"><div class="inner">RED XS</div></div> <div class="subtitle"><div class="inner">ALLET-FLAT</div></div> <div class="teaser"><div class="inner">3 M o. BASISPREIS</div></div> <div class="price">  <table><tr><td rowspan="2" class="price-unit">19,</td><td class="price-subunit">99</td></tr><tr><td class="price-desc">/MTL.</td></tr></table>  </div>  <div class="icon iicon red arrow-blister"></div> </div>'}},{key:"render",value:function(){var e=this;return i.createElement("div",null,i.createElement("div",{id:"container-main"},i.createElement(E.a,{config:{title:"",transparent:!1,style:"",styleContainer:"block-innerMiddle",collapsible:!1,collapsed:!1}},i.createElement(k.a,{type:_.h.linkSimple,text:"popup",css:"fl",onClick:function(){e.props.openPopup(e)}}))))}},{key:"expiredSessionUser",value:function(){var e=i.createElement(v.a,{className:"full tal"},i.createElement(f.a,null,i.createElement(b.a,{xs:12,md:12,className:"npr"},i.createElement(C.l,{type:_.d.textArea,id:"login"}),x.h.loginInfo))),t={props:{id:"dynamicPopup",title:"Ihre Sitzung ist abgelaufen",visible:!0,closable:!1,style:"tal",type:g.a.custom,height:200,width:500},content:e,action:i.createElement(i.Fragment,null,i.createElement(C.j,{type:_.h.buttonWithIconRight,css:"a1 fr",id:"",text:"Zum Login",onClick:function(){P.a.getUser()||S.a.easyApp.gotoDashboard()}}))};return w.a.GetPopup(t.props,t.content,t.action)}},{key:"onConfirmPositive",value:function(){this.setState({customVisible:!0})}},{key:"onConfirmNegative",value:function(){this.setState({customVisible:!1})}},{key:"showConfirm",value:function(){this.setState({confirmVisible:!0})}},{key:"showCustom",value:function(){this.setState({customVisible:!0})}},{key:"showWait",value:function(){this.setState({pleaseWaitVisible:!0})}},{key:"closeAll",value:function(){this.setState({pleaseWaitVisible:!1,confirmVisible:!1,customVisible:!1})}}]),t}(i.Component),A=Object(y.b)(O.c,O.b)(T),I=n(25),j=n(4),N=function(){function e(){Object(a.a)(this,e)}return Object(r.a)(e,null,[{key:"routeUrl",value:function(e){window.history.pushState("object or string","Title",e.url)}},{key:"route",value:function(t){e.last=t;var a=!1,r=(n(621),S.a.getConfiguration());S.a.easyApp.head&&S.a.easyApp.head.appendSub(null);var d=i.createElement(i.Fragment,null);if(t){var p=t.url.replace(I.a.getAppUrl(),""),m=p.split("/");if(p.toLowerCase().indexOf("/test")>=0)a=!0,d=i.createElement(A,null);else if(p.toLowerCase().indexOf("/am/drafts")>=0)a=!0,d=i.createElement(u.j,null);else if(p.toLowerCase().indexOf("/am/cancellation")>=0)a=!0,d=i.createElement(u.c,null);else if(p.toLowerCase().indexOf("/am/mnp/portingstatus")>=0)a=!0,d=i.createElement(u.u,{onChange:""});else if(p.toLowerCase().indexOf("/apps/orderproducts/selectdeliveryaddress")>=0){5===p.toLocaleLowerCase().split("/").length?(a=!0,d=i.createElement(u.r,{onChange:""})):(a=!0,d=i.createElement(u.i,{onChange:onchange}))}else if(p.toLowerCase().indexOf("/am/contractmanager")>=0)a=!0,d=i.createElement(u.e,null);else if(p.toLowerCase().indexOf("/apps/orderproducts")>=0)a=!0,d=i.createElement(u.s,{onChange:""});else if(p.toLowerCase().indexOf("/am/idscanner")>=0)a=!0,d=i.createElement(u.n,null);else if(p.toLowerCase().indexOf("/am/imei")>=0)a=!0,d=i.createElement(u.o,{uploadType:o.a.List});else if(p.toLowerCase().indexOf("/am/contractmanager")>=0)a=!0,d=i.createElement(u.e,null);else if(p.toLowerCase().indexOf("/ordering/clear")>=0)P.a.resetOrders(),d=i.createElement(u.v,null);else if(""==p||"/"==p||p.toLowerCase().indexOf("/ordering/welcome")>=0)P.a.resetOrders(),a=!0,d=i.createElement(u.v,null);else if(p.toLowerCase().indexOf("/ordering/preview")>=0)a=!0,d=i.createElement(u.t,{id:m[3],preview:!0});else if(p.toLowerCase().indexOf("/ordering/new/")>=0){a=!0;var h=e.getQueryVariable(t.url,"id"),v=e.getQueryVariable(t.url,"product"),f=e.getQueryVariable(t.url,"brand");d=i.createElement(u.t,{id:h,productId:v,brandKey:f,preview:!1})}else if(p.toLowerCase().indexOf("/customer/")>=0){a=!0;var b=p.toLocaleLowerCase().split("/"),y=l.a.main;"sim"==b[2]?y=l.a.sim:"cancellation"==b[2]?y=l.a.cancellation:"belatedporting"==b[2]?y=l.a.belatedPorting:"imei"==b[2]&&(y=l.a.imei),d=i.createElement(u.f,{id:b[3],dataMode:y})}else p.toLowerCase().indexOf("/user/password")>=0?(a=!0,d=i.createElement(u.k,null)):p.toLowerCase().indexOf("/user/profile")>=0?(a=!0,d=i.createElement(u.l,null)):p.toLowerCase().indexOf("/user/dealer")>=0?(a=!0,d=i.createElement(u.g,null)):p.toLowerCase().indexOf("/am/administration")>=0?(a=!0,d=i.createElement(u.a,null)):p.toLowerCase().indexOf("/am/mnp/status")>=0&&(a=!0,d=i.createElement(c.a,null));if(!S.a.isDelaer(!1))return s.b.setContainer(i.createElement(u.m,{data:{code:403.1}}),j.a.container),i.createElement(i.Fragment,null);if(a){var g=t.title?t.title:r.appTitle;return document.title=g,t.skipState||window.history.pushState(g,g,t.url),s.b.setContainer(d,j.a.container),i.createElement(i.Fragment,null)}s.b.setContainer(i.createElement(u.m,{data:{code:404}}),j.a.container)}var E=S.a.FindReact(document.getElementById(j.a.container));return i.createElement(u.p,{parent:E})}},{key:"reload",value:function(){e.route(e.last)}},{key:"routeAndCallback",value:function(t,n){e.route(t),n&&n()}},{key:"getQueryVariable",value:function(e,t,n){var a=e;e.indexOf("?")>0&&(a=e.substring(e.indexOf("?")+1));for(var r=a.split("&"),i=0;i<r.length;i++){var s=r[i].split("=");if(decodeURIComponent(s[0])==t)return decodeURIComponent(s[1])}return n||""}},{key:"isBlank",value:function(){return window.location.pathname.toLowerCase().indexOf("ordering/preview")>=0}}]),e}();N.last=void 0;t.a=N},25:function(e,t,n){"use strict";var a=n(10),r=n(11),i=n(0),s=n.n(i),o=n(8),c=n(4),l=n(13),u=n(2),d=n(9),p=n.n(d),m=(n(527),n(42)),h=n(23),v=n(19),f=n(169),b=n.n(f),y=function(){function e(){Object(a.a)(this,e)}return Object(r.a)(e,null,[{key:"follow",value:function(e){var t=o.a.getConfiguration();e.startsWith("http")||(e=t.apiUrl+e),window.open(e,"_blank")}},{key:"fetch",value:function(e){function t(t,n,a,r){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(t,n,a,r){var i=o.a.getConfiguration();t.startsWith("http")||(t=i.apiUrl+t);var s={method:a||c.g.get,credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},mode:"cors"};a!=c.g.get&&(s.body=JSON.stringify(n)),fetch(t,s).then(function(e){return e.json()}).then(function(e){return e}).then(function(t){e.parseResponse(t,function(e){r(t)})},function(e){console.error(e),r(e)})})},{key:"logout",value:function(){var t=l.a.getUser();t&&(l.a.clear(),window.location.href=t.logoutUrl+"?app="+e.getAppUrl())}},{key:"getAppUrl",value:function(){return location.protocol+"//"+location.host}},{key:"parseDefcon",value:function(e,t){e&&t(e.data)}},{key:"parseResponse",value:function(t,n){if(t){if(t.error&&t.error.action&&1==t.error.action.type)return l.a.clear(),void(window.location.href=t.error.action.url+"?app="+e.getAppUrl());n&&n(t)}}},{key:"parseModelState",value:function(e){var t={status:u.ERequestStatus.undefined,message:"",code:""};return e&&e.validation&&e.validation.items.length>0&&(t.status=u.ERequestStatus.failed,e.validation.items.map(function(e,n){e.Key!==c.f.form&&e.Key!==c.f.api||(t.message+="<li>"+e.Value+"</li>")})),t}},{key:"parseSummary",value:function(t,n){var a={status:u.ERequestStatus.undefined,message:"",code:""};if(t){if(t.error)return a.code=t.error.code,a.status=u.ERequestStatus.failed,a.message=t.error.message,a.validation=t.validation,e.extractErrorInfo(a,t.error.message),a;t.data&&n&&0==n.steps.length&&(n.steps=t.data.steps)}if(n)try{var r=p.a.from(n.steps).where(function(e){return e.status!=u.ERequestStatus.undefined}).orderByDescending(function(e){return e.type}).firstOrDefault();if(r){a.status=r.status;var i=JSON.parse(r.message);return a.message=i.Info?i.Info:i.Text,r.status!==u.ERequestStatus.done&&i.ErrorCode&&(a.message=i.ErrorCode+a.message),i.answerError&&(a.answerError=i.answerError),a}}catch(o){}else if(t&&!t.error&&(a.status=u.ERequestStatus.done,t.data)){var s=t.data;a.message=s.Text}return a}},{key:"extractErrorInfo",value:function(e,t){try{var n=JSON.parse(t),a=n.answerError;if(n.code&&(a=n),a){var r=s.a.createElement(m.a,{className:"full tal answerError"},s.a.createElement(h.a,null,s.a.createElement(v.a,{xs:12,md:12,className:"np"},s.a.createElement("div",{className:"font-weight-bold"},"Das ist passiert"))),s.a.createElement(h.a,null,s.a.createElement(v.a,{xs:12,md:12},a.message)),a.suggestion?s.a.createElement(s.a.Fragment,null,s.a.createElement(h.a,null,s.a.createElement(v.a,{xs:12,md:12,className:"np"},s.a.createElement("div",{className:"font-weight-bolder"},"Was kannst du tun?"))),s.a.createElement(h.a,null,s.a.createElement(v.a,{xs:12,md:12},a.suggestion))):null);e.message=b.a.renderToStaticMarkup(r)}}catch(i){}}},{key:"applyValidation",value:function(e){if(e&&e.validation)for(var t=0;t<e.validation.items.length;t++){var n=e.validation.items[t].Key,a=document.getElementById(n);if(!a)n="oec"+e.validation.items[t].Key.split(".")[1],a=document.getElementById(n);if(a||(n="oec"+(n=e.validation.items[t].Key).replace(".","-"),a=document.getElementById(n)),!a){var r=document.getElementsByName(e.validation.items[t].Key);r&&r.length&&(n=(a=r[0]).id)}if(a||(n="oeccustomer-"+e.validation.items[t].Key,a=document.getElementById(n)),a){var i=o.a.GetComponent(n);i&&i.setError(e.validation.items[t].Value)}}}},{key:"init",value:function(){l.a.getUser()}}]),e}();t.a=y},256:function(e,t){},257:function(e,t){},258:function(e,t,n){},259:function(e,t,n){"use strict";var a;n.d(t,"a",function(){return a}),function(e){e[e[void 0]=0]="undefined",e[e.ok=1]="ok",e[e.failed=2]="failed"}(a||(a={}))},260:function(e,t){},261:function(e,t,n){"use strict";var a=n(10),r=n(11),i=n(14),s=n(12),o=n(15),c=n(4),l=n(162),u=n(6),d=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).ecusername="",n.birthday="",n.brandKey="",n.ecpassword="",n.additional="",n.temp1="",n.temp2="",n.customerId="",n.withAvailability=0,n.mode=u.g.password,n}return Object(o.a)(t,e),Object(r.a)(t,[{key:"reset",value:function(){this.withAvailability=0,this.ecusername="",this.ecpassword="",this.brandKey="",this.additional="",this.birthday="",this.temp1="",this.temp2="",this.customerId="",this.brandKey=c.b.vodafone,this.mode=u.g.password}}]),t}(l.a);t.a=d},262:function(e,t,n){"use strict";n(10),n(5)},263:function(e,t,n){"use strict";n(10)},264:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n(10),r=n(11),i=n(4),s=n(9),o=function(){function e(){Object(a.a)(this,e),this.id="",this.sub="",this.productName=""}return Object(r.a)(e,null,[{key:"createInstanceFromId",value:function(t,n){var a=new e;a.id=n;var r=this.createInstanceFromJson(a,t);return r.productName||(r.productName=n),r}},{key:"createInstanceFromJson",value:function(t,n){if(t){if(n.id===i.b.vodafone)for(var a=0;a<n.subs.length;a++)if(t.id.endsWith(n.subs[a].id)){t.productName=t.id,t.id=t.id.substr(0,t.id.length-n.subs[a].id.length),t.sub=n.subs[a].id;var r=s.from(n.products).where(function(e){return e.id==t.id}).firstOrDefault();r&&(t.productName=r.name);break}return Object.assign(new e,t)}return new e}}]),e}()},265:function(e,t){},266:function(e,t,n){},267:function(e,t){},268:function(e,t){},269:function(e,t){},27:function(e,t,n){"use strict";var a=n(10),r=n(11),i=n(0),s=n(59),o=n(21),c=n(37),l=n(2),u=n(25),d=n(8),p=n(1),m=function(){function e(){Object(a.a)(this,e)}return Object(r.a)(e,null,[{key:"GetLoader",value:function(){return i.createElement("div",{className:"loader"},i.createElement(o.i,{status:c.a.inprocess,id:"loader"}))}},{key:"getKeyFromPrefix",value:function(e,t,n){var a=e,r=!1;return a.startsWith("+")&&(a=a.substring(1),r=!0),n?a?a+"-"+t:t:r?t:a?a+"."+t:t}},{key:"renderErrorBlock",value:function(e){var t=i.createElement(i.Fragment,null);if(e){var n=u.a.parseModelState(e);n.status===l.ERequestStatus.failed&&(t=i.createElement(o.b,{visible:!0,title:p.m.errorGeneral,message:n.message}))}return t}},{key:"renderInner",value:function(t,n,a,r,s,c,u,p,m,h,v,f){var b=e.getKeyFromPrefix(t,r,!0),y=e.getKeyFromPrefix(t,r,!1),g=y;g.startsWith(".")&&!t&&(g=g.substring(1));var E=p||d.a.getValueByPath(n,g);return i.createElement(o.f,{type:l.EControlType.text,value:E,onChange:a,title:s,maxLength:v||void 0,minLength:f||void 0,hideTitle:!s,name:y,id:b,label:c,disabled:m,validationOptions:h||void 0,preview:u||!1})}},{key:"GetLoaderWithText",value:function(e){return i.createElement("div",{className:"tloader"},i.createElement(o.i,{status:c.a.inprocess,id:"loaderWithText"}),i.createElement("div",{className:"text"},e))}},{key:"GetPopupAuto",value:function(t){return e.GetPopup(t.props,t.content,t.action)}},{key:"GetPopup",value:function(e,t,n){return i.createElement(i.Fragment,null,i.createElement(o.g,e,i.createElement(o.h,null,t,i.createElement(i.Fragment,null)),n?i.createElement(o.a,null,n,i.createElement(i.Fragment,null)):i.createElement(i.Fragment,null)))}},{key:"GetPleaseWait",value:function(e,t,n,a,r,s){return i.createElement(i.Fragment,null,i.createElement(o.g,{closable:r,type:n,visible:a,id:"popupWait",title:e,height:200,onDismiss:t},i.createElement(o.h,null,s,i.createElement(i.Fragment,null)),i.createElement(i.Fragment,null)))}},{key:"getInfoTooltip",value:function(e,t){return i.createElement(i.Fragment,null,i.createElement(s.a,{place:"top",type:"light",effect:"solid",id:"tt-"+e},i.createElement("div",{dangerouslySetInnerHTML:{__html:t}})),i.createElement("div",{"data-for":"tt-"+e,"data-tip":t,className:"iicon icon info link inline"}))}}]),e}();t.a=m},270:function(e,t){},271:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n(10),r=n(6),i=function e(){Object(a.a)(this,e),this.id="",this.executed=!1,this.brandKey="",this.type=r.l.customerGroupGet}},272:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n(10),r=n(11),i=function(){function e(){Object(a.a)(this,e),this.NDC="",this.MSISDN=""}return Object(r.a)(e,[{key:"toString",value:function(){return this.NDC+this.MSISDN}}],[{key:"createInstanceFromJson",value:function(t){return t?Object.assign(new e,t):new e}}]),e}()},273:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n(10),r=n(11),i=function(){function e(){Object(a.a)(this,e),this.Consumed=0,this.Remaining=0,this.Total=0,this.Unit=""}return Object(r.a)(e,[{key:"getValue",value:function(){return this.Consumed/this.Total*100}},{key:"getValueReverse",value:function(){return 100-this.Consumed/this.Total*100}},{key:"getLabel",value:function(){return this.Consumed+" von "+this.Total+" "+this.Unit+" verbraucht"}}]),e}()},274:function(e,t,n){},28:function(e,t,n){"use strict";var a,r=n(10),i=n(11),s=n(14),o=n(12),c=n(15),l=n(7),u=n(9),d=n.n(u),p=n(0),m=n.n(p),h=n(33),v=n(3),f=n(17),b=n(21),y=n(124),g=n(44),E=n(95),k=n(2),C=n(64),_=n(72),O=n(5),S=n(6),w=n(25),x=n(4),P=n(8),D=n(27),T=n(41),A=n(1),I=n(60),j=n(24),N=n(13),M=n(18),B=n(42),R=n(23),F=n(19);!function(e){e[e[void 0]=1]="undefined",e[e.internet_Phone_Doppel_Kombi=2]="internet_Phone_Doppel_Kombi",e[e.internet_phone_tripple_kombi=3]="internet_phone_tripple_kombi",e[e.mobilfunk_doppel_kombi=4]="mobilfunk_doppel_kombi",e[e.mobilfunk_tripple_kombi=5]="mobilfunk_tripple_kombi",e[e.tv_doppel_kombi=6]="tv_doppel_kombi",e[e.tv_tripple_kombi=7]="tv_tripple_kombi"}(a||(a={}));var K=function(e){function t(e){return Object(r.a)(this,t),Object(s.a)(this,Object(o.a)(t).call(this,e))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"refresh",value:function(){this.setState({changed:!0})}},{key:"render",value:function(){var e={title:void 0,transparent:!1};return p.createElement(p.Fragment,null,this.props.advertisementBanner?this.gigacombi_advertisement(e):this.renderAuto(e))}},{key:"gigacombi_advertisement",value:function(e){return e.title=void 0,p.createElement(p.Fragment,null,p.createElement(M.a,{config:e},p.createElement(B.a,null,p.createElement(R.a,null,p.createElement(F.a,{xs:2,md:2},p.createElement(b.d,{icon:"info",type:k.ELButtonType.linkWithIconLeft,onClick:function(){window.open("https://vf-sso.mlconsult.com")}}))),p.createElement(R.a,null,p.createElement(F.a,{xs:12,md:12},p.createElement("img",{style:{width:"100%"},src:"/images/gigaPromo.png"}))),p.createElement(R.a,{className:"justify-content-md-center"},p.createElement(F.a,{xs:10,md:10},p.createElement("div",null,"Sichere Deinem Kunden noch mehr Vorteile durch GigaKombi"),p.createElement("div",null,"Ist Dein Kunde noch bei einem anderen Anbieter? Alle Infos zum "))),p.createElement(R.a,{className:"justify-content-md-center"},p.createElement(F.a,{xs:5,md:5},p.createElement("a",{className:"red",href:"https://infoportal.vodafone.de/fachhandel/wp-content/uploads/2020/01/Wechselservice-Kommunikation.pdf",target:"_blank"},"Restlaufzeitprogramm")))),p.createElement(b.e,null)))}},{key:"renderAuto",value:function(e){e.title=A.h.gigacombiTitle;var t=this.props.data.hasCategory(x.c.tv),n=this.props.data.hasCategory(x.c.fn),a=this.props.data.hasCategory(x.c.vodafone),r=this.props.data.hasOtelo(),i=p.createElement(p.Fragment,null);return r||t&&n&&a?p.createElement(p.Fragment,null):(!t||n||a?!n||t||a?!a||t||n?a&&t&&!n?i=p.createElement(R.a,null,p.createElement(F.a,{xs:12,md:12},this.renderButton([x.c.vodafone,x.c.tv,x.c.fn],x.c.fn))):a&&n&&!t?i=p.createElement(R.a,null,p.createElement(F.a,{xs:12,md:12},this.renderButton([x.c.vodafone,x.c.tv,x.c.fn],x.c.tv))):t&&a&&!n?i=p.createElement(R.a,null,p.createElement(F.a,{xs:12,md:12},this.renderButton([x.c.tv,x.c.fn,x.c.vodafone],x.c.fn))):t&&n&&!a?i=p.createElement(R.a,null,p.createElement(F.a,{xs:12,md:12},this.renderButton([x.c.tv,x.c.fn,x.c.vodafone],x.c.vodafone))):n&&t&&!a?i=p.createElement(R.a,null,p.createElement(F.a,{xs:12,md:12},this.renderButton([x.c.fn,x.c.tv,x.c.vodafone],x.c.vodafone))):n&&a&&!t&&(i=p.createElement(R.a,null,p.createElement(F.a,{xs:12,md:12},this.renderButton([x.c.fn,x.c.tv,x.c.vodafone],x.c.tv)))):i=p.createElement(R.a,null,p.createElement(F.a,{xs:6,md:6},this.renderButton([x.c.vodafone,x.c.tv],x.c.tv)),p.createElement(F.a,{xs:6,md:6},this.renderButton([x.c.vodafone,x.c.fn],x.c.fn))):i=p.createElement(R.a,null,p.createElement(F.a,{xs:6,md:6},this.renderButton([x.c.fn,x.c.tv],x.c.tv)),p.createElement(F.a,{xs:6,md:6},this.renderButton([x.c.fn,x.c.vodafone],x.c.vodafone))):i=p.createElement(R.a,null,p.createElement(F.a,{xs:6,md:6},this.renderButton([x.c.tv,x.c.fn],x.c.fn)),p.createElement(F.a,{xs:6,md:6},this.renderButton([x.c.tv,x.c.vodafone],x.c.vodafone))),p.createElement(M.a,{config:e},p.createElement(B.a,{className:"np"},i)))}},{key:"renderButton",value:function(e,t){var n=this;return p.createElement(B.a,{className:"np"},p.createElement(R.a,null,p.createElement(F.a,{className:"tac"},p.createElement("img",{src:"/images/gigacombiCases/".concat(e.join("_"),".png")}))),p.createElement(R.a,null,p.createElement(F.a,{className:"tac"},p.createElement(b.d,{type:k.ELButtonType.buttonWithIconRight,css:"a1",id:"",text:A.h.gigaShow+" "+t,onClick:function(){n.props.onCategoryChanged(t)}}))))}}]),t}(p.Component),L=function(e){function t(e){var n;Object(r.a)(this,t),(n=Object(s.a)(this,Object(o.a)(t).call(this,e))).modelState=new T.a,n.currentBookedOption=a.undefined,n.lastApi=void 0,n.data=void 0,n.dataWrapper=void 0,n.defcon=void 0,n.product=void 0,n.selection=void 0,n.current=void 0,n.selectedBrand="",n.selectedProduct="",n.currentIndex=0,n.dynamicPopup=void 0,n.numbersToPort="",n.loading=!1,n.mounted=!1,n.processPopupState=f.a.pleaseWait,n.onCategoryChange=function(e){if(n.validate()){if(n.dynamicPopup=void 0,n.current.brandKey!=x.b.kabel||e!=x.c.tv&&e!=x.c.fn||(P.a.categoryWrapper.all=!0,document.getElementById(h.c.componentId).scrollIntoView({behavior:"smooth"})),P.a.categoryWrapper.switchCat(e),n.data.currentCat=e,n.selectedBrand=n.data.currentBrand=P.a.categoryWrapper.getCategoryBrandKey(void 0),n.selectedBrand==x.b.kabel){if(n.dataWrapper.hasKabel()){var t=d.a.from(n.data.activations).where(function(e){return e.brandKey==x.b.kabel}).first(),a=n.data.activations.indexOf(t);n.current=n.data.activations[a],n.currentIndex=a,P.a.categoryWrapper.all=!0}else n.startNewActivation();return void n.setState({changed:!0})}n.current.brandKey!=x.b.kabel||e!=x.c.tv&&e!=x.c.fn?n.current=n.startNewActivation():n.selectedBrand===x.b.dsl&&(n.current=n.startNewActivation()),n.setState({changed:!0})}},n.prepareData=function(){if(n.loading)return{id:"dummy",type:O.e.bnt,activations:[],currentCat:"",currentBrand:"",customer:{}};var e=window.location.pathname.split("/");return n.props.preview,N.a.getOrder(e[4])},n.changeCat=function(e){if(!_.a.previewAvailable(n.data.activations)||n.validate()){n.selectedBrand=n.data.currentBrand=P.a.categoryWrapper.getCategoryBrandKey(void 0),n.product=void 0,n.selection.creditDebitType=O.f.postpaid,n.selection.activationType=O.c.actDefault,n.startNewActivation();var a=t.uri+"tariff/"+n.data.id+"?brand="+n.selectedBrand;j.a.route({url:a,title:t.title}),n.setState({changed:!0})}},n.changeCatBrand=function(e){n.selectedBrand=n.data.currentBrand=e,n.current.reset(),n.current.brandKey=e,N.a.addOrder(n.data),n.setState({changed:!0})},n.handleActivation=n.handleActivation.bind(Object(l.a)(Object(l.a)(n))),n.startNewActivation=n.startNewActivation.bind(Object(l.a)(Object(l.a)(n))),n.applyPayment=n.applyPayment.bind(Object(l.a)(Object(l.a)(n))),n.applyActivationType=n.applyActivationType.bind(Object(l.a)(Object(l.a)(n))),n.applyCustomerType=n.applyCustomerType.bind(Object(l.a)(Object(l.a)(n))),n.applyCustomer=n.applyCustomer.bind(Object(l.a)(Object(l.a)(n))),n.onCreateProcess=n.onCreateProcess.bind(Object(l.a)(Object(l.a)(n))),n.onDismissProcessPopup=n.onDismissProcessPopup.bind(Object(l.a)(Object(l.a)(n))),n.onDismissValidation=n.onDismissValidation.bind(Object(l.a)(Object(l.a)(n))),n.onInputData=n.onInputData.bind(Object(l.a)(Object(l.a)(n))),n.changeBrand=n.changeBrand.bind(Object(l.a)(Object(l.a)(n))),n.refresh=n.refresh.bind(Object(l.a)(Object(l.a)(n))),n.activationChanged=n.activationChanged.bind(Object(l.a)(Object(l.a)(n))),n.socketCallback=n.socketCallback.bind(Object(l.a)(Object(l.a)(n))),n.defcon=N.a.getDefCon(),n.props.preview&&(n.loading=!0,n.loadProcess()),n.data=n.prepareData(),n.dataWrapper=new _.a(n.data),_.a.ensure(n.data);var i=n.getProgress();n.selectedBrand=n.data.currentBrand,n.selectedBrand==x.b.vodafone||n.selectedBrand==x.b.otelo?n.currentBookedOption=a.mobilfunk_doppel_kombi:n.selectedBrand==x.b.dsl?n.currentBookedOption=a.internet_Phone_Doppel_Kombi:n.selectedBrand==x.b.kabel&&(n.currentBookedOption=a.tv_doppel_kombi);var c=A.h.newCustomerActivation;return n.data.activations.length>0&&n.data.activations[0].activationType===O.c.partnerCard&&(c=A.k.bookPartner),P.a.easyApp.setTitle(c),n.selection={businessCase:O.e.bnt,creditDebitType:n.data.activations&&n.data.activations.length>0&&n.data.activations.length<2?n.data.activations[0].creditDebitType:O.f.postpaid,activationType:O.c.actDefault,customerType:O.g.personal},n.state={changed:!1,progress:i,processing:!1,closablePopup:!1,loading:n.loading,apiMessage:"",numbersToPort:2,individualPorting:!0},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.initData(),this.mounted=!0,this.setState({changed:!0})}},{key:"initData",value:function(){this.data=this.prepareData(),this.dataWrapper=new _.a(this.data),_.a.ensure(this.data)}},{key:"componentWillReceiveProps",value:function(e){this.setState({changed:!0})}},{key:"refresh",value:function(){this.setState({changed:!0})}},{key:"getId",value:function(){window.location.href}},{key:"validate",value:function(){return this.modelState.reset(),this.current&&(this.modelState=T.d.startActivationValidation(this.current,this.dataWrapper)),!!this.modelState.isValid()||(this.setState({changed:!0}),!1)}},{key:"handleActivation",value:function(e){this.setState({changed:!0})}},{key:"applyPayment",value:function(e){this.current&&(this.current.creditDebitType=e,N.a.updateActivation(this.current)),this.selection&&(this.selection.creditDebitType=e),this.setState({changed:!0})}},{key:"applyCustomerType",value:function(e){this.selection&&(this.selection.customerType=e),this.setState({changed:!0})}},{key:"applyActivationType",value:function(e){this.selection&&(this.current&&(this.current.activationType=e,this.current.activationType===O.c.actDefault?this.current.portationType=k.EPortationType.undefined:this.current.portationType=k.EPortationType.contractEnd),this.selection.activationType=e),this.setState({changed:!0})}},{key:"checkPopup",value:function(){var e={props:{id:"dynamicPopup",title:"Warenkorb",visible:!0,closable:!1,type:f.a.pleaseWait},closeOnDone:!0,content:p.createElement("div",null,"Warenkorb wird gepr\xfcft"),callback:function(e){}};return D.a.GetPopup(e.props,e.content,e.action)}},{key:"render",value:function(){return!this.mounted||this.state.loading?p.createElement(p.Fragment,null):this.props.preview?this.renderPreviewPrint():this.renderProcess()}},{key:"getProgress",value:function(){return window.location.href.indexOf("/"+A.j.done+"/")>0?O.p.done:window.location.href.indexOf("/"+A.j.customer+"/")>0?O.p.customer:O.p.tariff}},{key:"onCreateProcess",value:function(e){this.lastApi=void 0,this.setState({processing:!0});var t=N.a.getAvailability();t&&(this.data.activations.forEach(function(e,n){e.availability=t,e.availabilityId=t.id}),N.a.addOrder(this.data));var n=JSON.parse(JSON.stringify(this.data));n.activations.forEach(function(e,t){e.availability=new k.Availability}),e===S.l.create&&this.data.activations.map(function(e,t){e.isPrinted()||e.resetSteps(S.l.print),e.isActivated()||e.isTimedout()||e.resetSteps(S.l.activation)});var a=this.dataWrapper.getPasswordForAdditionalContract();a&&(this.data.customer.password=a,N.a.addOrder(this.data)),P.a.hub.send(JSON.stringify(n),e,void 0),this.setState({closablePopup:!1}),this.processPopupState=f.a.pleaseWait}},{key:"onInputData",value:function(e){var t=this;P.a.onInput(this.current,e,function(){t.current&&N.a.updateActivation(t.current),t.setState({changed:!0})})}},{key:"applyCustomer",value:function(e){this.data.customer=e,N.a.addOrder(this.data),this.setState({changed:!0})}},{key:"removeActivation",value:function(e){this.selectedProduct="",this.data.activations.splice(e,1),N.a.addOrder(this.data),this.currentIndex=e>0?e-1:-1,this.current=this.data.activations[this.currentIndex],this.setState({changed:!0})}},{key:"editActivation",value:function(e){this.data.currentBrand=this.data.activations[e].brandKey,this.data.currentCat=this.data.activations[e].catKey,this.currentIndex=e,this.current=this.data.activations[this.currentIndex],this.setState({changed:!0})}},{key:"canEditActivation",value:function(){return!!this.dataWrapper.canEditActivation(this.currentIndex)||(this.modelState.errorMessage=A.m.errorEditDone,this.setState({changed:!0}),!1)}},{key:"showPopup",value:function(e,t,n){this.processPopupState=e,this.setState({changed:!0,apiMessage:t,closablePopup:!0,processing:n})}},{key:"activationChanged",value:function(){this.current||(this.current=this.startNewActivation()),N.a.addOrder(this.data),this.setState({changed:!0})}},{key:"startNewActivation",value:function(e){this.data.activations=d.a.from(this.data.activations).where(function(e){return void 0!=e.productId&&e.productId.length>0}).toArray();var t=C.c.createInstance(this.selectedBrand,this.data.id,P.a.categoryWrapper.cat);return t.availability=N.a.getAvailability(),e&&e(t),this.data.activations.push(t),this.currentIndex=this.data.activations.length-1,this.current=t,N.a.addOrder(this.data),this.setState({changed:!0}),t}},{key:"getTitle",value:function(e){return e==O.p.tariff?A.k.activationBNTTariff:e==O.p.customer?A.k.activationBNTCustomer:A.k.activationBNTOverview}},{key:"gotoView",value:function(e,n){if(this.getProgress()!==O.p.tariff||this.validate()){this.setState({progress:e});var a=e===O.p.tariff?A.j.tariff:e===O.p.customer?A.j.customer:A.j.done,r=t.uri+a+"/"+this.data.id;j.a.route({url:r,title:A.k.activation+": "+this.getTitle(e)}),n&&n()}}},{key:"socketCallback",value:function(e){var t=this,n=JSON.parse(e.data);if(this.lastApi=n,n&&!n.error)e.type===S.l.checkMsisdn?(this.setState({processing:!1}),this.gotoView(O.p.customer)):(n.data.isCrossSelling=this.data.isCrossSelling,this.data=n.data,_.a.ensure(this.data),N.a.addOrder(this.data),this.setState({processing:!1,progress:O.p.done},function(){t.gotoView(O.p.done,null)}));else{var a=w.a.parseSummary(n,void 0);this.processPopupState=f.a.custom,this.setState({processing:!1,closablePopup:!0,apiMessage:P.a.extractErrorAndValidation(a)}),n.validation&&w.a.applyValidation(n)}}},{key:"syncOrder",value:function(e,t){var n={availabilityId:N.a.getAvailability().id,brand:this.data.currentBrand,order:{processId:e.processId,productId:e.productId,sub:e.sub,services:e.services,activationType:e.activationType}},a={props:{id:"dynamicPopup",title:"Warenkorb",visible:!0,closable:!1,type:f.a.pleaseWait,height:300,onDismiss:function(){P.a.easyApp.runPopup(void 0,void 0)}},content:p.createElement("div",null,"Warenkorb wird gepr\xfcft")},r=D.a.GetPopup(a.props,a.content,a.action);P.a.easyApp.runPopup(r,function(){w.a.fetch("activation/syncorder",n,"POST",function(e){var n=w.a.parseSummary(e,void 0);n.status==k.ERequestStatus.done?(P.a.easyApp.runPopup(void 0,void 0),t&&t(e)):P.a.FindReact(document.getElementById("dynamicPopup")).refresh(!0,!0,f.a.custom,p.createElement("div",{dangerouslySetInnerHTML:{__html:n.message}}))})})}},{key:"onDismissProcessPopup",value:function(){this.setState({processing:!1,closablePopup:!1})}},{key:"onDismissValidation",value:function(){this.modelState.reset(),this.setState({changed:!0})}},{key:"renderPage",value:function(e){p.Fragment;return e===O.p.done?p.createElement(p.Fragment,null,p.createElement(v.f,null,p.createElement(v.h,null,p.createElement(p.Fragment,null,this.renderProgress())),p.createElement(p.Fragment,null))):p.createElement(p.Fragment,null,p.createElement(v.g,null,p.createElement(v.h,null,p.createElement(p.Fragment,null,D.a.renderErrorBlock(this.lastApi),this.renderProgress())),p.createElement(v.i,null,p.createElement(p.Fragment,null,p.createElement(h.k,{parent:this,activations:this.data.activations})))))}},{key:"loadProcess",value:function(){var e=this,t="activation/getprocess/"+window.location.pathname.split("/")[4];w.a.fetch(t,void 0,"GET",function(t){var n=t.data,a=[];n.activations.forEach(function(e,t){var n=Object.assign(new C.c(e.brandKey),e);a.push(n)}),n.activations=a,N.a.addOrder(n),n.avl&&N.a.set(x.j.keyAvailability,n.avl),e.data=n,e.setState({changed:!0,loading:!1})})}},{key:"changeBrand",value:function(e){if(!_.a.previewAvailable(this.data.activations)||this.validate()){this.selectedBrand=this.data.currentBrand=e,this.selection.creditDebitType=O.f.postpaid,this.selection.activationType=O.c.actDefault,this.startNewActivation();var n=t.uri+"tariff/"+this.data.id+"?brand="+e;j.a.route({url:n,title:t.title}),this.setState({changed:!0})}}},{key:"renderProgress",value:function(){var e=this.getProgress();return e==O.p.tariff?this.renderTariff():e===O.p.customer?this.renderCustomer():e===O.p.done?this.state.loading?p.createElement(p.Fragment,null):this.renderPreview():p.createElement(p.Fragment,null)}},{key:"canRenderFocusBox",value:function(e){for(var t=0;t<e.items.length;t++){var n=e.items[t].id.split(";")[1];if(this.dataWrapper.hasProduct(n))return!1}return!0}},{key:"renderTariff",value:function(){N.a.getBrands();var e=N.a.getAvailability(),t=P.a.categoryWrapper.getCategoryBrand(this.data),n=N.a.getSupport().boxes;e.hasKip(),n[1];return p.createElement(p.Fragment,null,p.createElement(y.a,{thumbType:g.b.blister,thumbSelectable:!1,selected:this.selectedBrand,block:{title:"W\xe4hlen Sie eine Kategorie",transparent:!0,style:"block-thumbs selonly"}}),this.renderAdditional(t),p.createElement("div",{className:"spacer"}),p.createElement("div",{className:"text-tiny center"},"Weiteren Tarif hinzuf\xfcgen"),p.createElement("div",{className:"spacer"}),p.createElement(y.a,{thumbType:g.b.square,thumbSelectable:!0,clickHandler:this.changeCat,selected:this.selectedBrand,block:{transparent:!0,style:"block-thumbs"}}),p.createElement(h.a,{parent:this,progress:this.getProgress()}))}},{key:"renderAdditional",value:function(e){p.Fragment;return p.createElement(p.Fragment,null,this.renderBrand(e))}},{key:"renderBrand",value:function(e){var t=N.a.getAvailability(),n=(p.Fragment,[]);return this.current&&(this.current.brandKey!==x.b.dsl&&this.current.brandKey!==x.b.kabel||n.push(p.createElement(K,{bookOption:a.undefined,parent:this,advertisementBanner:!0})),this.current.brandKey!=x.b.otelo&&this.current.brandKey!=x.b.vodafone&&this.current.brandKey!=x.b.dsl&&this.current.brandKey!=x.b.kabel&&this.current.brandKey!=x.b.unity||(n.push(p.createElement(h.c,{product:this.product,parent:this})),this.current.activationType===O.c.portDefault&&this.current.brandKey!==x.b.dsl&&this.current.brandKey!==x.b.unity&&n.push(p.createElement(h.e,{parent:this,onChange:this.onInputData})),this.current.brandKey==x.b.otelo?n.push(p.createElement(h.f,{parent:this,onChange:this.onInputData})):this.current.brandKey==x.b.vodafone?n.push(p.createElement(h.j,{parent:this,onChange:this.onInputData})):this.current.activationType===O.c.portDefault&&this.current.brandKey!=x.b.unity&&(n.push(p.createElement(h.n,{parent:this,onChange:this.onInputData})),this.data.customer.mnp&&this.data.customer.mnp.numberPortingType!=O.o.later&&n.push(p.createElement(h.m,{numbersToPort:this.data.customer.mnp&&this.data.customer.mnp.countNumbers?this.data.customer.mnp.countNumbers:1,parent:this,onChange:this.onInputData})))),this.current.brandKey==x.b.otelo||this.current.brandKey==x.b.vodafone?(n.push(p.createElement(h.l,{onChange:this.onInputData,selectionChanged:this.activationChanged,tariff:this.selectedProduct,parent:this,selection:this.selection})),this.current.creditDebitType===O.f.postpaid&&n.push(p.createElement(h.d,{preview:!1,activation:this.current,onChange:this.onInputData}))):n.push(p.createElement(h.l,{selectionChanged:this.activationChanged,onChange:this.onInputData,tariff:this.selectedProduct,parent:this,selection:this.selection})),(t&&t.hasKabel()||t.hasDSL()&&this.current.brandKey!=x.b.unity)&&n.push(p.createElement(K,{data:this.dataWrapper,bookOption:this.currentBookedOption,onCategoryChanged:this.onCategoryChange,parent:this,advertisementBanner:!1}))),p.createElement(p.Fragment,null,n)}},{key:"renderCustomer",value:function(){return p.createElement(p.Fragment,null,p.createElement(E.a,{parent:this,customer:this.data.customer}))}},{key:"renderPreview",value:function(){return p.createElement(p.Fragment,null,p.createElement(v.h,null,p.createElement(p.Fragment,null,p.createElement(h.g,{parent:this,order:this.data,preview:!1}),p.createElement(h.a,{parent:this,progress:this.getProgress()}))),p.createElement(p.Fragment,null))}},{key:"renderPreviewPrint",value:function(){return p.createElement(p.Fragment,null,p.createElement(v.f,null,p.createElement(v.h,null,p.createElement(p.Fragment,null,p.createElement(h.g,{parent:this,order:this.data,preview:!0}))),p.createElement(p.Fragment,null)))}},{key:"renderProcess",value:function(){var e=this;this.dataWrapper=new _.a(this.data);P.a.getConfiguration();this.selectedBrand=this.data.currentBrand,this.data.activations.length>0?(this.current=this.data.activations[this.currentIndex],this.selectedBrand=this.current?this.current.brandKey:x.b.vodafone,this.selectedProduct=this.current?this.current.productId:"",this.dataWrapper.hasPartnerCard()&&this.selection.activationType!=O.c.partnerCard&&(this.selection.activationType=O.c.partnerCard)):this.current=this.startNewActivation(),this.current&&this.current.brandKey==x.b.kabel&&this.current.isMultiple()&&(P.a.categoryWrapper.all=!0),this.selectedBrand||(this.selectedBrand=d.a.from(this.defcon.brands).first(function(e){return e.available}).id);var n=this.getProgress();if(n===O.p.tariff){var a=I.a.getBrand(this.selectedBrand);this.product=u.from(a.products).where(function(t){return t.id===e.selectedProduct}).firstOrDefault(),this.product&&(P.a.categoryWrapper.switchCat(this.product.catKey),this.data.currentCat=this.product.catKey,this.data.currentBrand=this.selectedBrand)}var r=p.createElement(h.h,{progress:this.state.progress,states:[A.j.tariff,A.j.customer,A.j.done]});P.a.easyApp.head&&P.a.easyApp.head.appendSub(r);var i=p.createElement(p.Fragment,null);this.dynamicPopup&&(this.dynamicPopup.props.onDismiss=function(){e.dynamicPopup=void 0,e.setState({changed:!0,processing:!1,closablePopup:!1})},i=D.a.GetPopup(this.dynamicPopup.props,this.dynamicPopup.content,this.dynamicPopup.action));var s=p.createElement(b.a,null,p.createElement(p.Fragment,null),p.createElement(v.j,{text:A.h.close,css:"fr",icon:"ok",type:k.ELButtonType.buttonWithIconRight,onClick:function(){e.modelState.reset(),e.setState({changed:!0})}}));return this.modelState.errorMessage.indexOf("Komfort-Anschluss")>0&&(s=p.createElement(b.a,null,p.createElement(v.j,{text:A.h.back,css:"fl",icon:"cancel",type:k.ELButtonType.linkWithIconLeft,onClick:function(){e.modelState.reset(),e.setState({changed:!0})}}),p.createElement(v.j,{text:"Weiter mit Komfort-Anschluss",css:"fr",icon:"ok",type:k.ELButtonType.buttonWithIconRight,onClick:function(){e.current&&(e.current.services.push("svc_dsl_comfort"),N.a.updateActivation(e.current),e.gotoView(O.p.customer))}}))),p.createElement("div",{id:t.containerId},this.renderPage(n),i,p.createElement(b.g,{type:this.processPopupState,visible:this.state.processing||this.state.closablePopup,closable:this.state.closablePopup,id:"wait",title:A.h.pleaseWait,height:200,onDismiss:this.onDismissProcessPopup},p.createElement(b.h,null,p.createElement("div",{dangerouslySetInnerHTML:{__html:this.state.apiMessage}}),p.createElement(p.Fragment,null)),p.createElement(p.Fragment,null)),p.createElement(b.g,{type:f.a.custom,visible:!this.modelState.isValid(),closable:!0,id:"validate",title:A.m.titleValidationError,height:200,onDismiss:this.onDismissValidation},p.createElement(b.h,null,p.createElement("div",null,this.modelState.errorMessage),p.createElement(v.k,null)),s))}}]),t}(p.Component);L.uri="/ordering/new/",L.title="Aktivierung",L.containerId="process";var W=L,V=n(168),U=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(o.a)(t).call(this,e))).componentId="welcomescreen",n.refresh=n.refresh.bind(Object(l.a)(Object(l.a)(n))),P.a.easyApp.setTitle(""),n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"refresh",value:function(){this.setState({changed:!0})}},{key:"render",value:function(){N.a.getBrands();var e=N.a.getUser(),t=N.a.getDefCon();return p.createElement(p.Fragment,null,p.createElement(V.a,{style:"tiny"},p.createElement(p.Fragment,null,e?p.createElement("div",{className:"inner"},p.createElement("h1",null,"Guten Tag ",e.firstname," ",e.surname)):null,N.a.needAvailability(t)?p.createElement(h.b,{status:k.EComponentState.visible,parent:this}):null,N.a.needAvailability(t)?p.createElement(K,{bookOption:a.undefined,parent:this,advertisementBanner:!0}):null,p.createElement(y.a,{selected:"vf",thumbSelectable:!0,needSelection:!0,thumbType:g.b.blister,withTariffs:!0,block:{title:"W\xe4hlen Sie eine Marke aus",transparent:!0}})),p.createElement("div",null,"empty")))}}]),t}(p.Component),q=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(o.a)(t).call(this,e))).jsxLoader=m.a.createElement(m.a.Fragment,null),n.state={loaderVisible:!1,loaderText:"",loaderState:k.ERequestStatus.undefined},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(){this.setState({changed:!0})}},{key:"render",value:function(){return this.props.blank?m.a.createElement("div",{id:x.a.container},this.props.content?this.props.content:null):m.a.createElement(m.a.Fragment,null,m.a.createElement(v.e,{changed:!1}),m.a.createElement("div",{id:x.a.container},this.renderDefCon()),m.a.createElement(v.d,{changed:!1}),m.a.createElement(v.r,{changed:!1,parent:this}),m.a.createElement("div",{className:"spacer-huge"}))}},{key:"renderDefCon",value:function(){return(N.a.getDefCon().state&k.EAppState.ok)!==k.EAppState.ok?m.a.createElement(Ee,null):m.a.createElement(m.a.Fragment,null)}}]),t}(m.a.Component),z=n(96),G=n(131),H=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(o.a)(t).call(this,e))).interval=void 0,n.socketCallback=n.socketCallback.bind(Object(l.a)(Object(l.a)(n))),n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;w.a.init(),w.a.fetch("environment/dc",void 0,x.g.get,function(t){w.a.parseDefcon(t,function(n){N.a.set(x.j.keyDefCon,t.data),n&&(n.state&G.a.ok)!==G.a.ok?e.props.parent.refresh({}):(P.a.init(),e.interval=setInterval(function(){P.a.hub.started&&(clearInterval(e.interval),P.a.hub.send("",k.ERequestType.startApp,void 0))},1e3))})})}},{key:"render",value:function(){return p.createElement("div",{id:t.containerId},D.a.GetLoader())}},{key:"socketCallback",value:function(e){var t=e.data;N.a.set(x.j.keyUser,t.user),N.a.set(x.j.keyBrands,t.brands),N.a.set(x.j.keySupport,t.support),N.a.set(x.j.keyCombis,t.combis);var n=N.a.getDefCon();n.state!=G.a.ok&&t.user.isAuthenticated&&n.voidAllowed&&n.voidAllowed.indexOf(t.user.voId)>=0&&(n.brands.map(function(e){e.available=!0}),N.a.set(x.j.keyDefCon,n)),P.a.categoryWrapper=new z.b,this.props.parent.refreshAndRoute({url:window.location.href})}}]),t}(p.Component);H.containerId="screenInit";var J=H,Z=(p.Component,n(167)),Y=n(85),$=n(57),X=(n(635),function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(o.a)(t).call(this,e))).processPopupState=f.a.pleaseWait,n.globalCfg=P.a.getConfiguration(),n.cfg={title:void 0,transparent:!1,styleContainer:""},n.cols=[{label:A.h.date,showTitle:!0,style:"text-sub",binding:"date",size:3,sortable:!0,renderer:function(e,t){var n=e.date;return n?P.a.toGermanDate(n):""}},{label:"Status",showTitle:!0,filterable:!1,binding:"status",size:4,sortable:!0},{label:"Details",showTitle:!0,filterable:!1,binding:"details",size:5,sortable:!0}],n._loadData=function(e,t){var n={contractId:e,voId:t};P.a.hub.send(JSON.stringify(n),k.ERequestType.getContractDetails,void 0)},n._renderPopup=function(){return p.createElement(b.g,{type:n.processPopupState,visible:n.state.processing||n.state.closablePopup,closable:n.state.closablePopup,id:"wait",title:A.h.pleaseWait,height:200,onDismiss:n._onDismissPopup},p.createElement(b.h,null,p.createElement("div",null,n.state.apiMessage),p.createElement(p.Fragment,null)),p.createElement(p.Fragment,null))},n._onDismissPopup=function(){n.setState({processing:!1,closablePopup:!1})},n._onDismissMainPopup=function(){n.setState({processing:!1,closablePopup:!1,model:void 0}),n.props.parent.onDismissDetailsScreen()},n.state={model:void 0,apiMessage:void 0,processing:!0,closablePopup:!1},n._onDismissPopup=n._onDismissPopup.bind(Object(l.a)(Object(l.a)(n))),n._onDismissMainPopup=n._onDismissMainPopup.bind(Object(l.a)(Object(l.a)(n))),n._loadData(e.contractId,e.voId),n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.processPopupState=f.a.pleaseWait,this.setState({processing:!0,model:void 0}),this._loadData(e.contractId,e.voId)}},{key:"render",value:function(){var e=this.state.model,n={page:1,count:this.globalCfg.pageSize,type:$.a.none};return p.createElement("div",{id:t.containerId},this._renderPopup(),p.createElement(b.g,{title:A.h.details,onDismiss:this._onDismissMainPopup,visible:void 0!==e,width:"1200px",height:"700px",closable:!0,id:"managerDetailsMainPopup",type:f.a.custom},p.createElement("div",null,p.createElement(R.a,null,p.createElement(F.a,{xs:3,md:3,className:"np"},p.createElement(v.l,{type:k.EControlType.text,value:void 0!==e?e.customer:"",onChange:function(){},preview:!0,name:"customer",id:"customer",label:A.h.customer})),p.createElement(F.a,{xs:3,md:3,className:"np"},p.createElement(v.l,{type:k.EControlType.text,value:void 0!==e?e.msisdn:"",onChange:function(){},preview:!0,name:"msisdn",id:"msisdn",label:"MSISDN"})),p.createElement(F.a,{xs:3,md:3,className:"np"},p.createElement(v.l,{type:k.EControlType.text,value:void 0!==e?e.contractId:"",onChange:function(){},preview:!0,name:"contract",id:"contract",label:A.h.contract})),p.createElement(F.a,{xs:3,md:3,className:"np"},p.createElement(v.l,{type:k.EControlType.text,value:void 0!==e?e.customerId:"",onChange:function(){},preview:!0,name:"customerid",id:"customerid",label:A.h.customerId}))),p.createElement(R.a,null,p.createElement(F.a,{xs:12,md:12},p.createElement(v.q,{coulmns:this.cols,id:t.containerId+"Table",expnaded:!1,pagingProps:n,data:void 0!==e&&void 0!==e.details?e.details:void 0})))),p.createElement(p.Fragment,null)))}},{key:"socketCallback",value:function(e){if(e.error){this.processPopupState=f.a.custom;var t=w.a.parseSummary(e,void 0);this.processPopupState=f.a.custom,this.setState({apiMessage:t.message,closablePopup:!0,processing:!1})}else{var n=e.data.data;this.setState({processing:!1,closablePopup:!1,model:n})}}}]),t}(p.Component));X.containerId="contractManagerDetails";var Q=X,ee=function(e){function t(e){var n;Object(r.a)(this,t),(n=Object(s.a)(this,Object(o.a)(t).call(this,e))).filter={needle:""},n.processPopupState=f.a.pleaseWait,n.cfg=P.a.getConfiguration(),n.cols=[{label:A.h.referenceId,showTitle:!1,style:"text-sub-logo",filterable:!0,binding:"contractId",size:2,sortable:!0,renderer:function(e,t){var n=e.contractId;return null!=n&&36==n.length&&(n=A.h.unkonwnAtThisTime),e.brand==x.b.vodafone?n="K-"+n:e.brand==x.b.kabel||e.brand==x.b.dsl||e.brand==x.b.unity?n="V-"+n:e.brand==x.b.otelo&&(n=n?"V-"+n:"M-"+e.msisdn),p.createElement(p.Fragment,null,p.createElement("div",{className:"brandi "+(e.brand?e.brand:"otelo")}),p.createElement("div",{className:"text-sub-logo"},n))}},{label:A.h.date,filterable:!0,style:"text-sub",binding:"orderDate",size:1,sortable:!0,renderer:function(e,t){return p.createElement(p.Fragment,null,P.a.toGermanDate(e[t.binding]))}},{label:A.h.customerName,showTitle:!0,filterable:!0,binding:"customer",size:1,sortable:!0,style:""},{label:A.h.msisdn,showTitle:!0,filterable:!0,binding:"msisdn",size:2,sortable:!0,style:""},{label:A.h.employee,labelShort:A.h.employeeShort,showTitle:!0,binding:"employeeId",size:1,sortable:!0,style:"text-sub",renderer:function(e,t){return p.createElement(p.Fragment,null,e[t.binding].replace("-","- "))}},{label:A.h.type,showTitle:!0,filterable:!0,binding:"typeUI",size:2,sortable:!0,style:""},{label:A.h.details,isHtml:!0,showTitle:!0,filterable:!0,binding:"description",size:1,sortable:!0},{label:"",binding:"",size:2,sortable:!1,renderer:function(e,t){p.Fragment;return p.createElement(p.Fragment,null,p.createElement(v.j,{type:k.ELButtonType.iconImage,icon:"list",clickModel:e,onClickEvent:function(e,t){return e.preventDefault(),e.stopPropagation(),n.selectRecord(t),!1}}),3!=e.transactionTypeId&&4!=e.transactionTypeId&&1!=e.transactionTypeId&&2!=e.transactionTypeId&&18!=e.transactionTypeId||!e.canReprint?null:p.createElement(v.j,{type:k.ELButtonType.iconImage,icon:"print",clickModel:e,onClickEvent:function(t,n){t.preventDefault(),t.stopPropagation();var a=P.a.getConfiguration().apiUrl+"document/GetContract?activationId="+e.orderId;window.open(a,"_blank");return!1}}),3!=e.transactionTypeId&&4!=e.transactionTypeId&&1!=e.transactionTypeId&&2!=e.transactionTypeId&&18!=e.transactionTypeId||!e.canReprint?null:p.createElement(v.j,{type:k.ELButtonType.iconImage,icon:"overview",clickModel:e,onClickEvent:function(t,n){t.preventDefault(),t.stopPropagation();var a="/ordering/preview/x/"+e.orderId+"/";window.open(a,"_blank");return!1}}))},rendererHead:function(e){return p.createElement(p.Fragment,null,p.createElement(v.j,{type:k.ELButtonType.iconImage,icon:"expand",onClick:n.expand}))}}],n.onDismissDetailsScreen=function(){n.setState({selectedRecord:void 0})},n._filterChange=function(e){n.filter=e,n.setState({changed:!0})},n._applyFilter=function(){n.setState({processing:!0}),P.a.hub.send(JSON.stringify(n.filter),k.ERequestType.getContracts,void 0)},n._filterChange=n._filterChange.bind(Object(l.a)(Object(l.a)(n))),n._applyFilter=n._applyFilter.bind(Object(l.a)(Object(l.a)(n))),n.expand=n.expand.bind(Object(l.a)(Object(l.a)(n))),n.onDismissPopup=n.onDismissPopup.bind(Object(l.a)(Object(l.a)(n))),n.itemClick=n.itemClick.bind(Object(l.a)(Object(l.a)(n))),P.a.easyApp.setTitle(A.h.contractManager),n.state={expanded:!1,changed:!1,processing:!0,closablePopup:!1};var a=new Date,i=new Date;return i.setDate(i.getDate()-31),n.filter={needle:"",from:i,to:a,timeFilter:0,cats:["vf","otelo","fn","tv"]},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){P.a.easyApp.setTitle(A.h.contractManager);var t={search:e.filter.needle,from:e.filter.from,to:e.filter.to};P.a.hub.send(JSON.stringify(t),k.ERequestType.getContracts,void 0)},1e3)}},{key:"render",value:function(){return p.createElement("div",{id:t.containerId},p.createElement(v.c,{filter:this.filter,id:"filter",type:Y.a.default,title:A.h.filter,orderManagerFilter:!0,onApply:this._applyFilter,onChange:this._filterChange,placeholderSearch:"z.B. MSISDN oder Vorname"}),!this.state.processing&&this.state.api&&this.state.api.data?p.createElement(p.Fragment,null,this.renderData()):p.createElement(p.Fragment,null),this.renderPopup())}},{key:"socketCallback",value:function(e){if(e.error){var t=w.a.parseSummary(e,void 0);this.processPopupState=f.a.custom,this.setState({changed:!0,processing:!0,closablePopup:!0,api:e,apiMessage:t.message})}else this.setState({changed:!0,processing:!1,api:e})}},{key:"onDismissPopup",value:function(){this.setState({processing:!1})}},{key:"renderFilter",value:function(){var e={title:A.h.filter,transparent:!1},t=new Date,n=new Date,a=p.createElement(M.a,{config:e},p.createElement(B.a,null,p.createElement(R.a,null,p.createElement(F.a,{xs:6,md:6,className:"np"},p.createElement(v.m,{value:n,datePicker:!0,onChange:this._applyFilter,title:A.h.periodFrom,name:"filter.from",style:"middle",id:"from"})),p.createElement(F.a,{xs:6,md:6,className:"npr"},p.createElement(v.c,{filter:this.filter,id:"filter",type:Y.a.default,title:A.h.searchTitle,onApply:this._applyFilter,placeholderSearch:"z.B. MSISDN oder Vorname"}))),p.createElement(R.a,null,p.createElement(F.a,{xs:6,md:6,className:"np"},p.createElement(v.m,{value:t,datePicker:!0,onChange:this._applyFilter,title:A.h.to,style:"middle",name:"filter.to",id:"to"})),p.createElement(F.a,{xs:6,md:6,className:"np"},p.createElement(v.j,{text:A.h.toDashboard,css:"fr",onClick:function(){j.a.route({url:"/"})},type:k.ELButtonType.buttonWithIconRight,icon:"arrow-right"})))),p.createElement(p.Fragment,null));return p.createElement(v.f,null,p.createElement(v.h,null,p.createElement(p.Fragment,null,a)),p.createElement(p.Fragment,null))}},{key:"renderPopup",value:function(){return p.createElement(b.g,{type:this.processPopupState,visible:this.state.processing||this.state.closablePopup,closable:this.state.closablePopup,id:"wait",title:A.h.pleaseWait,height:200,onDismiss:this.onDismissPopup},p.createElement(b.h,null,p.createElement("div",null,this.state.apiMessage),p.createElement(p.Fragment,null)),p.createElement(p.Fragment,null))}},{key:"selectRecord",value:function(e){var t={voId:e.Void,contractId:e.contractId};this.setState({selectedRecord:t})}},{key:"expand",value:function(){this.setState({expanded:!this.state.expanded})}},{key:"renderData",value:function(){var e=p.createElement(p.Fragment,null),n=this.state.selectedRecord;void 0!==n&&(e=p.createElement("div",{className:"row"},p.createElement("div",{className:"col-md-12 col-12"},p.createElement(Q,Object.assign({},n,{parent:this})))));var a={page:1,count:this.cfg.pageSize,type:$.a.local};return p.createElement("div",{id:t.containerId,className:"c1 container "+(this.state.expanded?"wide":"")},p.createElement("div",{className:"row"},p.createElement("div",{className:"col-md-12 col-12"},p.createElement(v.q,{coulmns:this.cols,id:t.containerId+"Table",expnaded:this.state.expanded,itemClick:this.itemClick,pagingProps:a,dateColumn:"OrderDate",filter:void 0,data:this.state&&this.state.api?this.state.api.data.data:void 0}))),e)}},{key:"itemClick",value:function(e,t){e&&e.preventDefault()}}]),t}(p.Component);ee.containerId="contractManager";var te=ee,ne=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(o.a)(t).call(this,e))).model={msisdn:"",url:""},n.msisdn="",n.state={changed:!1,run:0,visible:!1},P.a.easyApp.setTitle(A.h.documentScanner),n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t={title:void 0,transparent:!1,styleContainer:"withicon",teaser:p.createElement("div",{className:"block-icon"},p.createElement("img",{className:"fit"}))};return p.createElement(p.Fragment,null,p.createElement(B.a,{id:"container-main",className:"c1 container "},p.createElement(R.a,null,p.createElement(F.a,{md:12},p.createElement(M.a,{config:t,key:"b1"},p.createElement(B.a,{key:"c1"},p.createElement(R.a,null,p.createElement(F.a,{xs:4,md:4},p.createElement(b.f,{type:k.EControlType.text,title:"MSISDN",label:"MSISDN",hint:"Bitte geben Sie die MSISDN f\xfcr den Scannerdokument ein.",onChange:function(t){e.msisdn=t.value,e.setState({changed:!0,visible:!1})}})),p.createElement(F.a,{xs:8,md:8})),p.createElement(R.a,null,p.createElement(F.a,null,p.createElement(b.d,{text:A.h.start,css:"fl",onClick:function(){w.a.fetch("environment/docscan/?msisdn="+e.msisdn,null,"GET",function(t){e.model=t.data,e.setState({visible:!0})})},type:k.ELButtonType.buttonWithIconRight,icon:"arrow-right"})))),p.createElement(b.e,null),p.createElement(B.a,{className:"items-container",key:"c2"},p.createElement(R.a,null))))),p.createElement(R.a,null,p.createElement(F.a,null,this.renderScanner()))))}},{key:"renderScanner",value:function(){var e={title:void 0,transparent:!1};return N.a.getUser()&&this.state.visible?p.createElement(p.Fragment,null,p.createElement(M.a,{config:e,key:"b1"},p.createElement(B.a,{key:"c2"},p.createElement(R.a,null,p.createElement(F.a,{xs:12,md:12},p.createElement("iframe",{src:this.model.url,className:"scanner"})))),p.createElement(b.e,null))):p.createElement(p.Fragment,null)}}]),t}(p.Component);ne.containerId="idscanner";var ae=ne,re=function(e){function t(e){var n;Object(r.a)(this,t),(n=Object(s.a)(this,Object(o.a)(t).call(this,e))).filter={needle:""},n.processPopupState=f.a.pleaseWait,n.currentRecord={},n.applyFilter=n.applyFilter.bind(Object(l.a)(Object(l.a)(n))),n.expand=n.expand.bind(Object(l.a)(Object(l.a)(n))),n.itemClick=n.itemClick.bind(Object(l.a)(Object(l.a)(n))),n.onDismissConfirmPopup=n.onDismissConfirmPopup.bind(Object(l.a)(Object(l.a)(n))),n.onDismissPopup=n.onDismissPopup.bind(Object(l.a)(Object(l.a)(n))),n.removeDraft=n.removeDraft.bind(Object(l.a)(Object(l.a)(n)));var a=new Date,i=new Date;return i=new Date(i.setMonth(i.getMonth()-1)),n.filter={needle:"",from:i,to:a},n.state={expanded:!1,changed:!1,processing:!0,closablePopup:!1,confirmRemove:!1},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){setTimeout(function(){P.a.easyApp.setTitle(A.h.drafts),P.a.hub.send("",k.ERequestType.getDrafts,void 0)},1e3)}},{key:"render",value:function(){return p.createElement("div",{id:t.containerId},this.state.processing?p.createElement(p.Fragment,null):p.createElement(p.Fragment,null,p.createElement(v.c,{filter:this.filter,id:"filter",type:Y.a.default,title:A.h.searchTitle,onApply:this.applyFilter,placeholderSearch:"z.B. MSISDN oder Vorname"}),this.renderData()),this.renderPopup(),this.renderPopupConfirm())}},{key:"renderData",value:function(){var e=this,n=P.a.getConfiguration(),a=[{label:A.h.employee,binding:"Employee",size:2,sortable:!0},{label:A.h.date,filterable:!0,style:"text-sub",binding:"activationDate",size:2,sortable:!0,renderer:function(e,t){return p.createElement(p.Fragment,null,P.a.toGermanDate(e[t.binding]))}},{label:A.h.customerName,filterable:!0,binding:"Customer",size:3,sortable:!0,style:""},{label:A.h.tariff,filterable:!0,style:"text-sub",binding:"Product",size:4,sortable:!1,renderer:function(e,t){var n=u.from(N.a.getBrands()).where(function(t){return t.id==e.brandKey}).firstOrDefault();if(!n)return null;var a=u.from(n.products).where(function(t){return t.id===e.productId}).firstOrDefault();return e.Product=a?a.name:"",n?p.createElement(p.Fragment,null,p.createElement("div",{className:"brandi "+n.id}),p.createElement("div",{className:"text-sub"},a?a.name:"")):null}},{label:"",binding:"",size:1,sortable:!0,renderer:function(t,n){return p.createElement(p.Fragment,null,p.createElement(v.j,{type:k.ELButtonType.iconImage,icon:"trash",clickModel:t,onClickEvent:function(t,n){return t.preventDefault(),t.stopPropagation(),e.remove(n),!1}}))},rendererHead:function(t){return p.createElement(p.Fragment,null,p.createElement(v.j,{type:k.ELButtonType.iconImage,icon:"expand",onClick:e.expand}))}}],r={page:1,count:n.pageSize,type:$.a.local};return p.createElement("div",{id:t.containerId,className:"c1 container "+(this.state.expanded?"wide":"")},p.createElement("div",{className:"row"},p.createElement("div",{className:"col-md-12 col-12"},p.createElement(v.q,{coulmns:a,id:t.containerId+"Table",expnaded:this.state.expanded,itemClick:this.itemClick,pagingProps:r,dateColumn:"activationDate",filter:this.filter,data:this.state&&this.state.api&&this.state.api.data?this.state.api.data.data:void 0}))))}},{key:"renderPopup",value:function(){return p.createElement(b.g,{type:this.processPopupState,visible:this.state.processing||this.state.closablePopup,closable:this.state.closablePopup,id:"wait",title:A.h.pleaseWait,height:200,onDismiss:this.onDismissPopup},p.createElement(b.h,null,p.createElement("div",null,this.state.apiMessage),p.createElement(p.Fragment,null)),p.createElement(p.Fragment,null))}},{key:"renderPopupConfirm",value:function(){return p.createElement(b.g,{type:f.a.confirm,visible:this.state.confirmRemove,closable:!0,id:"wait",title:A.h.pleaseWait,height:200,onDismiss:this.onDismissConfirmPopup,onNegative:this.onDismissConfirmPopup,onPositive:this.removeDraft},p.createElement(b.h,null,p.createElement(p.Fragment,null),p.createElement(p.Fragment,null)),p.createElement(p.Fragment,null))}},{key:"onDismissPopup",value:function(){}},{key:"onDismissConfirmPopup",value:function(){this.setState({confirmRemove:!1})}},{key:"applyFilter",value:function(e){this.filter=e,this.setState({changed:!0})}},{key:"socketCallback",value:function(e){if(e.error){var t=w.a.parseSummary(e,void 0);this.processPopupState=f.a.custom,this.setState({changed:!0,processing:!1,api:e,apiMessage:t.message})}else this.setState({changed:!0,processing:!1,api:e})}},{key:"itemClick",value:function(e,t){this.setState({processing:!0,apiMessage:""}),P.a.hub.send('{"id": "'+t+'"}',k.ERequestType.loadDraft,void 0)}},{key:"expand",value:function(){this.setState({expanded:!this.state.expanded})}},{key:"removeDraft",value:function(){P.a.hub.send('{"id":"'+this.currentRecord.id+'"}',k.ERequestType.removeDraft,void 0);for(var e=this.state.api?this.state.api.data.data:[],t=this.state.api,n=0;n<e.length;n++)if(e[n].id==this.currentRecord.id){e.splice(n,1),t&&(t.data.data=e);break}this.setState({confirmRemove:!1,api:t})}},{key:"remove",value:function(e){this.currentRecord=e,this.setState({confirmRemove:!0})}}]),t}(p.Component);re.containerId="drafts";var ie=re,se=n(39),oe=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(o.a)(t).call(this,e))).lastApi=void 0,n.approve=function(){n.process(!0)},n.reject=function(){n.process(!1)},n.itemClick=function(e,t){n.addRemove(t),e.preventDefault(),e.stopPropagation()},n.addRemove=function(e){var t=n.state.selection,a=t.indexOf(e);a>=0?t.splice(a,1):t.push(e),n.setState({selection:t})},n.state={expanded:!1,status:k.ERequestStatus.undefined,selection:[]},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.setState({status:k.ERequestStatus.running,loading:!0}),this.refresh(),setTimeout(function(){P.a.easyApp.setTitle(A.h.cancellations)},1e3)}},{key:"render",value:function(){return p.createElement("div",{id:t.containerId},this.renderData(),this.renderPopup())}},{key:"renderData",value:function(){var e=this,n=[{label:"Auftragsart",binding:"x1",size:2,sortable:!0,renderer:function(e,t){var n="";return n=7==e.TypeId?"Ausserordentliche Stornierung":e.TypeText,n+=" ["+e.Id+"]"}},{label:"Vertrag",binding:"ContractId",size:2,sortable:!0},{label:"MSISDN",binding:"MSISDN",size:2,sortable:!0},{label:"VOID",binding:"Void",size:2,sortable:!0},{label:"H\xe4ndlername",binding:"AccountName",size:2,sortable:!0},{label:"Stornierungsdatum",filterable:!0,style:"text-sub",binding:"CancellationDate",size:1,sortable:!0,renderer:function(e,t){return p.createElement(p.Fragment,null,P.a.toGermanDate(e[t.binding]))}},{label:"",binding:"",size:1,sortable:!1,renderer:function(t,n){return p.createElement(p.Fragment,null,p.createElement(v.l,{type:k.EControlType.checkbox,id:n.Id,value:n.Id,checked:e.state.selection.indexOf(t.Id)>=0,onChange:function(t){e.addRemove(t.value)}}))},rendererHead:function(t){return p.createElement(p.Fragment,null,p.createElement(v.j,{type:k.ELButtonType.iconImage,icon:"expand",onClick:function(){e.setState({expanded:!e.state.expanded})}}))}}],a={page:1,count:P.a.getConfiguration().pageSize,type:$.a.local};return p.createElement("div",{id:"container-main",className:"c1 container "+(this.state.expanded?"wide":"")},p.createElement("div",{className:"row"},p.createElement("div",{className:"col-md-12 col-12"},p.createElement(v.q,{coulmns:n,id:t.containerId+"Table",itemClick:this.itemClick,expnaded:this.state.expanded,pagingProps:a,data:this.state.data,dateColumn:"activationDate"}))),this.state.selection.length>0?p.createElement("div",{className:"row"},p.createElement("div",{className:"col-md-12 col-12"},this.renderAction())):null)}},{key:"renderAction",value:function(){var e=this;return p.createElement(M.a,{config:{title:"H\xc4NDLERERKL\xc4RUNG",transparent:!1,styleContainer:""},key:"b1"},p.createElement(B.a,{key:"c1"},p.createElement(R.a,null,p.createElement(F.a,{xs:12,md:12},p.createElement(v.l,{type:k.EControlType.checkbox,checked:this.state.accept,id:"acceptRules",style:"tal",onChange:function(t){e.setState({accept:!e.state.accept})},label:"Mit dieser Auftragsstornierung verzichten wir auf unsere Provision f\xfcr die ausgew\xe4hlten <br/>Neuauftr\xe4ge bzw. Vertragsverl\xe4ngerungen."}))),this.state.accept?p.createElement(R.a,null,p.createElement(F.a,{xs:12,md:12},p.createElement("div",{className:"action"},p.createElement(v.j,{text:"Ablehnen",type:k.ELButtonType.buttonWithIconRight,css:"action3 fr",onClick:this.reject}),p.createElement(v.j,{text:"Freigeben",type:k.ELButtonType.buttonWithIconRight,css:"action3 fr",onClick:this.approve})))):null))}},{key:"process",value:function(e){var t=this,n={cancellationIds:this.state.selection,approve:e,cancelationConfirm:this.state.accept};this.lastApi=void 0,this.setState({processing:!0,status:k.ERequestStatus.running}),w.a.fetch("cancellation/process",n,"post",function(e){e.status==se.EApiResponseStatus.ok?(t.lastApi=void 0,t.setState({data:e.data,selection:[],accept:!1,status:k.ERequestStatus.undefined})):(t.lastApi=e,t.setState({status:k.ERequestStatus.done,accept:!1}))})}},{key:"refresh",value:function(){var e=this;w.a.fetch("cancellation",void 0,"get",function(t){t.status==se.EApiResponseStatus.ok?(e.lastApi=void 0,e.setState({data:t.data,loading:!1,status:k.ERequestStatus.undefined})):(e.lastApi=t,e.setState({status:k.ERequestStatus.done,loading:!1}))})}},{key:"renderPopup",value:function(){var e=this,t=A.a.requestInProcess,n=f.a.pleaseWait;this.state.loading&&(t=A.a.loadData);var a={title:t,closable:this.state.status!==k.ERequestStatus.running,visible:this.state.status!==k.ERequestStatus.undefined&&this.state.status!==k.ERequestStatus.done,id:"cancellationPopup",type:n,onDismiss:function(){e.lastApi=void 0,e.setState({status:k.ERequestStatus.undefined,loading:!1,processing:!1})}},r=p.createElement(p.Fragment,null);if(this.lastApi&&this.lastApi.status!=se.EApiResponseStatus.ok){var i=w.a.parseSummary(this.lastApi,void 0);a.closable=!0,a.visible=!0,a.type=f.a.info,r=p.createElement("div",null,i.message)}return D.a.GetPopup(a,r,void 0)}}]),t}(p.Component);oe.containerId="cancellations";var ce=oe,le=(p.Component,n(16)),ue=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(o.a)(t).call(this,e))).processPopupState=f.a.pleaseWait,n.cfg={title:A.l.passwordEdit,transparent:!1,styleContainer:""},n._onSave=n._onSave.bind(Object(l.a)(Object(l.a)(n))),n._onChange=n._onChange.bind(Object(l.a)(Object(l.a)(n))),n.onDismissProcessPopup=n.onDismissProcessPopup.bind(Object(l.a)(Object(l.a)(n))),n.showPopup=n.showPopup.bind(Object(l.a)(Object(l.a)(n))),n.state={password:"",newPassword:"",newPasswordConfirm:"",closblePopup:!1,apiMessage:"",processing:!1,popupTitle:""},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return p.createElement("div",{id:t.containerId},p.createElement(b.g,{type:this.processPopupState,visible:this.state.processing||this.state.closblePopup,closable:this.state.closblePopup,id:"wait",title:this.state.popupTitle,height:200,onDismiss:this.onDismissProcessPopup},p.createElement(b.h,null,p.createElement("div",null,this.state.apiMessage),p.createElement(p.Fragment,null)),p.createElement(p.Fragment,null)),p.createElement(v.f,null,p.createElement(M.a,{config:this.cfg},p.createElement(B.a,{className:"container-action"},p.createElement(R.a,null,p.createElement(F.a,{xs:12,md:12,className:"np"},p.createElement(v.l,{type:k.EControlType.hint,label:A.l.passwordEditDesc}))),p.createElement(R.a,null,p.createElement(F.a,{xs:12,md:12,className:"np"},p.createElement(v.l,{type:k.EControlType.password,value:this.state.password?this.state.password:"",validationOptions:[new le.c({type:le.a.required,message:A.m.requiredError})],onChange:this._onChange,name:"password",id:"password",label:A.l.currentPassword}))),p.createElement(R.a,null,p.createElement(F.a,{xs:12,md:12,className:"np"},p.createElement(v.l,{type:k.EControlType.password,value:this.state.newPassword?this.state.newPassword:"",validationOptions:[new le.c({type:le.a.required,message:A.m.requiredError}),new le.c({type:le.a.passwordOutsideCustomerData,message:A.m.errorPasswordOutsideCustomerData})],onChange:this._onChange,name:"newPassword",id:"newPassword",label:A.l.newPassword}))),p.createElement(R.a,null,p.createElement(F.a,{xs:12,md:12,className:"np"},p.createElement(v.l,{hideTitle:!0,labelStyle:"tc-hint mwa",type:k.EControlType.hint,label:A.g.passwordOutsideCustomerDataHint}),p.createElement(v.k,null))),p.createElement(R.a,null,p.createElement(F.a,{xs:12,md:12,className:"np"},p.createElement(v.l,{type:k.EControlType.password,value:this.state.newPasswordConfirm?this.state.newPasswordConfirm:"",validationOptions:[new le.c({type:le.a.required,message:A.m.requiredError})],onChange:this._onChange,name:"newPasswordConfirm",id:"newPasswordConfirm",label:A.l.newPasswordConfirm}))),p.createElement(R.a,null,p.createElement(F.a,{xs:1.5,md:1.5,xl:1.5,className:"np"},p.createElement(v.j,{type:k.ELButtonType.linkSimple,css:"action3 fr",id:"buttonCancel",text:A.h.cancel,onClick:function(){j.a.route({url:"/"})}})),p.createElement(F.a,{xs:10,md:10},p.createElement(v.j,{onClick:this._onSave,text:A.h.save,type:k.ELButtonType.linkSimple,css:"action fr",icon:"chevron"})))),p.createElement(b.e,null))))}},{key:"socketCallback",value:function(e){2===e.data.status?this.showPopup(f.a.info,A.h.textError,e.data.notes[0].exception.Message,!0):(this.setState({password:"",newPassword:"",newPasswordConfirm:""}),this.showPopup(f.a.info,A.h.saveSuccess,"",!0))}},{key:"showPopup",value:function(e,t,n,a){this.processPopupState=e,this.setState({apiMessage:n,closblePopup:!0,processing:a,popupTitle:t})}},{key:"onDismissProcessPopup",value:function(){this.setState({processing:!1,closblePopup:!1})}},{key:"_onChange",value:function(e){var t=this,n=this.state;P.a.onInput(n,e,function(){t.setState({password:n.password,newPasswordConfirm:n.newPasswordConfirm,newPassword:n.newPassword})})}},{key:"_onSave",value:function(){var e=this.state;T.d.validateFormular(void 0,!0,t.containerId)&&P.a.hub.send(JSON.stringify(e),k.ERequestType.changePassword,void 0)}}]),t}(p.Component);ue.containerId="editPassword";var de=ue,pe=n(65),me=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(o.a)(t).call(this,e))).processPopupState=f.a.pleaseWait,n.cfg={title:A.l.profileEdit,transparent:!1,styleContainer:""},n._onSave=n._onSave.bind(Object(l.a)(Object(l.a)(n))),n._onChange=n._onChange.bind(Object(l.a)(Object(l.a)(n))),n.onDismissProcessPopup=n.onDismissProcessPopup.bind(Object(l.a)(Object(l.a)(n))),n.showPopup=n.showPopup.bind(Object(l.a)(Object(l.a)(n))),n.state={firstname:"",surname:"",birthDate:void 0,mobilePhoneNumber:"",email:"",closblePopup:!1,apiMessage:"",processing:!1,popupTitle:""},P.a.hub.send(JSON.stringify(""),k.ERequestType.loadProfile,void 0),n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return p.createElement("div",{id:t.containerId},p.createElement(v.f,null,p.createElement(M.a,{config:this.cfg},p.createElement(b.g,{type:this.processPopupState,visible:this.state.processing||this.state.closblePopup,closable:this.state.closblePopup,id:"wait",title:this.state.popupTitle,height:200,onDismiss:this.onDismissProcessPopup},p.createElement(b.h,null,p.createElement("div",null,this.state.apiMessage),p.createElement(p.Fragment,null)),p.createElement(p.Fragment,null)),p.createElement(B.a,{className:"container-action"},p.createElement(R.a,null,p.createElement(F.a,{xs:12,md:12,className:"np"},p.createElement(v.l,{type:k.EControlType.hint,label:A.l.profileEditDesc}))),p.createElement(R.a,null,p.createElement(F.a,{xs:12,md:12,className:"np"},p.createElement(v.l,{type:k.EControlType.text,value:this.state.firstname,validationOptions:[new le.c({type:le.a.required,message:A.m.requiredError})],onChange:this._onChange,name:"firstname",id:"firstname",label:A.h.firstname}))),p.createElement(R.a,null,p.createElement(F.a,{xs:12,md:12,className:"np"},p.createElement(v.l,{type:k.EControlType.text,value:this.state.surname,validationOptions:[new le.c({type:le.a.required,message:A.m.requiredError})],onChange:this._onChange,name:"surname",id:"surname",label:A.h.surname}))),p.createElement(R.a,null,p.createElement(F.a,{xs:12,md:12,className:"np"},p.createElement(v.m,{title:A.h.dateOfBirth,datePicker:!1,name:"birthDate",id:"birthDate",type:pe.b.default,onChange:this._onChange,value:this.state.birthDate}))),p.createElement(R.a,null,p.createElement(F.a,{xs:12,md:12,className:"np"},p.createElement(v.l,{type:k.EControlType.text,value:this.state.mobilePhoneNumber,onChange:this._onChange,name:"mobilePhoneNumber",id:"mobilePhoneNumber",label:A.h.mobilePhoneNumber}))),p.createElement(R.a,null,p.createElement(F.a,{xs:12,md:12,className:"np"},p.createElement(v.l,{type:k.EControlType.text,value:this.state.email,onChange:this._onChange,name:"email",id:"email",label:A.h.email}))),p.createElement(R.a,null,p.createElement(F.a,{xs:12,md:12,className:"np"},p.createElement(v.l,{type:k.EControlType.hint,label:A.l.profileSecurityTanValDesc}))),p.createElement(R.a,null,p.createElement(F.a,{xs:12,md:12},p.createElement(v.j,{text:A.h.save,onClick:this._onSave,type:k.ELButtonType.buttonWithIconRight,css:"action fr",icon:"arrow-right"}),p.createElement(v.j,{onClick:function(){P.a.easyApp.gotoDashboard()},text:A.h.cancel,type:k.ELButtonType.linkSimple,css:"action3 fr",icon:"chevron"})))),p.createElement(b.e,null))))}},{key:"loadProfileCallback",value:function(e){var t=e.data.data;this.setState(t)}},{key:"saveProfileCallback",value:function(e){e.error?this.showPopup(f.a.info,A.h.textError,e.error.message,!0):this.showPopup(f.a.info,A.h.saveSuccess,"",!0)}},{key:"_onChange",value:function(e){var t=this,n=this.state;P.a.onInput(n,e,function(){t.setState(n)})}},{key:"_onSave",value:function(){var e=this.state;P.a.hub.send(JSON.stringify(e),k.ERequestType.saveProfile,void 0)}},{key:"showPopup",value:function(e,t,n,a){this.processPopupState=e,this.setState({apiMessage:n,closblePopup:!0,processing:a,popupTitle:t})}},{key:"onDismissProcessPopup",value:function(){this.setState({processing:!1,closblePopup:!1})}}]),t}(p.Component);me.containerId="editProfile";var he=me,ve=n(71),fe=n(86),be=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(o.a)(t).call(this,e))).processPopupState=f.a.pleaseWait,n._onSave=n._onSave.bind(Object(l.a)(Object(l.a)(n))),n._onChange=n._onChange.bind(Object(l.a)(Object(l.a)(n))),n.onDismissProcessPopup=n.onDismissProcessPopup.bind(Object(l.a)(Object(l.a)(n))),n.showPopup=n.showPopup.bind(Object(l.a)(Object(l.a)(n))),n.state={model:n.props.model||{tel:{prefix:"",telType:k.ETelType.home,number:"",countryCode:"+49"},address:{city:"",zip:"",street:"",nr:"",corrected:!1,house_number:"",additional:""},fnvoid:"",vpkn:"",voId:""},closblePopup:!1,apiMessage:"",processing:!1,popupTitle:""},void 0===n.props.model&&P.a.hub.send(JSON.stringify({id:""}),k.ERequestType.loadAccount,void 0),n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e={title:void 0===this.props.model?A.d.dealerEdit:"Abgleich deiner Stammdaten",transparent:!1,styleContainer:""};return p.createElement("div",{id:t.containerId},p.createElement(v.f,null,p.createElement(M.a,{config:e},p.createElement(b.g,{type:this.processPopupState,visible:this.state.processing||this.state.closblePopup,closable:this.state.closblePopup,id:"wait",title:this.state.popupTitle,height:200,onDismiss:this.onDismissProcessPopup},p.createElement(b.h,null,p.createElement("div",null,this.state.apiMessage),p.createElement(p.Fragment,null)),p.createElement(p.Fragment,null)),p.createElement(B.a,{className:"container-action"},void 0===this.props.model?p.createElement(p.Fragment,null):p.createElement("strong",null,"Bitte \xfcberpr\xfcfe und korrigiere Kontaktdaten sorgf\xe4ltig. Daten werden auf Vertragsdokumenten verwended."),p.createElement(fe.a,{onChange:this._onChange,source:this.state.model,prefix:"address",preview:!1}),p.createElement(ve.b,{countryCodeVisible:!0,telTypeHidden:void 0!==this.props.model,onChange:this._onChange,source:this.state.model,prefix:"tel",preview:!1}),p.createElement(R.a,null,p.createElement(F.a,{xs:4,md:4},p.createElement(v.l,{type:k.EControlType.text,value:this.state.model.voId,name:"voId",id:"voId",label:"VOID",preview:!0})),p.createElement(F.a,{xs:4,md:4},p.createElement(v.l,{type:k.EControlType.text,value:this.state.model.fnvoid,onChange:this._onChange,name:"fnvoid",id:"fnvoid",label:A.h.fnvoid,preview:!0})),p.createElement(F.a,{xs:4,md:4},p.createElement(v.l,{type:k.EControlType.text,value:this.state.model.vpkn,onChange:this._onChange,name:"vpkn",id:"vpkn",label:A.h.vpkn,preview:!0}))),p.createElement(R.a,null,p.createElement(F.a,{xs:6,md:6},void 0!==this.props.parent?p.createElement(v.j,{text:A.h.cancel,onClick:this.props.parent.closeEditScreen,type:k.ELButtonType.linkSimple,css:"fl",icon:"chevron"}):p.createElement(v.j,{text:A.h.cancel,onClick:function(){return window.history.back()},type:k.ELButtonType.linkSimple,css:"fl",icon:"chevron"})),p.createElement(F.a,{xs:6,md:6},p.createElement(v.j,{text:void 0===this.props.model?A.h.save:A.h.takeOver,onClick:this._onSave,type:void 0===this.props.model?k.ELButtonType.linkSimple:k.ELButtonType.buttonWithIconRight,css:void 0===this.props.model?"action fr":"fr",icon:"chevron"})))),p.createElement(b.e,null))))}},{key:"loadAccountCallback",value:function(e){var t=e.data.data,n=t.dealer,a={tel:{countryCode:n.tel.cc,prefix:n.tel.ndc,number:n.tel.sn,telType:k.ETelType.home},address:{city:n.address.city,zip:n.address.zip,street:n.address.street,nr:n.address.nr,house_number:"",additional:"",corrected:!1},fnvoid:t.fnvoid,vpkn:t.vpkn,voId:t.voId};this.setState({model:a})}},{key:"saveAccountCallback",value:function(e){e.error?this.showPopup(f.a.info,A.h.textError,e.error.message,!0):this.showPopup(f.a.info,A.h.saveSuccess,"",!0)}},{key:"_onChange",value:function(e){var t=this,n=this.state.model;P.a.onInput(n,e,function(){t.setState({model:n})})}},{key:"_onSave",value:function(){var e=this.state.model,t={dealer:{tel:{cc:e.tel.countryCode,ndc:e.tel.prefix,sn:e.tel.number},address:{city:e.address.city,zip:e.address.zip,street:e.address.street,nr:e.address.nr}},fnvoid:e.fnvoid,vpkn:e.vpkn,voId:e.voId};P.a.hub.send(JSON.stringify(t),k.ERequestType.saveAccount,void 0)}},{key:"showPopup",value:function(e,t,n,a){this.processPopupState=e,this.setState({apiMessage:n,closblePopup:!0,processing:a,popupTitle:t})}},{key:"onDismissProcessPopup",value:function(){this.setState({processing:!1,closblePopup:!1})}}]),t}(p.Component);be.containerId="dealerScreen";var ye,ge=be,Ee=function(e){function t(e){return Object(r.a)(this,t),Object(s.a)(this,Object(o.a)(t).call(this,e))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return m.a.createElement(m.a.Fragment,null,m.a.createElement(v.f,{style:"tiny"},m.a.createElement(m.a.Fragment,null,this.renderData())))}},{key:"renderData",value:function(){var e={title:A.e.underConstruction,transparent:!1};return m.a.createElement(M.a,{config:e},m.a.createElement(B.a,null,m.a.createElement(R.a,null,m.a.createElement(F.a,{xs:12,md:12},m.a.createElement("div",{className:"etitle"},"Beschreibung")))),m.a.createElement(v.k,null))}}]),t}(m.a.Component),ke=n(125);!function(e){e[e.none=0]="none",e[e.editAccount=1]="editAccount",e[e.editContact=2]="editContact"}(ye||(ye={}));var Ce=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(o.a)(t).call(this,e))).processPopupState=f.a.pleaseWait,n.globalCfg=P.a.getConfiguration(),n.cfg={title:A.h.mainData,transparent:!1,styleContainer:""},n.cfg2={title:A.h.filter,transparent:!1,styleContainer:""},n.cols=[{label:"Name",filterable:!0,binding:"name",size:3,sortable:!0,style:"text-button",renderer:function(e,t){return p.createElement(p.Fragment,null,p.createElement("div",{className:"contactsGrid-contact-icon"}),p.createElement("div",{className:"text-button"},e.name))}},{label:"Void",filterable:!0,binding:"voId",size:2,sortable:!0},{label:A.h.email,filterable:!0,binding:"email",size:3,sortable:!0,renderer:function(e,t){return p.createElement("a",{href:"mailto:"+e.email},e.email)}},{label:A.h.mobilePhoneNumber,filterable:!0,binding:"mobile",size:3,sortable:!0},{label:"",binding:"",size:1,sortable:!0,renderer:function(e,t){return P.a.checkAccessRoles([x.i.XTND_ShopManager,x.i.XTND_Nutzerverwaltung])?p.createElement(p.Fragment,null,p.createElement(v.j,{type:k.ELButtonType.iconImage,icon:"edit",clickModel:e,onClickEvent:function(e,t){return e.preventDefault(),e.stopPropagation(),n.editContact(t),!1}})):p.createElement(p.Fragment,null)},rendererHead:function(e){return p.createElement(p.Fragment,null,p.createElement(v.j,{type:k.ELButtonType.iconImage,icon:"expand",onClick:n.expand}))}}],n.filterActionButtons=[p.createElement(v.j,{text:A.h.doFilter,css:"fr",onClick:function(){n.applyFilter(n.filter)},type:k.ELButtonType.buttonWithIconRight})],n.filter={needle:"",from:new Date,to:new Date},n._renderPopup=function(){return p.createElement(f.b,{type:n.processPopupState,visible:n.state.processing||n.state.closablePopup,closable:n.state.closablePopup,id:"wait",title:A.h.pleaseWait,height:200,onDismiss:n._onDismissPopup},p.createElement(b.h,null,p.createElement("div",null,n.state.apiMessage),p.createElement(p.Fragment,null)),p.createElement(p.Fragment,null))},n._onDismissPopup=function(){n.setState({processing:!1,closablePopup:!1})},n.applyFilter=n.applyFilter.bind(Object(l.a)(Object(l.a)(n))),n.expand=n.expand.bind(Object(l.a)(Object(l.a)(n))),n.contactsRecieved=n.contactsRecieved.bind(Object(l.a)(Object(l.a)(n))),n.loadAccountCallback=n.loadAccountCallback.bind(Object(l.a)(Object(l.a)(n))),n.edit=n.edit.bind(Object(l.a)(Object(l.a)(n))),n.loadAccount=n.loadAccount.bind(Object(l.a)(Object(l.a)(n))),n.closeEditScreen=n.closeEditScreen.bind(Object(l.a)(Object(l.a)(n))),n._onNewUserClick=n._onNewUserClick.bind(Object(l.a)(Object(l.a)(n))),P.a.easyApp.setTitle(A.h.administration),n.state={changed:!1,expanded:!1,processing:!0,apiMessage:"",editType:ye.none,editContactId:0,closablePopup:!1},P.a.validateAccessRoles([x.i.XTND_Nutzerverwaltung,x.i.XTND_ShopManager])&&(P.a.hub.send("",k.ERequestType.getContacts,void 0),n.loadAccount()),n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){if(P.a.checkAccessRoles([x.i.XTND_ShopManager,x.i.XTND_Nutzerverwaltung])){if(this.state.editType===ye.editAccount)return p.createElement(ge,{parent:this,model:void 0});if(this.state.editType===ye.editContact)return p.createElement(ke.a,{contactId:this.state.editContactId})}var e=p.createElement(p.Fragment,null);P.a.checkAccessRoles([x.i.XTND_ShopManager,x.i.XTND_Nutzerverwaltung])&&(e=p.createElement("div",{className:"col-md-12 col-12"},p.createElement(v.j,{text:A.h.newUser,onClick:this._onNewUserClick,type:k.ELButtonType.buttonWithIconRight,css:"action fr",icon:"chevron"})));var n=p.createElement(v.c,{searchTitle:"",actionButtons:this.filterActionButtons,filter:this.filter,id:"filter",hideDateFilter:!0,type:Y.a.default,title:A.h.employee,onApply:this.applyFilter,placeholderSearch:"z.B. Name, VOID, E-Mail oder Rufnummer"}),a={page:1,count:this.globalCfg.pageSize,type:$.a.none},r=p.createElement(v.q,{coulmns:this.cols,id:t.containerId+"Table",expnaded:this.state.expanded,pagingProps:a,filter:this.filter,data:void 0!==this.state.api&&void 0!==this.state.api.data&&null!==this.state.api.data?this.state.api.data.data:void 0});return p.createElement("div",{id:t.containerId},this._renderPopup(),void 0!==this.state.accountMainPreviewData?p.createElement(v.f,null,p.createElement(M.a,{config:this.cfg},p.createElement(B.a,null,p.createElement(R.a,null,p.createElement(F.a,{xs:12,md:12,className:"np"},this.state.accountMainPreviewData.address.additional)),p.createElement(R.a,null,p.createElement(F.a,{xs:12,md:12,className:"np"},this.state.accountMainPreviewData.address.street," ",this.state.accountMainPreviewData.address.nr)),p.createElement(R.a,null,p.createElement(F.a,{xs:12,md:12,className:"np"},this.state.accountMainPreviewData.address.zip," ",this.state.accountMainPreviewData.address.city)),p.createElement(R.a,null,p.createElement(F.a,{xs:12,md:12,className:"np"},this.state.accountMainPreviewData.tel.countryCode," ",this.state.accountMainPreviewData.tel.prefix," ",this.state.accountMainPreviewData.tel.number)),p.createElement(R.a,null,p.createElement(F.a,{xs:4,md:4},p.createElement(v.l,{type:k.EControlType.text,value:this.state.accountMainPreviewData.voId,name:"voId",id:"voId",label:"VOID",preview:!0})),p.createElement(F.a,{xs:4,md:4},p.createElement(v.l,{type:k.EControlType.text,value:this.state.accountMainPreviewData.fnvoid,name:"fnvoid",id:"fnvoid",label:A.h.fnvoid,preview:!0})),p.createElement(F.a,{xs:4,md:4},p.createElement(v.l,{type:k.EControlType.text,value:this.state.accountMainPreviewData.vpkn,name:"vpkn",id:"vpkn",label:A.h.vpkn,preview:!0}))),P.a.checkAccessRoles([x.i.XTND_ShopManager,x.i.XTND_Nutzerverwaltung])?p.createElement(R.a,null,p.createElement(F.a,{xs:12,md:12},p.createElement(v.j,{text:A.h.edit,css:"fr",onClick:this.edit,type:k.ELButtonType.buttonWithIconRight}))):p.createElement(p.Fragment,null)))):p.createElement(p.Fragment,null),n,p.createElement("div",{className:"c1 container "+(this.state.expanded?"wide":"")},p.createElement("div",{className:"row"},e),p.createElement("div",{className:"row"},p.createElement("div",{className:"col-md-12 col-12"},r))))}},{key:"contactsRecieved",value:function(e){if(e.error){var t=w.a.parseSummary(e,void 0);this.processPopupState=f.a.custom,this.setState({changed:!0,processing:!0,closablePopup:!0,api:e,apiMessage:t.message})}else this.setState({changed:!0,processing:!1,closablePopup:!1,api:e})}},{key:"loadAccountCallback",value:function(e){if(e.error){var t=w.a.parseSummary(e,void 0);this.processPopupState=f.a.custom,this.setState({changed:!0,processing:!1,api:e,apiMessage:t.message})}else{var n=e.data.data,a=n.dealer,r={tel:{countryCode:a.tel.cc,prefix:a.tel.ndc,number:a.tel.sn,telType:k.ETelType.home},address:{city:a.address.city,zip:a.address.zip,street:a.address.street,nr:a.address.nr,house_number:"",additional:"",corrected:!1},fnvoid:n.fnvoid,vpkn:n.vpkn,voId:n.voId};this.setState({accountMainPreviewData:r,changed:!0,processing:!1})}}},{key:"closeEditScreen",value:function(){this.setState({editType:ye.none})}},{key:"_onNewUserClick",value:function(e){this.setState({editType:ye.editContact,editContactId:0})}},{key:"applyFilter",value:function(e){this.filter=e,this.setState({changed:!0})}},{key:"expand",value:function(){this.setState({expanded:!this.state.expanded})}},{key:"editContact",value:function(e){e&&e.id&&this.setState({editType:ye.editContact,editContactId:e.id})}},{key:"edit",value:function(){void 0!==this.state.accountMainPreviewData&&this.setState({editType:ye.editAccount})}},{key:"loadAccount",value:function(){P.a.hub.send(JSON.stringify({id:""}),k.ERequestType.loadAccount,void 0)}}]),t}(p.Component);Ce.containerId="administrationScreen";var _e=Ce,Oe=(n(166),n(104)),Se=n(121),we=n(122),xe=function(e){function t(e){var n;Object(r.a)(this,t),(n=Object(s.a)(this,Object(o.a)(t).call(this,e))).buttonStatus="",n.filter={needle:""},n.processPopupState=f.a.custom,n.user=void 0,n.cfg=P.a.getConfiguration(),n.onDismissDetailsScreen=function(){n.setState({selectedRecord:void 0})},n.applyFilter=n.applyFilter.bind(Object(l.a)(Object(l.a)(n))),n.expand=n.expand.bind(Object(l.a)(Object(l.a)(n))),n.onDismissPopup=n.onDismissPopup.bind(Object(l.a)(Object(l.a)(n))),n.socketCallback=n.socketCallback.bind(Object(l.a)(Object(l.a)(n))),n.renderDetailsSection=n.renderDetailsSection.bind(Object(l.a)(Object(l.a)(n))),n.user=N.a.getUser();var a=new Date,i=new Date;return i=new Date(i.setMonth(i.getMonth()-1)),n.filter={needle:"",from:i,to:a},n.state={expanded:!1,changed:!1,processing:!0,closablePopup:!1,confirmRemove:!1,selectedRecord:void 0,showPopup:!1},n.onChange=n.onChange.bind(Object(l.a)(Object(l.a)(n))),n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return p.createElement("div",{id:t.containerId},p.createElement(v.c,{filter:this.filter,id:"filter",type:Y.a.default,title:A.h.filterCriteria,onApply:this.applyFilter,optionalButtonSelection:function(){e.getButtonState(event)},optionalButtons:!0,placeholderSearch:"Status, MSISDN, contract, customer and tariff"}),this.state.processing?null:p.createElement(p.Fragment,null,this.renderData()),this.state.showPopup?this.renderPopup():p.createElement(p.Fragment,null))}},{key:"renderData",value:function(){var e=this,n=P.a.getConfiguration(),a=[{label:"Registrierung",binding:"Status",size:2,sortable:!0},{label:"Start Date",filterable:!0,style:"text-sub",binding:"StartDate",size:1,sortable:!0,renderer:function(e,t){return p.createElement(p.Fragment,null,P.a.toGermanDate(e[t.binding]))}},{label:"End Date",filterable:!0,style:"text-sub",binding:"EndDate",size:1,sortable:!0,renderer:function(e,t){return p.createElement(p.Fragment,null,P.a.toGermanDate(e[t.binding]))}},{label:"Aktueller Status",filterable:!0,binding:"LastStatus",size:3,sortable:!0,style:""},{label:A.h.msisdn,filterable:!0,style:"text-sub",binding:"MSISDN",size:2,sortable:!1},{label:A.h.customer,filterable:!0,binding:"Customer",size:1,sortable:!0,style:""},{label:A.h.tariff,filterable:!0,binding:"Tarif",size:1,sortable:!0,style:""},{label:"",binding:"",size:1,sortable:!0,renderer:function(t,n){return p.createElement(p.Fragment,null,p.createElement(v.j,{type:k.ELButtonType.iconImage,icon:"list",clickModel:t,onClickEvent:function(t,n){return t.preventDefault(),t.stopPropagation(),e.selectRecord(n),!1}}))},rendererHead:function(t){return p.createElement(p.Fragment,null,p.createElement(v.j,{type:k.ELButtonType.iconImage,icon:"expand",onClick:e.expand}))}}],r={page:1,count:n.pageSize,type:$.a.local};return p.createElement("div",{id:ie.containerId,className:"c1 container "+(this.state.expanded?"wide":"")},p.createElement("div",{className:"row"},p.createElement("div",{className:"col-md-12 col-12"},p.createElement(v.q,{coulmns:a,id:t.containerId+"Table",expnaded:this.state.expanded,pagingProps:r,filter:this.filter,data:this.state.api?this.state.api.data:void 0}))))}},{key:"selectRecord",value:function(e){var t=this;setTimeout(function(){var n={Void:void 0===t.user?"":t.user.voId,ContractId:e.ContractId,total:"0",page:"1",count:"500"};P.a.hub.send(JSON.stringify(n),k.ERequestType.getMnpPortingStatusDetails,void 0)},1e3);var n={Kunde:e.Customer,msisdn:e.MSISDN,contractId:e.ContractId,tarif:e.Tarif};this.setState({selectedRecord:n,processing:!0})}},{key:"renderPopup",value:function(){return p.createElement(b.g,{type:this.processPopupState,visible:this.state.showPopup,closable:!0,id:"wait",title:"",height:600,width:1e3,onDismiss:this.onDismissPopup},p.createElement(b.h,null,p.createElement("div",null,this.renderDetailsSection()),p.createElement(p.Fragment,null)),p.createElement(p.Fragment,null))}},{key:"onDismissPopup",value:function(){this.setState({showPopup:!1})}},{key:"applyFilter",value:function(){this.loadData(this.filter.from,this.filter.to,this.filter.needle,this.buttonStatus)}},{key:"renderDetailsSection",value:function(){var e=this,n=p.createElement(p.Fragment,null),a=this.state.selectedRecord;void 0!==a&&(n=p.createElement(p.Fragment,null,p.createElement(R.a,null,p.createElement(F.a,{md:3},p.createElement(v.l,{type:k.EControlType.info,label:a.Kunde,disabled:!0,title:"Kunde"})),p.createElement(F.a,{md:3},p.createElement(v.l,{type:k.EControlType.info,label:a.msisdn,disabled:!0,title:"MSISDN"})),p.createElement(F.a,{md:3},p.createElement(v.l,{type:k.EControlType.info,label:a.contractId,disabled:!0,title:"Vertag"})),p.createElement(F.a,{md:3},p.createElement(v.l,{type:k.EControlType.info,label:a.tarif,disabled:!0,title:"Tarif"})))));var r=[{label:"Status",binding:"Status",size:3,sortable:!0},{label:"Datum",filterable:!0,style:"text-sub",binding:"StartDate",size:3,sortable:!0,renderer:function(e,t){return p.createElement(p.Fragment,null,P.a.toGermanDate(e[t.binding]))}},{label:"Details",filterable:!0,binding:"Description",size:4,sortable:!0,style:""},{label:"",binding:"",size:2,sortable:!0,renderer:function(e,t){return p.createElement(p.Fragment,null,p.createElement(v.j,{type:k.ELButtonType.iconImage,icon:"",clickModel:e,onClickEvent:function(e,t){return e.preventDefault(),e.stopPropagation(),!1}}))},rendererHead:function(t){return p.createElement(p.Fragment,null,p.createElement(v.j,{type:k.ELButtonType.iconImage,icon:"expand",onClick:e.expand}))}}],i={page:1,count:this.cfg.pageSize,type:$.a.local};return p.createElement("div",{id:t.containerId,className:"c1 container "+(this.state.expanded?"wide":"")},p.createElement("div",{className:"row"},n,p.createElement("div",{className:"col-md-12 col-12"},p.createElement(v.q,{coulmns:r,id:t.containerId+"Table",expnaded:this.state.expanded,pagingProps:i,dateColumn:"StartDate",filter:void 0,data:this.state&&this.state.api2?this.state.api2.data:void 0}))))}},{key:"getButtonState",value:function(e){this.componentDidMount(),this.buttonStatus=e.target.id}},{key:"componentDidMount",value:function(){}},{key:"socketCallback",value:function(e){this.setState({changed:!0,processing:!1,api:e})}},{key:"socketCallbackDetails",value:function(e){this.setState({changed:!0,processing:!1,api2:e,showPopup:!0})}},{key:"loadData",value:function(e,t,n,a){var r=this;setTimeout(function(){P.a.easyApp.setTitle(A.h.portingStatus);var i={Void:void 0===r.user?"":r.user.voId,from:e,to:t,LastStatus:a,total:"0",page:"1",count:"500",search:n};P.a.hub.send(JSON.stringify(i),k.ERequestType.getMnpPortingStatus,void 0)},1e3)}},{key:"expand",value:function(){this.setState({expanded:!this.state.expanded})}},{key:"onChange",value:function(e){}}]),t}(p.Component);xe.containerId="statusPorting";var Pe=xe,De=n(173),Te=function(e){function t(e){var n;Object(r.a)(this,t),(n=Object(s.a)(this,Object(o.a)(t).call(this,e))).processPopupState=f.a.custom,n.dataTable1=[],n.dataTable2=[],n.orderProductsModel={products:[],address:new k.Address},n.priceTotal=0,n.currentProduct={ProductGroup:"",Picture:"",Id:"",Name:"",ProductAvailability:"",PriceString:"",Amount:""},n.user=void 0,n.totalAmountProducts="",n.totalPriceEverything="",n.currentAddressByOrder=new k.Address,n._onDismissProcessPopup=function(){n.setState({errorAmount:!1})},n.state={changed:!1,progress:O.p.selectProduct,table1:!0,table2:!1,data2:[],model:void 0,orderTotal:"0",fullAmountProducts:"0",noAmountFound:!1,errorAmount:!1,details:!1,dataDetails:[]},n.user=N.a.getUser(),n.socketCallback=n.socketCallback.bind(Object(l.a)(Object(l.a)(n))),n.validateInput=n.validateInput.bind(Object(l.a)(Object(l.a)(n))),n.getOrderDetails=n.getOrderDetails.bind(Object(l.a)(Object(l.a)(n))),n.calculateAmount=n.calculateAmount.bind(Object(l.a)(Object(l.a)(n)));var a={Void:void 0!==n.user?n.user.voId:""};return P.a.hub.send(JSON.stringify(a),k.ERequestType.getOrderProducts,void 0),n.onChange=n.onChange.bind(Object(l.a)(Object(l.a)(n))),n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,n={page:1,count:P.a.getConfiguration().pageSize,type:$.a.local},a=[{label:A.h.orderFrom,binding:"Region",size:3,sortable:!0},{label:A.h.status,binding:"Status",size:3,sortable:!0},{label:A.h.numberOfProducts,binding:"Produkte",size:3,sortable:!0},{label:A.h.totalPriceEuro,binding:"PriceTotal",size:2,sortable:!0},{label:"",binding:"",size:1,sortable:!1,renderer:function(t,n){return p.createElement(p.Fragment,null,p.createElement(v.j,{type:k.ELButtonType.iconImage,icon:"list",clickModel:t,onClickEvent:function(n,a){return n.preventDefault(),n.stopPropagation(),e.getOrderDetails(t.I_id),!1}}))},rendererHead:function(e){return p.createElement(p.Fragment,null,p.createElement(v.j,{type:k.ELButtonType.iconImage,icon:"expand",onClick:""}))}}],r=[{label:A.h.productGroup,binding:"ProductGroup",size:3,sortable:!0},{label:A.h.picture,binding:"Picture",size:1,sortable:!0},{label:A.h.surname,binding:"Name",size:2,sortable:!0},{label:A.h.availability,binding:"ProductAvailability",size:2,sortable:!0},{label:A.h.priceInEuro,binding:"PriceString",size:2,sortable:!0},this.state.details?{label:A.h.amount,binding:"Amount",size:2,sortable:!0}:{label:A.h.amount,binding:"Amount",size:2,sortable:!0,renderer:function(t,n){return p.createElement(p.Fragment,null,p.createElement("div",{className:"input-round orderProducts"},p.createElement(v.l,{onChange:function(t,n){e.onChange(t)},hideHint:!0,id:t,type:k.EControlType.text,hideTitle:!0,style:"",controlStlye:"form-control",autoComplete:"nope1",placeholder:"menge",hideLabel:!0,value:e.currentProduct.Amount})))},rendererHead:function(e){return p.createElement(p.Fragment,null,p.createElement(v.n,{text:A.h.amount}))}}],i={title:this.state.table2?A.h.yourOrders:A.h.yourOrder,transparent:!1,style:"",styleContainer:"block-orderProducts",collapsible:!1,collapsed:!1},s={title:A.h.details,transparent:!1,style:"",styleContainer:"block-orderProducts",collapsible:!1,collapsed:!1};p.Fragment;return p.createElement("div",{id:t.containerId},p.createElement(v.f,{style:"   "},this.renderProgress()),p.createElement(p.Fragment,null,p.createElement(b.g,{type:this.processPopupState,visible:this.state.errorAmount,closable:!0,id:"areYouSure",title:"Warnung",height:200,onDismiss:this._onDismissProcessPopup},p.createElement(b.h,null,p.createElement("h5",null,"Bitte geben Sie die Menge der zu bestellenden Sim-Karten ein."),p.createElement(p.Fragment,null)),p.createElement(p.Fragment,null))),p.createElement(M.a,{config:i},p.createElement(B.a,null,this.state.table2?p.createElement(p.Fragment,null):p.createElement(De.b,{visible:!0,text:A.k.orderProductsNotification}),p.createElement("div",{className:"spacer"}),p.createElement("div",{className:"spacer"}),p.createElement(R.a,null,p.createElement(F.a,{xs:4,md:4},p.createElement(v.j,{type:k.ELButtonType.buttonWithIconRight,css:"a1 fr",id:"",text:A.h.orderProducts,onClick:function(){e.setState({table1:!0,table2:!1,details:!1})}})),p.createElement(F.a,{xs:4,md:4},p.createElement(v.j,{type:k.ELButtonType.buttonWithIconRight,css:"a1 fr",id:"",text:A.h.yourOrders,onClick:function(){P.a.hub.send(JSON.stringify({id:"test",url:"test"}),k.ERequestType.getOrdersList,void 0)}}))),p.createElement(R.a,null,p.createElement(F.a,null,this.state.table1?p.createElement(v.q,{coulmns:r,id:"1",expnaded:!1,pagingProps:n,data:this.dataTable1}):p.createElement(p.Fragment,null),this.state.table2?p.createElement(v.q,{coulmns:a,id:"1",expnaded:!1,pagingProps:n,data:this.state.data2}):p.createElement(p.Fragment,null))),this.state.table2?p.createElement(p.Fragment,null):p.createElement(R.a,null,p.createElement(F.a,{xs:8,md:8}),p.createElement(F.a,{xs:2,md:2},p.createElement(v.n,{text:A.h.orderText+":  "+this.priceTotal.toFixed(2).toString()+" \u20ac"})),p.createElement(F.a,{xs:2,md:2},p.createElement(v.n,{text:A.h.amount+":  "+this.state.orderTotal}))),this.state.table2?p.createElement(p.Fragment,null):p.createElement(F.a,{xs:12,md:12},p.createElement(v.j,{type:k.ELButtonType.buttonWithIconRight,css:"a1 fr",id:"",text:A.h.next,onClick:function(){0===e.orderProductsModel.products.length?e.setState({errorAmount:!0}):(e.orderProductsModel.products.forEach(function(t){"0"!==t.Amount&&""!==t.Amount||e.orderProductsModel.products.splice(e.orderProductsModel.products.findIndex(function(e){return e.Id===t.Id}),1)}),0===e.orderProductsModel.products.length?e.setState({errorAmount:!0}):(N.a.addOrderProducts(e.orderProductsModel),j.a.route({url:"/apps/orderproducts/selectdeliveryaddress",title:A.h.selectDeliveryAddress})))}})))),this.state.details?p.createElement(M.a,{config:s},p.createElement(B.a,null,p.createElement(R.a,null,p.createElement(F.a,null,p.createElement(v.q,{coulmns:r,id:"1",expnaded:!1,pagingProps:n,data:this.state.dataDetails}))),p.createElement(R.a,null,p.createElement(F.a,{xs:8,md:8}),p.createElement(F.a,{xs:2,md:2},p.createElement(v.n,{text:A.h.orderText+":  "+this.totalPriceEverything})),p.createElement(F.a,{xs:2,md:2},p.createElement(v.n,{text:A.h.amount+":  "+this.totalAmountProducts}))),p.createElement(R.a,null,p.createElement(F.a,{md:4},p.createElement(v.n,{text:A.i.deliveryAddress}))),p.createElement(R.a,null,p.createElement(F.a,{md:4},p.createElement(v.n,{text:this.currentAddressByOrder.name}))),p.createElement(R.a,null,p.createElement(F.a,{md:4},p.createElement(v.n,{text:this.currentAddressByOrder.house_number+", "+this.currentAddressByOrder.zip+", "+this.currentAddressByOrder.city}))))):p.createElement(p.Fragment,null))}},{key:"renderProgress",value:function(){var e=p.createElement(h.h,{progress:this.state.progress,states:[A.i.selectProducts,A.i.deliveryAddress,A.i.overviewOrder]});return P.a.easyApp.head&&(P.a.easyApp.head.setTitle(this.state.table2?A.h.yourOrders:A.h.yourOrder),P.a.easyApp.head.appendSub(this.state.table2?p.createElement(p.Fragment,null):e)),p.createElement(p.Fragment,null)}},{key:"socketCallback",value:function(e){this.dataTable1=e.data}},{key:"socketCallbackOrdersList",value:function(e){this.setState({table2:!0,table1:!1,data2:e.data.Items,details:!1})}},{key:"getOrderDetails",value:function(e){var t={id:e};P.a.hub.send(JSON.stringify(t),k.ERequestType.getOrderDetail,void 0)}},{key:"socketCallbackDetails",value:function(e){this.totalAmountProducts=this.calculateAmount(e.data.products),this.currentAddressByOrder.city=e.data.address.City,this.currentAddressByOrder.zip=e.data.address.ZIP,this.currentAddressByOrder.street=e.data.address.Street,this.currentAddressByOrder.name=e.data.address.Name,this.currentAddressByOrder.house_number=e.data.address.HouseNumber,this.setState({dataDetails:e.data.products,details:!0})}},{key:"onChange",value:function(e){var t=this;e.value=this.validateInput(e.value),this.currentProduct=e.id,this.currentProduct.Amount=e.value;var n=this.orderProductsModel.products.findIndex(function(e){return e.Id===t.currentProduct.Id});n>-1?this.orderProductsModel.products[n].Amount=e.value:this.orderProductsModel.products.push(this.currentProduct),this.orderProductsModel.products.forEach(function(e){var n=e.PriceString.substring(0,3);t.priceTotal+=Number(e.Amount)*Number(n)}),this.setState({changed:!0,orderTotal:e.value})}},{key:"calculateAmount",value:function(e){var t=0,n=0;return e.forEach(function(e){t+=Number(e.Amount),n+=Number(e.Amount)*e.Price}),this.totalPriceEverything=n.toFixed(2).toString()+" \u20ac",t.toString()}},{key:"validateInput",value:function(e){return null!==/^(?:[1-9][0-9]*|0)$/gm.exec(e)?e:""}}]),t}(p.Component);Te.containerId="orderProducts";var Ae=Te,Ie=function(e){function t(e){var n;Object(r.a)(this,t),(n=Object(s.a)(this,Object(o.a)(t).call(this,e))).savedAddressFullString="",n.orderProductsModel={products:[],address:new k.Address},n.modelState=new T.a,n.address=void 0,n.valop=[],n.user=void 0,n.state={changed:!1,progress:O.p.deliveryAddress,savedAddress:!0,newAddress:!1},n.address=n.props.address?n.props.address:new k.Address;var a=sessionStorage.getItem(x.j.keyOrdersProducts);return null!==a&&(n.orderProductsModel=JSON.parse(a)),n.valop.push({id:"city",options:[new le.c({type:le.a.required,message:A.m.requiredError})]},{id:"zip",options:[new le.c({type:le.a.required,message:A.m.requiredError}),new le.c({type:le.a.numeric,message:A.m.numericError}),new le.c({type:le.a.exactLength,targetValue:5,message:"Max 5 Zeichen"})]},{id:"street",options:[new le.c({type:le.a.required,message:A.m.requiredError})]},{id:"nr",options:[new le.c({type:le.a.required,message:A.m.requiredError}),new le.c({type:le.a.numeric,message:A.m.numericError})]},{id:"street",options:[new le.c({type:le.a.required,message:A.m.requiredError})]}),n.user=N.a.getUser(),n.onChange=n.onChange.bind(Object(l.a)(Object(l.a)(n))),n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,n=p.createElement(p.Fragment,null,p.createElement(v.j,{type:k.ELButtonType.linkSimple,text:A.h.back,css:"action3 fr",onClick:function(){j.a.route({url:"/apps/orderproducts",title:A.h.orderProductsTitle})}})),a={title:A.h.yourOrder,transparent:!1,style:"",styleContainer:"block-orderProducts",collapsible:!1,collapsed:!1,action:n};p.Fragment;return p.createElement("div",{id:t.containerId},p.createElement(v.f,{style:"   "},this.renderProgress()),p.createElement(M.a,{config:a},p.createElement(B.a,{id:"newAddressValidation"},p.createElement(R.a,null,p.createElement(F.a,{xs:4,md:4},p.createElement(v.j,{type:k.ELButtonType.buttonWithIconRight,css:"a1 fr",id:"",text:A.h.orderProducts,onClick:function(){j.a.route({url:"/apps/orderproducts",title:A.h.orderProductsTitle})}})),p.createElement(F.a,{xs:4,md:4},p.createElement(v.j,{type:k.ELButtonType.buttonWithIconRight,css:"a1 fr",id:"",text:A.h.yourOrders,onClick:function(){P.a.hub.send(JSON.stringify({id:"test",url:"test"}),k.ERequestType.getOrdersList,void 0),j.a.route({url:"/apps/orderproducts",title:A.h.yourOrders})}}))),p.createElement(R.a,null,p.createElement(F.a,{md:4,xs:"auto"},p.createElement(v.l,{type:k.EControlType.radio,checked:this.state.savedAddress,onChange:this.onChange,name:"saveAddress",id:"savedAddress",label:A.h.savedAddress,title:""})),p.createElement(F.a,{md:2},p.createElement(v.l,{type:k.EControlType.radio,checked:this.state.newAddress,onChange:this.onChange,name:"newAddress",id:"newAddress",label:A.h.newAddress,title:""}))),this.state.savedAddress?p.createElement(p.Fragment,null,p.createElement(R.a,null,p.createElement(F.a,{md:12},p.createElement(v.l,{type:k.EControlType.dropdown,value:"1",onChange:this.onChange,name:"dealer",id:"",title:A.h.dealerName,options:this.getStoredDeliveryAddreses()})))):p.createElement(p.Fragment,null),this.state.newAddress?p.createElement(p.Fragment,null,p.createElement(fe.a,{source:this.address,addressAdditionalFields:!0,onChange:this.onChange,preview:!1,prefix:"+"})):p.createElement(p.Fragment,null),p.createElement(F.a,{xs:12,md:12},p.createElement(v.j,{type:k.ELButtonType.buttonWithIconRight,css:"a1 fr",id:"",text:A.h.next,onClick:function(){T.d.validateFormular(void 0,!0,t.containerId,e.valop)&&(e.state.savedAddress?(e.orderProductsModel.address.additional="",e.orderProductsModel.address.city=void 0===e.user?"":e.user.voCity,e.orderProductsModel.address.house_number="",e.orderProductsModel.address.name=void 0===e.user?"":e.user.voName,e.orderProductsModel.address.street=void 0===e.user?"":e.user.voStreet,e.orderProductsModel.address.zip=void 0===e.user?"":e.user.voZIP,N.a.addOrderProducts(e.orderProductsModel)):(e.orderProductsModel.address=e.address,N.a.addOrderProducts(e.orderProductsModel)),j.a.route({url:"/apps/orderproducts/selectdeliveryaddress/orderOverview",title:A.h.orderOverviewTitle}))}})))))}},{key:"getStoredDeliveryAddreses",value:function(){var e=new Array,t=void 0===this.user?"":this.user.voName,n=void 0===this.user?"":this.user.voStreet,a=void 0===this.user?"":this.user.voZIP,r=void 0===this.user?"":this.user.voCity;return e.push({key:1,text:t+", "+n+", "+a+" "+r}),e}},{key:"renderProgress",value:function(){var e=p.createElement(h.h,{progress:this.state.progress,states:[A.i.selectProducts,A.i.deliveryAddress,A.i.overviewOrder]});return P.a.easyApp.head&&(P.a.easyApp.head.setTitle(A.h.yourOrder),P.a.easyApp.head.appendSub(e)),p.createElement(p.Fragment,null)}},{key:"onChange",value:function(e){"newAddress"===e.id?this.setState({newAddress:!0,savedAddress:!1}):"savedAddress"===e.id?this.setState({newAddress:!1,savedAddress:!0}):(P.a.setValueByPath(this.address,e.id,e.value),this.setState({changed:!0}))}}]),t}(p.Component);Ie.containerId="deliveryAddress";var je=Ie,Ne=function(e){function t(e){var n;Object(r.a)(this,t),(n=Object(s.a)(this,Object(o.a)(t).call(this,e))).dataTable1=[],n.orderProductsModel={products:[],address:new k.Address},n.processPopupStateCustom=f.a.custom,n.processPopupStateWait=f.a.pleaseWait,n.user=void 0,n.state={changed:!1,progress:O.p.orderOverview,table1:!0,popup:!1,processingDone:!1},n.user=N.a.getUser();var a=sessionStorage.getItem(x.j.keyOrdersProducts);return null!==a&&(n.orderProductsModel=JSON.parse(a)),n.socketCallback=n.socketCallback.bind(Object(l.a)(Object(l.a)(n))),n.calculateAmount=n.calculateAmount.bind(Object(l.a)(Object(l.a)(n))),n.calculatePriceTotal=n.calculatePriceTotal.bind(Object(l.a)(Object(l.a)(n))),n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,n={page:1,count:P.a.getConfiguration().pageSize,type:$.a.local},a=[{label:A.h.productGroup,binding:"ProductGroup",size:3,sortable:!0},{label:A.h.picture,binding:"Picture",size:1,sortable:!0},{label:A.h.surname,binding:"Name",size:2,sortable:!0},{label:A.h.availability,binding:"ProductAvailability",size:2,sortable:!0},{label:A.h.priceInEuro,binding:"PriceString",size:2,sortable:!0},{label:A.h.amount,binding:"Amount",size:2,sortable:!0}],r=p.createElement(p.Fragment,null,p.createElement(v.j,{type:k.ELButtonType.linkSimple,text:A.h.back,css:"action3 fr",onClick:function(){j.a.route({url:"/apps/orderproducts/selectdeliveryaddress",title:A.h.selectDeliveryAddress})}})),i={title:A.h.yourOrder,transparent:!1,style:"",styleContainer:"block-orderProducts",collapsible:!1,collapsed:!1,action:r},s=p.createElement(h.h,{progress:this.state.progress,states:[A.i.selectProducts,A.i.deliveryAddress,A.i.overviewOrder]});P.a.easyApp.head&&(P.a.easyApp.head.setTitle(A.k.cancellation.toUpperCase()),P.a.easyApp.head.appendSub(s));p.Fragment;return p.createElement("div",{id:t.containerId},p.createElement(v.f,{style:"   "},this.renderProgress()),p.createElement(M.a,{config:i},p.createElement(B.a,null,p.createElement("div",{className:"spacer"}),p.createElement(R.a,null,p.createElement(F.a,{xs:4,md:4},p.createElement(v.j,{type:k.ELButtonType.buttonWithIconRight,css:"a1 fr",id:"",text:A.h.orderProducts,onClick:function(){j.a.route({url:"/apps/orderproducts",title:A.h.orderProductsTitle})}})),p.createElement(F.a,{xs:4,md:4},p.createElement(v.j,{type:k.ELButtonType.buttonWithIconRight,css:"a1 fr",id:"",text:A.h.yourOrders,onClick:function(){P.a.hub.send(JSON.stringify({id:"test",url:"test"}),k.ERequestType.getOrdersList,void 0),j.a.route({url:"/apps/orderproducts",title:A.h.yourOrders})}}))),p.createElement(R.a,null,p.createElement(F.a,null,this.state.table1?p.createElement(v.q,{coulmns:a,id:"1",expnaded:!1,pagingProps:n,data:this.orderProductsModel.products}):p.createElement(p.Fragment,null))),p.createElement(R.a,null,p.createElement(F.a,{xs:8,md:8}),p.createElement(F.a,{xs:2,md:2},p.createElement(v.n,{text:A.h.orderText+":  "+this.calculatePriceTotal()})),p.createElement(F.a,{xs:2,md:2},p.createElement(v.n,{text:A.h.amount+":  "+this.calculateAmount()}))),p.createElement(F.a,{xs:12,md:12},p.createElement(v.j,{type:k.ELButtonType.buttonWithIconRight,css:"a1 fr",id:"",text:A.h.next,onClick:function(){e.setState({popup:!0,processingDone:!1}),P.a.hub.send(JSON.stringify(e.orderProductsModel),k.ERequestType.saveOrderPoducts,void 0)}})),p.createElement(R.a,null,p.createElement(F.a,{md:4},p.createElement(v.n,{text:A.i.deliveryAddress}))),p.createElement(R.a,null,p.createElement(F.a,{md:4},p.createElement(v.n,{text:this.orderProductsModel.address.name}))),p.createElement(R.a,null,p.createElement(F.a,{md:4},p.createElement(v.n,{text:(""===this.orderProductsModel.address.house_number?"N/A":this.orderProductsModel.address.house_number)+", "+this.orderProductsModel.address.zip+", "+this.orderProductsModel.address.city})))),this.state.popup?this.renderPopup():p.createElement(p.Fragment,null)))}},{key:"socketCallback",value:function(e){1===e.data.status&&this.setState({processingDone:!0})}},{key:"renderProgress",value:function(){var e=p.createElement(h.h,{progress:this.state.progress,states:[A.i.selectProducts,A.i.deliveryAddress,A.i.overviewOrder]});return P.a.easyApp.head&&(P.a.easyApp.head.setTitle(A.h.yourOrder),P.a.easyApp.head.appendSub(e)),p.createElement(p.Fragment,null)}},{key:"renderPopup",value:function(){var e=p.createElement(p.Fragment,null,p.createElement(v.j,{type:k.ELButtonType.linkSimple,text:A.h.backToOrderProducts,css:"action3 fr",onClick:function(){j.a.route({url:"/apps/orderproducts",title:A.h.orderProductsTitle})}})),t=p.createElement(p.Fragment,null,p.createElement(v.j,{type:k.ELButtonType.linkSimple,text:A.h.monitorYourOrders,css:"action3 fr",onClick:function(){P.a.hub.send(JSON.stringify({id:"test",url:"test"}),k.ERequestType.getOrdersList,void 0),j.a.route({url:"/apps/orderproducts",title:A.h.yourOrders})}}));return p.createElement(b.g,{type:this.state.processingDone?this.processPopupStateCustom:this.processPopupStateWait,visible:this.state.popup,closable:!1,id:"wait",title:"",height:400,width:600,onDismiss:this.onDismissPopup},p.createElement(b.h,null,p.createElement(M.a,{config:{title:"",transparent:!1,style:"",styleContainer:"block-innerMiddle",collapsible:!1,collapsed:!1}},p.createElement(B.a,null,p.createElement(R.a,null,p.createElement(F.a,null,p.createElement("h3",null,A.h.thankYouFor," BESTELLUNG."),e)),p.createElement(R.a,null,p.createElement(F.a,null,t)))),p.createElement(p.Fragment,null)),p.createElement(p.Fragment,null))}},{key:"onDismissPopup",value:function(){this.setState({popup:!1})}},{key:"calculateAmount",value:function(){var e=0;return this.orderProductsModel.products.forEach(function(t){e+=Number(t.Amount)}),e.toString()}},{key:"calculatePriceTotal",value:function(){var e=0;return this.orderProductsModel.products.forEach(function(t){var n=t.PriceString.substring(0,3);e+=Number(t.Amount)*Number(n)}),e.toFixed(2).toString()+" \u20ac"}}]),t}(p.Component);Ne.containerId="orderOverview";var Me=Ne;(function(e){function t(e){var n;return Object(r.a)(this,t),n=Object(s.a)(this,Object(o.a)(t).call(this,e)),P.a.easyApp.setTitle("Spice"),n.state={},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e={title:A.h.mnpStatus,transparent:!1,styleContainer:""};return p.createElement("div",{id:t.containerId},p.createElement(M.a,{config:e},p.createElement(B.a,{className:"container-action"},p.createElement(R.a,null,p.createElement(F.a,{xs:"12",md:"12"},p.createElement("iframe",{src:"https://apps.unitymedia.de/SpiceExternal",frameBorder:"0",style:{width:"100%",height:"1800px",border:0}}))))))}}]),t}(p.Component)).containerId="SpiceScreen",(function(e){function t(e){var n;return Object(r.a)(this,t),n=Object(s.a)(this,Object(o.a)(t).call(this,e)),P.a.easyApp.setTitle("HAportal"),n.state={},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e={title:A.h.mnpStatus,transparent:!1,styleContainer:""};return p.createElement("div",{id:t.containerId},p.createElement(M.a,{config:e},p.createElement(B.a,{className:"container-action"},p.createElement(R.a,null,p.createElement(F.a,{xs:"12",md:"12"},p.createElement("iframe",{"frame-ancestors":"self",src:"https://secure.kabeldeutschland.de/auth/realms/bsso/protocol/openid-connect/auth?response_type=code&redirect_uri=https%3A%2F%2Fsecure.kabeldeutschland.de%2Fhandel%2Foidc%2Fauthenticate&client_id=handel&state=e7fec05684cfd32e7eb72bfc93862b9d&scope=openid+profile",frameBorder:"0",style:{width:"100%",height:"1800px",border:0}}))))))}}]),t}(p.Component)).containerId="HAportalScreen",n.d(t,"t",function(){return W}),n.d(t,"v",function(){return U}),n.d(t,"q",function(){return q}),n.d(t,"p",function(){return J}),n.d(t,"m",function(){return Z.a}),n.d(t,"e",function(){return te}),n.d(t,"n",function(){return ae}),n.d(t,"d",function(){return Q}),n.d(t,"j",function(){return ie}),n.d(t,"c",function(){return ce}),n.d(t,"k",function(){return de}),n.d(t,"l",function(){return he}),n.d(t,"g",function(){return ge}),n.d(t,"h",function(){return Ee}),n.d(t,"a",function(){return _e}),n.d(t,"f",function(){return Oe.b}),n.d(t,"o",function(){return Se.b}),n.d(t,"b",function(){return we.a}),n.d(t,"u",function(){return Pe}),n.d(t,"s",function(){return Ae}),n.d(t,"i",function(){return je}),n.d(t,"r",function(){return Me})},3:function(e,t,n){"use strict";var a=n(18),r=n(10),i=n(11),s=n(14),o=n(12),c=n(15),l=n(0),u=function(e){function t(e){return Object(r.a)(this,t),Object(s.a)(this,Object(o.a)(t).call(this,e))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){l.Fragment;var e="block-info";return this.props.style&&(e+=" "+this.props.style),l.createElement("div",{className:e},l.createElement("div",{className:"title text-h2"},this.props.title),l.createElement("div",{className:"content text-body"},this.props.children),l.createElement("div",{className:"action"},this.props.button))}}]),t}(l.Component),d=n(45),p=n(63),m=n(61),h=n(65),v=n(42),f=n(23),b=n(19),y=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(o.a)(t).call(this,e))).state={visible:n.props.visible,changed:!1},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({visible:e.visible})}},{key:"render",value:function(){l.Fragment;var e={title:this.props.title,transparent:!1,styleContainer:"error"};return l.createElement(a.a,{config:e},l.createElement(v.a,null,l.createElement(f.a,null,l.createElement(b.a,{xs:12,md:12},l.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.message}})))),l.createElement(p.a,null))}}]),t}(l.Component),g=n(85),E=function(e){function t(e){return Object(r.a)(this,t),Object(s.a)(this,Object(o.a)(t).call(this,e))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.createElement("div",{className:"footer"},l.createElement("div",{className:"wrapper"},l.createElement("div",{className:"logo"},l.createElement("img",{src:"/images/easy.png"}))))}}]),t}(l.Component),k=n(7),C=n(8),_=n(25),O=n(2),S=n(17),w=n(27),x=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(o.a)(t).call(this,e))).state={popupVisible:!1},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return l.createElement(l.Fragment,null,l.createElement("div",{className:"teaserTop"},l.createElement("div",{className:"tac inner",onClick:function(){e.setState({popupVisible:!0})}},"Gesenkte MwSt.? Geben wir weiter! Hier erf\xe4hrst du mehr.")),this.state.popupVisible&&this.renderPopup())}},{key:"renderPopup",value:function(){var e=this,t=l.createElement(v.a,{className:"full tal"},l.createElement(f.a,null,l.createElement(b.a,{xs:12,md:12,className:"npr"},l.createElement("b",null,"Die dargestellten Preise enthalten noch die MwSt. von 19 %. F\xfcr vom 01.07. bis 31.12.2020 erbrachte Leistungen findest Du auf Deiner Rechnung eine entsprechende Senkung der MwSt. auf 16 % f\xfcr Leistungen, die der regul\xe4ren MwSt. unterliegen. Gilt f\xfcr alle Telekommunikationstarife mit Mindestlaufzeit und Mietentgelte f\xfcr Ger\xe4te. "),l.createElement("br",null),l.createElement("br",null),l.createElement("span",{className:"small"},"F\xfcr Prepaid gilt: F\xfcr Aufladungen, die in der Zeit vom 1.7. bis zum 31.12.2020 vorgenommen werden, schreiben wir je 2,52 % des Auflade-Betrags dem Guthaben zus\xe4tzlich gut. Beispiel: Bei einer Aufladung von 15 Euro schreiben wir dem Kundenkonto 15,38 Euro gut. Gilt nicht f\xfcr CallNow Transfer. Die Gutschrift des zus\xe4tzlich gew\xe4hrten Guthabens bei den Auflade-Wegen Voucher, Bankautomat, Bezahl-Terminal und Bankeinzug/Komfort-Aufladung erfolgt zeitgleich mit der Aufladung. Bei anderen Auflade-Wegen (Paypal, Kreditkarte, Sofort\xfcberweisung und Bank\xfcberweisung) erfolgt die Gutschrift innerhalb von 24 Stunden nach Geldeingang. Die Gutschrift des zus\xe4tzlich gew\xe4hrten Guthabens kann bei otelo bis zu 72 Stunden dauern. ")))),n={props:{id:"dynamicPopup",title:"",visible:!0,closable:!1,style:"tal",type:S.a.custom,height:400,width:700},content:t,action:l.createElement(l.Fragment,null,l.createElement(d.a,{type:O.ELButtonType.buttonWithIconRight,css:"a1 fr",id:"",text:"OK",onClick:function(){e.setState({popupVisible:!1})}}))};return w.a.GetPopup(n.props,n.content,n.action)}}]),t}(l.Component),P=function(e){function t(e){var n;Object(r.a)(this,t),n=Object(s.a)(this,Object(o.a)(t).call(this,e));var a=C.a.getConfiguration();return C.a.easyApp.head=Object(k.a)(Object(k.a)(n)),n.state={changed:!1,title:a.appTitle},n.appendSub=n.appendSub.bind(Object(k.a)(Object(k.a)(n))),n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"fix",value:function(e){this.setState({fixed:e})}},{key:"appendSub",value:function(e){this.setState({subContent:e,changed:!0})}},{key:"render",value:function(){var e="header";return this.state.fixed&&(e+=" fix"),this.state.subContent&&(e+=" hassub"),l.createElement("div",{className:e,id:"header"},l.createElement(x,null),l.createElement("div",{className:"wrapper"},l.createElement("div",{className:"logo"},l.createElement("a",{href:_.a.getAppUrl()},l.createElement("img",{src:"/images/vfeasy.png"}))),l.createElement("div",{className:"title"},this.state.title),this.state.subContent?l.createElement("div",{className:"sub"},this.state.subContent):null))}},{key:"setTitle",value:function(e){this.setState({title:e})}}]),t}(l.Component),D=n(168),T=function(e){function t(e){return Object(r.a)(this,t),Object(s.a)(this,Object(o.a)(t).call(this,e))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.createElement(v.a,{className:"c2",id:"container-main"},this.props.title?l.createElement(f.a,null,l.createElement(b.a,{xs:12,md:12},l.createElement("h1",null,this.props.title))):null,l.createElement(f.a,null,l.createElement(b.a,{xs:8,md:8},this.props.children[0]),l.createElement(b.a,{xs:4,md:4},this.props.children[1])))}}]),t}(l.Component),A=(l.Component,function(e){function t(e){return Object(r.a)(this,t),Object(s.a)(this,Object(o.a)(t).call(this,e))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.createElement(l.Fragment,null,this.props.children)}}]),t}(l.Component)),I=function(e){function t(e){return Object(r.a)(this,t),Object(s.a)(this,Object(o.a)(t).call(this,e))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.createElement(l.Fragment,null,this.props.children)}},{key:"render1",value:function(){return l.createElement("div",{className:"inner2-right col col-3"},this.props.children)}}]),t}(l.Component),j=(l.Component,n(54)),N=n(57),M=(l.Component,n(6)),B=n(1),R=function(e){function t(e){var n;Object(r.a)(this,t),(n=Object(s.a)(this,Object(o.a)(t).call(this,e))).value="",n.hh="",n.min="",n.valueControl={id:"",name:"",type:M.d.undefined};var a=n.props.value?n.props.value.split(":"):[];return n.hh=n.props.value?a[0]:"",n.min=n.props.value?a[1]:"",n.changeValue=n.changeValue.bind(Object(k.a)(Object(k.a)(n))),n.state={changed:!1},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.value?e.value.split(":"):[];this.hh=e.value?t[0]:"",this.min=e.value?t[1]:"",this.setState({changed:!0})}},{key:"render",value:function(){return this.renderControl(this.value)}},{key:"renderControl",value:function(e){var t=this;return l.createElement(v.a,{className:"oe-control"},l.createElement(l.Fragment,null,l.createElement(f.a,null,l.createElement(b.a,{xs:6,md:6},l.createElement(m.a,{title:B.h.telCallback,type:M.d.dropdown,value:this.hh,onChange:function(e){t.hh=e.value,t.changeValue()},name:"delivery.callbackTimeSplitted.hour",isChild:!0,id:"delivery-callback-h",options:C.a.getHours()})),l.createElement(b.a,{xs:6,md:6},l.createElement(m.a,{type:M.d.dropdown,value:this.min,onChange:function(e){t.min=e.value,t.changeValue()},name:"delivery.callbackTimeSplitted.minutes",id:"delivery-callback-m",isChild:!0,title:"",options:C.a.getMinutes()})))))}},{key:"getValue",value:function(){return{type:M.d.time,name:this.props.id?this.props.id:"",id:this.props.id?this.props.id:"",value:this.hh+":"+this.min}}},{key:"changeValue",value:function(){var e=this.getValue();this.props.onChange(e)}}]),t}(l.Component),F=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(o.a)(t).call(this,e))).timer=void 0,n.state={count:n.props.count},n.startTimer(),n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"tick",value:function(){if(this.state.count<=0)this.props.completed&&(this.stopTimer(),this.props.completed&&this.props.completed());else{this.props.tickCallback&&this.props.tickCallback(),this.props.step&&this.state.count%this.props.step==0&&this.props.stepCallback&&this.props.stepCallback(this.state.count);var e=this.state.count-1;this.props.autoRestart&&this.state.count<=1&&(e=this.props.count),this.setState({count:e})}}},{key:"startTimer",value:function(){clearInterval(this.timer),this.timer=setInterval(this.tick.bind(this),1500)}},{key:"stopTimer",value:function(){clearInterval(this.timer)}},{key:"render",value:function(){return this.props.showUI?l.createElement("div",{className:"timer"},l.createElement("div",{className:"bg"}),l.createElement("div",{className:"inner"},this.state.count)):l.createElement("div",null)}}]),t}(l.Component),K=n(4),L=n(24),W=n(13),V=n(172),U=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(o.a)(t).call(this,e))).appSettings=void 0,n.session=void 0,n.interval=void 0,n._onExpand=n._onExpand.bind(Object(k.a)(Object(k.a)(n))),n._logout=n._logout.bind(Object(k.a)(Object(k.a)(n))),n._onExpandUser=n._onExpandUser.bind(Object(k.a)(Object(k.a)(n))),n._onSwitchTheme=n._onSwitchTheme.bind(Object(k.a)(Object(k.a)(n))),n.onLogout=n.onLogout.bind(Object(k.a)(Object(k.a)(n))),n.trackSession=n.trackSession.bind(Object(k.a)(Object(k.a)(n))),n.appSettings=W.a.getAppSettings(),C.a.trackSession=n.trackSession,n.interval=setInterval(function(){n.session.min--,n.session.min<=0&&(clearInterval(n.interval),C.a.easyApp.expiredSessionVisibility(!0)),n.setState({changed:!0})},6e4),n.session={date:new Date,lifetime:60,min:60},n.state={expanded:n.appSettings.expanded,userOpen:!1,changed:!1},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=W.a.getUser(),n=C.a.getConfiguration(),a={};e&&(a={backgroundImage:"url("+n.apiUrl+e.pictureUrl+")"});var r="user-container";this.state.userOpen&&(r+=" open");var i="sidepannel";this.state.expanded&&(i+=" open");var s=localStorage.getItem(K.j.keyTheme);return l.createElement("div",{id:t.containerId},l.createElement("div",{className:i},l.createElement("div",{className:"tool-container"},l.createElement("div",{className:"action open"},l.createElement("div",{className:"icon arrow-left",onClick:this._onExpand})),l.createElement("div",{className:"tool tool-name"},l.createElement("div",{className:"personal"},e?e.firstname+" "+e.surname:""),l.createElement("div",{className:"company"},e?e.voName:"")),l.createElement("div",{className:"tool "},l.createElement(d.a,{cssText:"np",text:B.h.logout,type:M.h.buttonWithIconRight,onClick:this.onLogout})),l.createElement("div",{className:"spacer"}),l.createElement(V.a,{parent:this.props.parent})),l.createElement("div",{className:"tool "+(this.state.expanded?"dn":"open")},l.createElement(d.a,{cssText:"np",text:B.h.logout,type:M.h.buttonWithIconRight,onClick:this.onLogout})),l.createElement("div",{className:"inner"}),l.createElement("div",{className:"navi-container"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col-md-6"},l.createElement(d.a,{type:M.h.linkWithIconLeft,icon:"pepper",text:"Spice",onClick:function(){window.open("https://apps.unitymedia.de/SpiceExternal")}})),l.createElement("div",{className:"col-md-6"},l.createElement(d.a,{type:M.h.linkWithIconLeft,icon:"iconHA",text:"HA portal",onClick:function(){window.open("https://secure.kabeldeutschland.de/auth/realms/bsso/protocol/openid-connect/auth?response_type=code&redirect_uri=https%3A%2F%2Fsecure.kabeldeutschland.de%2Fhandel%2Foidc%2Fauthenticate&client_id=handel&state=e7fec05684cfd32e7eb72bfc93862b9d&scope=openid+profile")}}))),l.createElement("div",{className:"sep"}),C.a.isDelaer(!1)?l.createElement(l.Fragment,null,l.createElement("div",{className:"row"},l.createElement("div",{className:"col-md-6"},l.createElement(d.a,{type:M.h.linkWithIconLeft,icon:"doc",text:B.h.drafts,onClick:function(){L.a.route({title:B.h.drafts,url:"/am/drafts"})}})),l.createElement("div",{className:"col-md-6"},l.createElement(d.a,{type:M.h.linkWithIconLeft,icon:"doc",text:B.h.documentScanner,onClick:function(){L.a.route({title:B.h.documentScanner,url:"/am/idscanner"})}}))),l.createElement("div",{className:"row"},l.createElement("div",{className:"col-md-6"},l.createElement(d.a,{type:M.h.linkWithIconLeft,icon:"date",text:B.h.contractManager,onClick:function(){L.a.route({title:B.h.contractManager,url:"/am/contractmanager"})}})),C.a.inAnyRole([K.i.E3_User,K.i.XTND_ShopManager])?l.createElement("div",{className:"col-md-6"},l.createElement(d.a,{type:M.h.linkWithIconLeft,icon:"doc",text:B.h.mnpStatusLinkText,onClick:function(){L.a.route({title:B.h.contractManager,url:"/am/mnp/status"})}})):l.createElement(l.Fragment,null),C.a.inAnyRole([K.i.E3_User,K.i.XTND_ShopManager])?l.createElement("div",{className:"col-md-6"},l.createElement(d.a,{type:M.h.linkWithIconLeft,icon:"doc",text:B.h.mnpPortingStatusLinkText,onClick:function(){L.a.route({title:B.h.contractManager,url:"/am/mnp/portingstatus"})}})):l.createElement(l.Fragment,null),C.a.inAnyRole([K.i.XTND_Produktbestellung,K.i.XTND_ShopManager])?l.createElement("div",{className:"col-md-6"},l.createElement(d.a,{type:M.h.linkWithIconLeft,icon:"doc",text:B.h.orderProductLink,onClick:function(){L.a.route({title:B.h.contractManager,url:"/apps/orderproducts"})}})):l.createElement(l.Fragment,null),e&&1==e.accountLevel&&C.a.inAnyRole([K.i.Stornofreigabe,K.i.XTND_ShopManager])?l.createElement("div",{className:"col-md-6"},l.createElement(d.a,{type:M.h.linkWithIconLeft,icon:"doc",text:B.h.level1Cancellation,onClick:function(){L.a.route({title:B.h.cancellations,url:"/am/cancellation"})}})):l.createElement(l.Fragment,null)),l.createElement("div",{className:"row"},C.a.inAnyRole([K.i.XTND_Nutzerverwaltung,K.i.XTND_ShopManager])?l.createElement("div",{className:"col-md-6"},l.createElement(d.a,{type:M.h.linkWithIconLeft,icon:"people",text:B.h.administration,onClick:function(){L.a.route({title:B.h.administration,url:"/am/administration"})}}),"  "):null,l.createElement("div",{className:"col-md-6"},l.createElement(d.a,{type:M.h.linkWithIconLeft,icon:"doc",text:B.h.imeiMenuItem,onClick:function(){L.a.route({title:B.h.imeiMenuItem,url:"/am/imei"})}}),"  "))):l.createElement(l.Fragment,null),l.createElement("div",{className:"sep"}),l.createElement("div",{className:"row"},l.createElement("div",{className:"col-md-12"},l.createElement(d.a,{type:M.h.linkPanel,icon:"date",text:"AGB",onClick:function(){window.open("https://www.vodafone.de/agb.html","_blank")}}),l.createElement(d.a,{type:M.h.linkPanel,icon:"people",text:"Datenschutz",onClick:function(){window.open("https://www.vodafone.de/unternehmen/soziale-verantwortung/datenschutz-privatsphaere.html","_blank")}}),l.createElement(d.a,{type:M.h.linkPanel,icon:"orders",text:"Impressum",onClick:function(){window.open("https://www.vodafone.de/impressum.html","_blank")}}))))),l.createElement("div",{className:r},l.createElement("div",{className:"close"},l.createElement("div",{className:"icon close",onClick:this._onExpandUser})),l.createElement("div",{className:"inside"},l.createElement("div",{className:"user",style:a,onClick:this._onExpandUser}),l.createElement("div",{className:"lifetime"},"min.",l.createElement("br",null),l.createElement("span",{className:"min"},this.session.min>10?this.session.min:"0"+this.session.min)),l.createElement("div",{className:"tools"},l.createElement(d.a,{type:M.h.linkWithIconLeft,icon:"profile",text:"Profil bearbeiten",onClick:this._onProfileEditClick}),l.createElement(d.a,{type:M.h.linkWithIconLeft,icon:"lock",text:"Passwort \xe4ndern",onClick:this._onPasswordEditClick}),s===K.k.light?l.createElement(d.a,{type:M.h.linkWithIconLeft,icon:"moon",text:"Dunkles Farbschema",onClick:this._onSwitchTheme}):l.createElement(d.a,{type:M.h.linkWithIconLeft,icon:"moon",text:"Standard Farbschema",onClick:this._onSwitchTheme}))),l.createElement(p.a,null)))}},{key:"trackSession",value:function(e){e.lifetime>0&&(this.session.lifetime=this.session.min=e.lifetime,this.session.date=new Date,this.setState({changed:!0}))}},{key:"onLogout",value:function(){C.a.easyApp.visibilityLogout(!0)}},{key:"_onProfileEditClick",value:function(){L.a.route({url:"/user/profile",title:B.h.editProfile})}},{key:"_onPasswordEditClick",value:function(){L.a.route({url:"/user/password",title:B.h.changePassword})}},{key:"_onSwitchTheme",value:function(){var e=localStorage.getItem(K.j.keyTheme);e=e===K.k.light?K.k.dark:K.k.light,localStorage.setItem(K.j.keyTheme,e),window.location.href="/"}},{key:"_onExpand",value:function(){this.appSettings.expanded=!this.state.expanded,W.a.set(K.j.keyApp,this.appSettings),C.a.easyApp.expand(this.appSettings.expanded),this.setState({expanded:this.appSettings.expanded})}},{key:"_onExpandUser",value:function(){C.a.easyApp.checkDefCon()&&this.setState({userOpen:!this.state.userOpen})}},{key:"_logout",value:function(){_.a.logout()}}]),t}(l.Component);U.containerId="userPanel";var q=U;n.d(t,"a",function(){return u}),n.d(t,"j",function(){return d.a}),n.d(t,"k",function(){return p.a}),n.d(t,"l",function(){return m.a}),n.d(t,"m",function(){return h.c}),n.d(t,"b",function(){return y}),n.d(t,"c",function(){return g.b}),n.d(t,"d",function(){return E}),n.d(t,"e",function(){return P}),n.d(t,"f",function(){return D.a}),n.d(t,"g",function(){return T}),n.d(t,"h",function(){return A}),n.d(t,"i",function(){return I}),n.d(t,"n",function(){return j.a}),n.d(t,"q",function(){return N.b}),n.d(t,"o",function(){return R}),n.d(t,"p",function(){return F}),n.d(t,"r",function(){return q})},303:function(e,t,n){e.exports=n.p+"static/media/info-circle.75feda7c.svg"},304:function(e,t,n){e.exports=n.p+"static/media/idcard.ba0736a1.jpg"},31:function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"a",function(){return u});var a=n(14),r=n(12),i=n(15),s=n(10),o=n(11),c=n(9),l=function(){function e(t){Object(s.a)(this,e),this.id="",this.prio=0,this.children=[],this.id=t||"root",this.children=[]}return Object(o.a)(e,[{key:"getChildIndex",value:function(e){for(var t=0;t<this.children.length;t++)if(this.children[t].id==e)return t;return-1}},{key:"reset",value:function(){this.children=[]}},{key:"resetChildren",value:function(){this.children.map(function(e){e.reset()}),this.children=[]}},{key:"find",value:function(e){return c.from(this.children).firstOrDefault(function(t){return t.id==e})}},{key:"add",value:function(t){var n=new e(t);return this.children.push(n),n}},{key:"hasChild",value:function(e){return!!this.children&&this.getChildrenIds().indexOf(e)>=0}},{key:"addChildren",value:function(e){var t=this;e.map(function(e){t.children.push(e)})}},{key:"remove",value:function(e){for(var t=0;t<this.children.length;t++)if(this.children[t].id==e){0==t?this.children.shift():t==this.children.length-1?this.children.pop():this.children.splice(t,1);break}}},{key:"addOrRemove",value:function(e){this.find(e)?this.remove(e):this.add(e)}},{key:"findPath",value:function(e){for(var t=this,n=0;n<e.length;n++)if((t=t.find(e[n]))&&n==e.length-1)return t}},{key:"getChildrenIds",value:function(){return c.from(this.children).select(function(e){return e.id}).toArray()}},{key:"getChildrenIdSub",value:function(){var e=[];return this.children.map(function(t){e=e.concat(t.getChildrenIds())}),e}},{key:"toArray",value:function(e,t){var n=[];if(t){var a=c.from(this.children).where(function(e){return e.id==t}).firstOrDefault();a&&this.toArrayInner(n,e,a.id,a.children)}else this.toArrayInner(n,e,"",void 0);return n}},{key:"toArrayInner",value:function(e,t,n,a){var r=this;(a||this.children).map(function(a){var i=t&&n?n+"/"+a.id:a.id;e.push(i),a.children&&a.children.length>0&&r.toArrayInner(e,t,i,a.children)})}}],[{key:"createInstance",value:function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=new e(t);return r.children=n,r.prio=a||0,r}},{key:"ensure",value:function(t){var n=Object.assign(new e(t.id),t);return n.children=[],t.children.map(function(t){n.children.push(e.ensure(t))}),n}},{key:"findChild",value:function(t,n){var a=t.getChildrenIds().indexOf(n);if(a>=0)return t.children[a];if(t.children&&0!=t.children.length)for(var r=0;r<t.children.length;r++){var i=e.findChild(t.children[r],n);if(i)return i}else;}},{key:"addRemovePath",value:function(t,n){t.find||(t=e.ensure(t));var a=t.find(n[0]);n.length>1?(n.shift(),e.addRemovePath(a,n)):t.addOrRemove(n[0])}},{key:"addRemoveTo",value:function(t,n,a){n.find||(n=e.ensure(n));var r=n.find(t);r&&e.addRemovePath(r,a)}}]),e}(),u=function(e){function t(e,n){var i;return Object(s.a)(this,t),(i=Object(a.a)(this,Object(r.a)(t).call(this,e))).cat="",i.brand="",i.idx=-1,i.familyId=-1,i.children=[],i.cat=n,i}return Object(i.a)(t,e),Object(o.a)(t,[{key:"getCats",value:function(){return c.from(this.children).select(function(e){return e.cat}).distinct().toArray()}},{key:"addChildren",value:function(e){var t=this;this.children||(this.children=[]),e.map(function(e){t.children.push(e)})}},{key:"find",value:function(e){return c.from(this.children).firstOrDefault(function(t){return t.id==e})}}],[{key:"FromTree",value:function(e){return e}}]),t}(l)},311:function(e,t,n){e.exports=n.p+"static/media/trafficLight_noVVL.b6f72ecf.svg"},312:function(e,t,n){e.exports=n.p+"static/media/trafficLight_VVL.76a4ca2f.svg"},313:function(e,t,n){e.exports=n.p+"static/media/trafficLight_VVLTW.cd23e5cf.svg"},314:function(e,t,n){e.exports=n.p+"static/media/trafficLight_vVVL.13aef20a.svg"},319:function(e,t,n){e.exports=n(647)},33:function(e,t,n){"use strict";var a,r=n(10),i=n(11),s=n(14),o=n(12),c=n(15),l=n(7),u=n(0),d=n(42),p=n(23),m=n(19),h=n(18),v=n(63),f=n(39),b=n(5),y=n(6),g=n(103),E=n(41),k=n(4),C=n(8),_=n(1),O=n(24),S=n(13),w=n(164),x=n(17),P=n(3),D=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(o.a)(t).call(this,e))).processPopupState=x.a.custom,n._onDismissProcessPopup=function(){n.setState({areYouSureVisibility:!1})},n.onBack=function(){n.props.parent.dataWrapper.resetUnfinishedActivations(),n.props.progress==b.p.done?n.props.parent.gotoView(b.p.customer):n.props.progress==b.p.customer&&n.props.parent.gotoView(b.p.tariff)},n.onNext=function(){E.d.validateFormular(n.props.parent.dataWrapper,!0,"container-main")&&g.a.GetInstance().validate(n.props.parent.dataWrapper,function(e,t){if(e.hasUnity()){var a=e.getActivationByBrand(k.b.unity);n.props.parent.syncOrder(a,function(e){e.status==f.EApiResponseStatus.ok&&(S.a.updateAvailability(k.b.unity,e.data.avl),n.onNextInternal())})}else n.onNextInternal()})},n.onNextInternal=function(){n.props.onNext?n.props.onNext():n.props.progress==b.p.tariff?n.props.parent.dataWrapper.hasOtelo()?n.props.parent.onCreateProcess(y.l.checkMsisdn):n.props.parent.gotoView(b.p.customer):n.props.progress==b.p.customer&&n.props.parent.gotoView(b.p.done)},n._onDismissProcessPopup=n._onDismissProcessPopup.bind(Object(l.a)(Object(l.a)(n))),n.onYesClicked=n.onYesClicked.bind(Object(l.a)(Object(l.a)(n))),n.state={imei:"",areYouSureVisibility:!1},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return u.createElement(u.Fragment,null,u.createElement(x.b,{type:this.processPopupState,visible:this.state.areYouSureVisibility,closable:!0,id:"areYouSure",title:"Warnung",height:200,onDismiss:this._onDismissProcessPopup},u.createElement(w.a,null,u.createElement("h5",null,"Sie gelangen jetzt zur\xfcck zum Dashboard. Dadurch werden die von Ihnen eingegebenen Daten gel\xf6scht."),u.createElement("div",{className:"spacer clear"}),u.createElement("div",{className:"spacer clear"}),u.createElement("div",{className:"spacer clear"}),u.createElement(P.j,{text:"Ja",onClick:this.onYesClicked,type:y.h.buttonWithIconRight}),u.createElement(P.j,{text:"Nein",onClick:this._onDismissProcessPopup,type:y.h.buttonWithIconRight}),u.createElement(u.Fragment,null)),u.createElement(u.Fragment,null)),u.createElement(h.a,{config:{title:"",transparent:!0}},u.createElement(d.a,{className:"container-action"},this.renderActions()),u.createElement(v.a,null)))}},{key:"onYesClicked",value:function(){S.a.removeOrder(this.props.parent.data.id,function(){O.a.route({url:"/",title:C.a.getConfiguration().appTitle})})}},{key:"renderActions",value:function(){return this.props.progress==b.p.customer?this.renderCustomerActions():this.props.progress==b.p.done?this.renderCustomerPreview():this.props.progress==b.p.tariff?this.renderCustomerTariff():u.createElement(u.Fragment,null)}},{key:"renderCustomerPreview",value:function(){var e=this;return u.createElement(p.a,null,u.createElement(m.a,{xs:4,md:4},u.createElement(P.j,{text:_.h.back,onClick:this.onBack,type:y.h.linkSimple,css:"action3",icon:"chevron"})),u.createElement(m.a,{xs:8,md:8},u.createElement(P.j,{text:_.h.toDashboard,css:"fr",onClick:function(){e.setState({areYouSureVisibility:!0})},type:y.h.buttonWithIconRight,icon:""})))}},{key:"renderCustomerActions",value:function(){return u.createElement(p.a,null,u.createElement(m.a,{xs:4,md:4},u.createElement(P.j,{text:"ZUR\xdcCK",onClick:this.onBack,type:y.h.linkSimple,css:"action3",icon:"chevron"})),u.createElement(m.a,{xs:8,md:8,className:"toright"},u.createElement(P.j,{text:"WEITER",onClick:this.onNext,css:"fr",type:y.h.buttonWithIconRight,icon:"arrow-right"})))}},{key:"renderCustomerTariff",value:function(){var e=this;return u.createElement(p.a,null,u.createElement(m.a,{xs:4,md:4}),u.createElement(m.a,{xs:8,md:8,className:"toright"},u.createElement(P.j,{text:"WEITER ZU DEN KUNDENDATEN",onClick:function(){e.onNext()},css:"fr",type:y.h.buttonWithIconRight,icon:"arrow-right"})))}}]),t}(u.Component),T=n(9),A=n.n(T),I=n(2),j=n(49),N=n(97),M=n(31),B=n(25),R=n(27),F=n(60),K=n(16),L=n(43);!function(e){e[e[void 0]=0]="undefined",e[e.oneMandatory=1]="oneMandatory"}(a||(a={}));var W=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(o.a)(t).call(this,e))).ids=[],n.onSelect=n.onSelect.bind(Object(l.a)(Object(l.a)(n))),n.ids=T.from(n.props.services).select(function(e){return e.id}).toArray(),n.state={selected:n.props.selected,invalid:!1},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({selected:e.selected})}},{key:"render",value:function(){var e=this;return u.createElement("div",{className:t.containerClass,id:this.props.containerId},u.createElement("div",{className:"subtitle"},this.props.title,this.props.hint?u.createElement("span",{className:"hint"+(this.state.invalid?" error":"")}," ",this.props.hint):null),u.createElement("div",{className:""},this.props.services.map(function(t,n){return u.createElement(L.a,{key:n,id:t.id,text:t.name,tooltip:t.tooltip,tooltipModel:t,idx:n,brandKey:e.props.brand.id,selected:t.id===e.state.selected,styleBrand:!1,cssStyle:e.state.selected===t.id?"selected":"",onClick:e.onSelect})})),u.createElement(P.k,null))}},{key:"validate",value:function(){var e=!0;return this.props.type===a.oneMandatory&&(e=!!this.state.selected),this.setState({invalid:!e}),e}},{key:"onSelect",value:function(e){var t=this,n=T.from(this.props.act.services).where(function(e){return t.ids.indexOf(e)<0}).toArray();n.push(e),this.props.act.services=n,S.a.updateActivation(this.props.act),this.setState({selected:e})}}]),t}(u.Component);W.containerClass="optiongroup";var V,U=W;!function(e){e[e[void 0]=0]="undefined",e[e.options=1]="options"}(V||(V={}));var q=function(e){function t(e){return Object(r.a)(this,t),Object(s.a)(this,Object(o.a)(t).call(this,e))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return u.createElement(u.Fragment,null)}},{key:"renderOptions",value:function(){if(this.props.act.productId.indexOf("kip")>=0){var e=T.from(this.props.brand.services).where(function(e){return e.id.toLowerCase().indexOf("rufnummernneu")>=0}).toArray(),t=T.from(this.props.act.services).where(function(e){return e.indexOf("rufnummernneu")>=0}).firstOrDefault();return u.createElement(U,{containerId:"telNumberPortation",services:e,brand:this.props.brand,act:this.props.act,title:_.h.numberOptions,selected:t,type:a.oneMandatory,hint:" ("+_.h.optionsMandatory+")"})}return u.createElement(u.Fragment,null)}}]),t}(u.Component),z=n(65),G=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(o.a)(t).call(this,e))).act=void 0,n.avSelection=void 0,n.availability=void 0,n.brand=void 0,n.current=void 0,n.checkAvailability=I.ERequestStatus.undefined,n.checkResult=u.createElement(u.Fragment,null),n.selectionOk=!1,n.initSelection=function(e){n.avSelection.init(n.act,e)},n.correctCart=function(){n.act.cart&&(n.act.cart.map(function(e){M.b.addRemovePath(n.props.parent.current.selection,e.path)}),n.check(),n.setState({changed:!0}))},n.handleSelection=function(e){console.log("element clicked",e),M.b.addRemoveTo(e.productId,n.act.selection,e.path);var t=n.act.selection.findPath([e.productId,e.path[0]]);e.mandatory&&t&&(n.avSelection.getMandatory(e.productId).map(function(t){M.b.addRemoveTo(e.productId,n.act.selection,[t])}),n.avSelection.getMandatoryForElement(e.productId,e.id).map(function(t){M.b.addRemoveTo(e.productId,n.act.selection,[e.id,t])}));n.check(),n.props.parent.setState({changed:!0})},n.onChange=n.onChange.bind(Object(l.a)(Object(l.a)(n))),n.check=n.check.bind(Object(l.a)(Object(l.a)(n))),n.act=n.props.parent.current?n.props.parent.current:new I.IActivation(n.props.parent.selectedBrand),n.avSelection=new j.b(S.a.getAvailability()),n.brand=S.a.getBrand(k.b.kabel),n.availability=S.a.getAvailability(),n.availability.prepareCableServices(0,[]),n.current={id:"",path:[],level:0,productId:""},n.init(void 0),n.state={changed:!1,productId:n.act.productId,sub:n.act.sub},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.avSelection=j.b.ensure(this.avSelection,this.availability),this.act=e.parent.current,this.avSelection.applyChanges(this.act),this.setState({changed:!0})}},{key:"render",value:function(){return this.selectionOk?u.createElement("div",{id:t.componentId},this.renderOptions(),this.checkPopup(),u.createElement("div",{className:"spacer clear"}),u.createElement("div",null,this.checkResult)):u.createElement(u.Fragment,null)}},{key:"init",value:function(e){var t=this;try{this.avSelection&&this.avSelection.reset(),this.avSelection=j.b.ensure(this.avSelection,this.availability),this.initSelection(void 0),this.avSelection.applyChanges(this.act),this.act.selection.children.length>0&&this.act.selection.children.map(function(e){e.children.map(function(n){t.avSelection.inout(e.id,[n.id],!0),e.id.indexOf("kip")>=0&&(t.act.activationType===b.c.actDefault?t.avSelection.inout(e.id,["rufnummernneuvergabe"],!0):t.avSelection.inout(e.id,["rufnummernmitnahme-1"],!0)),t.act.services&&t.act.services.length>0&&t.act.services.map(function(n){t.avSelection.inout(e.id,n.split("/"),!0)})})}),e&&e()}catch(n){return this.act.selection.children[0].children.length>0?void(this.selectionOk=!0):void(this.selectionOk=!1)}this.selectionOk=!0}},{key:"checkAvailabilityStart",value:function(e){var t=this;this.checkAvailability=I.ERequestStatus.running,this.setState({changed:!0},function(){t.check()})}},{key:"checkPopup",value:function(){if(this.checkAvailability!=I.ERequestStatus.running)return u.createElement(u.Fragment,null);var e={props:{id:"dynamicPopup",title:"Warenkorb",visible:!0,closable:!1,type:x.a.pleaseWait},closeOnDone:!0,content:u.createElement("div",null,"Warenkorb wird gepr\xfcft"),callback:function(e){}};return R.a.GetPopup(e.props,e.content,e.action)}},{key:"check",value:function(){var e=this,t={orderId:S.a.getAvailability().id,brand:k.b.kabel,selection:this.act.selection};this.act.cart=[{id:""}],this.checkAvailability=I.ERequestStatus.running,B.a.fetch("activation/availability",t,"POST",function(n){var a=B.a.parseSummary(n,void 0);if(a.status==I.ERequestStatus.done||a.status==I.ERequestStatus.running){C.a.trackSession&&C.a.trackSession(n),S.a.updateAvailability(k.b.kabel,n.data),console.log("check res",t.selection),console.log("check res",n.data),e.applyAutoSelection(e.act.selection,n.data),e.avSelection.prepare(),e.availability.prepareCableServices(0,[]),e.checkAvailability=I.ERequestStatus.done;var r=e.avSelection.validateAvailability(e.act,n.data);e.act.cart=T.from(r).where(function(e){return e.status!=j.c.ok}).toArray(),e.getvailabilityCheckMessage(e.act),e.act.updateSelection(t.selection),S.a.updateActivation(e.act),e.props.parent.setState({changed:!0})}else e.checkResult=u.createElement(u.Fragment,null,_.h.textError),e.checkAvailability=I.ERequestStatus.failed;e.setState({changed:!0})})}},{key:"applyAutoSelection",value:function(e,t){t&&t.products&&e.children.map(function(e){var n=T.from(t.products).where(function(t){return t.productId==e.id}).firstOrDefault();n&&(n=j.a.ensure(n)).elements&&n.elements.map(function(t){var n=e.find(t.metaname);t.available&&t.mandatory&&t.type!=k.d.devices&&t.selected==k.d.user&&!n&&e.getChildrenIds().indexOf(t.metaname)<0&&M.b.addRemovePath(e,[t.metaname])})})}},{key:"renderTvConnectCable",value:function(e){for(var t=this,n=[],a=function(a){var r=!1,i=T.from(t.brand.services).where(function(t){return t.id==e.dropedServices[a]}).firstOrDefault();t.props.parent.current.hasService(e.dropedServices[a],e.productId)&&(r=!0);var s=i?i.name:e.dropedServices[a],o=i?i.tooltip:e.dropedServices[a];if(!i){var c=e.getService(e.dropedServices[a],void 0);c&&(s=c.name,o=c.name)}"n.a"==s&&(s=e.dropedServices[a]);var l=u.createElement(L.a,{id:"op-tvc-"+e.dropedServices[a],text:s,key:"op-tvc-"+e.dropedServices[a],idx:a,tooltip:o,brandKey:t.brand.id,selected:!1,styleBrand:!1,cssStyle:r?"selected sub "+t.brand.id:"sub "+t.brand.id,clickModel:{id:e.dropedServices[a],productId:e.productId,path:[e.productId,e.dropedServices[a]],level:1},onClick:function(e){e.path.shift(),t.handleSelection(e)}});if(r)return n=[l],"break";n.push(l)},r=0;r<e.dropedServices.length;r++){if("break"===a(r))break}return u.createElement(u.Fragment,null,u.createElement("div",{className:"clear spacer"}),u.createElement("div",{className:"subtitle",id:"hardwareSelectiontvc"},"TV Connect Optionen"),n)}},{key:"getvailabilityCheckMessage",value:function(e){if(!e.hasHardware())return u.createElement(u.Fragment,null);if(0==e.cart.length)this.checkResult=u.createElement(u.Fragment,null,"Pr\xfcfung erfolgreich.");else{var t=[];t.push(u.createElement("div",null,"Bitte Warenkorb korrigieren:")),e.cart.map(function(n){t.push(u.createElement("div",{key:"checkmsg-"+e.cart.indexOf(n)},n.text))}),t.push(u.createElement("div",null,u.createElement(P.j,{type:I.ELButtonType.buttonWithIconRight,text:"Warenkorb korrigieren",css:"a1 fl",onClick:this.correctCart}))),this.checkResult=u.createElement(u.Fragment,null,t)}}},{key:"renderOptions",value:function(){var e=this,t=[],n=u.createElement(u.Fragment,null);return this.avSelection.products.map(function(a,r){if(e.props.parent.current.hardwareNecesseryAndSelected(a.productId)){e.props.parent.current.brandKey==k.b.kabel&&a.hasDroppedServices()&&(n=e.renderTvConnectCable(a));var i=[];t.push(u.createElement("div",{key:"act-opt-"+a.productId,className:"subtitle"},_.h.tariffOptions+": "+a.productId));var s=[];a.prepareElements(j.e.selectable,s,1,M.a.FromTree(e.act.selection),[a.productId],void 0),s.map(function(t,n){var a=T.from(e.brand.services).where(function(e){return e.id===t.metaname}).firstOrDefault();t.sort=a?a.sort:0}),(s=T.from(s).orderBy(function(e){return e.sort}).toArray()).map(function(t,n){var r=T.from(e.brand.services).where(function(e){return e.id===t.metaname}).firstOrDefault(),s=r?r.name:t.metaname,o=r?r.tooltip:t.metaname;if(!r){var c=a.getService(t.metaname,void 0);c&&(s=c.name,o=c.name)}"n.a"==s&&(s=t.metaname);var l=u.createElement(L.a,{id:"sop"+t.metaname,text:s,key:n,idx:n,tooltip:o,tooltipModel:t,brandKey:e.brand.id,selected:t.selected,styleBrand:!1,cssStyle:t.selected?"selected opt "+e.brand.id:" opt "+e.brand.id,clickModel:{id:t.metaname,productId:a.productId,path:[t.metaname],level:1},onClick:e.onChange});i.push(l)});var o=u.createElement(u.Fragment,null,i,u.createElement("div",{className:"spacer-big clear"}),e.renderAdditional(a,s));t.push(o),t.push(u.createElement("div",{className:"spacer-big clear"}))}}),u.createElement(u.Fragment,null,u.createElement("div",null,n),u.createElement("div",{className:"spacer-big clear"}),t)}},{key:"renderAdditional",value:function(e,t){for(var n=this,a=[],r=this.act.selection.toArray(!1,e.productId),i=function(i){var s=t[i];if(r.indexOf(s.metaname)<0)return"continue";var o=T.from(n.brand.services).where(function(e){return e.id===s.metaname}).firstOrDefault(),c=e.getElement([s.metaname]);o&&c&&c.elements&&c.elements.length>0&&(a.push(n.renderSecond(e,o,s)),a.push(u.createElement("div",{className:"spacer clear"})))},s=0;s<t.length;s++)i(s);return a}},{key:"renderSecond",value:function(e,t,n){var a=this,r=[],i=e.getElement([n.metaname]);if(!i||!i.elements||0==i.elements.length)return u.createElement(u.Fragment,null);e.prepareElements(j.e.children,r,1,M.a.FromTree(this.act.selection),[e.productId,t.id],i.elements);var s=[];return r.map(function(t,r){var i=T.from(a.brand.services).where(function(e){return e.id===t.metaname}).firstOrDefault(),o=i?i.name:t.metaname,c=i?i.tooltip:void 0;if(o.indexOf("-")>0){var l=T.from(a.availability.cableServices).firstOrDefault(function(e){return e.key==t.metaname});l&&(o=l.text)}"n.a"==o&&(o=t.metaname);var d=u.createElement(L.a,{id:"soc"+t,text:o,key:n.metaname,idx:r,tooltip:c,tooltipModel:t,brandKey:a.brand.id,selected:!1,styleBrand:!1,cssStyle:t.selected?"selected sub opt "+a.brand.id:" sub opt "+a.brand.id,clickModel:{id:t.metaname,productId:e.productId,path:[n.metaname,t.metaname],level:2},onClick:a.handleSelection});s.push(d)}),u.createElement(u.Fragment,null,u.createElement("div",{className:"subtitle"},_.h.optionsAdditional+": "+t.name),s)}},{key:"onChange",value:function(e){this.handleSelection(e)}}],[{key:"getMe",value:function(){return C.a.GetComponent(t.componentId)}}]),t}(u.Component);G.componentId="activationOptions";var H=n(21),J=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(o.a)(t).call(this,e))).alreadyBooked=[],n.inclusive=[],n.product=void 0,n.sub=void 0,n.serviceRules=[],n.onDismissSelector=n.onDismissSelector.bind(Object(l.a)(Object(l.a)(n))),n.onDone=n.onDone.bind(Object(l.a)(Object(l.a)(n))),n.thumbClick=n.thumbClick.bind(Object(l.a)(Object(l.a)(n))),n.serviceRules=n.props.brand.serviceRules,n.state={changed:!1,popupVisible:!1,activation:n.props.activation},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"onDismissSelector",value:function(){this.setState({popupVisible:!1})}},{key:"onDone",value:function(){this.setState({popupVisible:!1})}},{key:"renderSelection",value:function(){var e=this,t=[],n=A.a.from(this.props.brand.products).where(function(t){return t.id===e.state.activation.productId}).firstOrDefault();if(!n)return u.createElement(u.Fragment,null);for(var a=new N.a(this.state.activation.brandKey,n).getServices(this.state.activation,this.props.bc,!1),r=A.a.from(this.props.brand.services).where(function(e){return a.indexOf(e.id)>=0}).where(function(e){return!e.mandatory}).toArray(),i=[],s=0;s<r.length;s++){var o=r[s];if(o.notbookableWith)for(var c=0;c<this.state.activation.services.length;c++)o.notbookableWith.indexOf(this.state.activation.services[c])>=0&&i.push(o.id)}if(this.state.activation.activationType==b.c.existingCustomer){var l=A.a.from(this.alreadyBooked).select(function(e){return e.id}).toArray();r=A.a.from(r).where(function(e){return l.indexOf(e.id)<0}).toArray()}r=A.a.from(r).where(function(e){return i.indexOf(e.id)<0}).toArray();var h=A.a.from(r).select(function(e){return e.id}).toArray(),v=[];r.map(function(t,n){e.state.activation.services.indexOf(t.id)>=0&&t.notbookableWith&&t.notbookableWith.length>0&&t.notbookableWith.map(function(n){e.state.activation.services.indexOf(n)>=0||v.indexOf(n)<0&&t.id!==n&&v.push(n)})});for(var f=A.a.from(this.props.brand.services).where(function(e){return h.indexOf(e.id)>=0&&!e.hidden}).toArray(),y=A.a.from(f).orderBy(function(e){return e.fmailySort}).select(function(e){return e.familyName}).distinct().toArray(),g=function(n){var a=A.a.from(e.props.brand.services).where(function(e){return e.familyName===y[n]&&h.indexOf(e.id)>=0}).toArray(),r=[];a.map(function(t,n){if(t.type!=b.v.inclusive&&!(e.state.activation.isNba()&&e.state.activation.action&&e.state.activation.action.services&&e.state.activation.action.services.indexOf(t.id)>=0)){var a=!1;e.state.activation.services.indexOf(t.id)>=0&&(a=!0);var i="";e.props.preselected&&e.props.preselected.indexOf(t.id)>=0&&(i=" insel"),v.indexOf(t.id)<0&&r.push(e.renderThumb(t,e.thumbClick,a,n,i,!1))}});var i=u.createElement(d.a,{key:"service-group-"+y[n]},u.createElement(p.a,null,u.createElement(m.a,{md:12},y[n])),u.createElement(p.a,null,u.createElement(m.a,{md:12},r)));r.length>0&&t.push(i)},E=0;E<y.length;E++)g(E);return u.createElement(u.Fragment,null,t)}},{key:"getInclusiveOptions",value:function(){var e=this;if(!this.product)return[];var t=new N.a(this.state.activation.brandKey,this.product).getAllServicesFromConfig(this.state.activation.sub,this.props.bc),n=A.a.from(this.props.brand.services).where(function(e){return t.indexOf(e.id)>=0}).select(function(e){return e.id}).toArray(),a=A.a.from(this.props.brand.services).where(function(e){return n.indexOf(e.id)>=0}).toArray();if(0==a.length)return[];var r=[];return a.map(function(t,n){var a=A.a.from(e.sub.sl).where(function(e){return e.id===t.id}).first();a&&(t.type===b.v.inclusive||a.m&&!t.hidden)&&(r.push(t),a.m&&!t.hidden&&t.type!==b.v.inclusive&&e.state.activation.addService(t.id,void 0))}),r}},{key:"getAlreadyBooked",value:function(){var e=S.a.getParentOfProcess(this.state.activation.processId);if(!this.product)return[];var t=A.a.from(this.props.brand.services).where(function(t){return e.customer.contracts[0].bookedProduct.services.indexOf(t.id)>=0}).select(function(e){return e.id}).toArray();return A.a.from(this.props.brand.services).where(function(e){return t.indexOf(e.id)>=0}).toArray()}},{key:"thumbClick",value:function(e){this.state.activation.hasService(e,void 0)?this.state.activation.removeService(e,void 0):this.state.activation.addService(e,void 0),this.props.onChanged()}},{key:"renderThumb",value:function(e,t,n,a,r,i){var s=this,o=!0,c="";if(i){var l=A.a.from(this.sub.sl).where(function(t){return t.id==e.id}).firstOrDefault(),d=A.a.from(this.serviceRules).where(function(t){return t.id==e.id}).firstOrDefault();l||(c=" autoremove",o=!1),d&&d.type==b.u.canBeRemoved&&(c=" removable",o=!0),d&&d.type==b.u.notRemovable&&(c=" notremovable",o=!1),l&&l.m&&(c="",o=!1)}return this.state.activation.servicesRemove.indexOf(e.id)>=0&&(c="",r=r.replace("selected",""),n=!1),r+=c,u.createElement(L.a,{key:e.id+"_"+C.a.getUniqueId(),idx:a,text:e.name,tooltip:e.tooltip,tooltipModel:e,selected:n,id:e.id,brandKey:this.props.brand.id,styleBrand:!1,cssStyle:r,onClick:function(e){o&&(i?(s.state.activation.addRemoveServiceRemove(e,s.state.activation.productId),s.setState({changed:!0})):t&&t(e))}})}},{key:"renderSelected",value:function(){for(var e=this,t=[],n=A.a.from(this.props.brand.products).where(function(t){return t.id===e.state.activation.productId}).firstOrDefault(),a=A.a.from(n.subs).where(function(t){return t.id===e.state.activation.sub&&t.b==e.props.bc}).first(),r=A.a.from(this.props.brand.services).toArray(),i=this.state.activation.services,s=function(n){var s=A.a.from(r).where(function(e){return e.id===i[n]}).firstOrDefault(),o=A.a.from(r).where(function(e){return e.id===i[n]}).firstOrDefault();if(o&&o.hidden)return"continue";if(s){var c=A.a.from(a.sl).where(function(e){return e.id===i[n]}).firstOrDefault();if((!c||c.m)&&!s.bonusType)return"continue";t.push(e.renderThumb(s,void 0,!0,n,"",!1))}else console.log("svc"+i[n]+" not found")},o=0;o<i.length;o++)s(o);return u.createElement(u.Fragment,null,t)}},{key:"componentWillReceiveProps",value:function(e){this.setState({activation:e.activation})}},{key:"render",value:function(){var e=this,t=u.createElement(u.Fragment,null);return this.state.activation.productId&&this.state.activation.sub?(this.product=A.a.from(this.props.brand.products).where(function(t){return t.id===e.state.activation.productId}).firstOrDefault(),this.sub=A.a.from(this.product.subs).where(function(t){return t.id===e.state.activation.sub&&t.b==e.props.bc}).first(),this.props.canEdit?(this.alreadyBooked=this.state.activation.activationType==b.c.existingCustomer?this.getAlreadyBooked():[],this.inclusive=this.getInclusiveOptions(),t=u.createElement(u.Fragment,null,u.createElement(d.a,null,u.createElement(p.a,{key:"row1"},u.createElement(m.a,{md:12},u.createElement("div",{className:"subtitle"},_.h.optionsAdditional))),u.createElement(p.a,{key:"row2"},u.createElement(m.a,{md:9},this.renderSelected()),u.createElement(m.a,{md:3},this.props.blockAddRemove?u.createElement(u.Fragment,null):u.createElement(L.a,{idx:-1,key:"serviceselector",text:"Hinzuf\xfcgen / Bearbeiten",selected:!1,id:"serviceselector",brandKey:"vf",styleBrand:!1,onClick:function(){e.setState({popupVisible:!0})}}))),this.inclusive.length>0?u.createElement(u.Fragment,null,u.createElement(p.a,{key:"row3"},u.createElement(m.a,{md:12},u.createElement("div",{className:"subtitle"},_.h.optionsInclusive," "))),u.createElement(p.a,{key:"row4"},u.createElement(m.a,{md:9},this.inclusive.map(function(t,n){return e.renderThumb(t,void 0,!0,n,"",!1)})),u.createElement(m.a,{md:3}))):null,this.alreadyBooked.length>0?u.createElement(u.Fragment,null,u.createElement(p.a,{key:"row3"},u.createElement(m.a,{md:12},u.createElement("div",{className:"subtitle"},_.h.optionsAlreadyBooked," ",R.a.getInfoTooltip("info-","Bitte beachte, dass einige Optionen aus technischen Gr\xfcnde nicht abgew\xe4hlt werden k\xf6nnen.")," "))),u.createElement(p.a,{key:"row4"},u.createElement(m.a,{md:9},this.alreadyBooked.map(function(t,n){return e.renderThumb(t,e.thumbClick,!0,n,"",!0)})),u.createElement(m.a,{md:3})),u.createElement(p.a,null,u.createElement(m.a,{xs:12,md:12},u.createElement("div",{className:"thumb-small-desc"},"Legende:")),u.createElement(m.a,{xs:12,md:12},u.createElement("div",{className:"removable thumb thumb-tariff thumb-small"}),u.createElement("div",{className:"thumb-small-desc"},"Option ist abw\xe4hlbar")),u.createElement(m.a,{xs:12,md:12},u.createElement("div",{className:"notremovable thumb thumb-tariff thumb-small"}),u.createElement("div",{className:"thumb-small-desc"},"Option nicht abw\xe4hlbar")),u.createElement(m.a,{xs:12,md:12},u.createElement("div",{className:"selected thumb thumb-tariff thumb-small"}),u.createElement("div",{className:"thumb-small-desc"},"Pflichtoption")))):null),u.createElement(H.g,{type:x.a.info,onDismiss:this.onDismissSelector,closable:!0,visible:this.state.popupVisible,id:"confirm",title:_.h.optionsAdditional,height:600,style:"wide"},u.createElement(H.h,null,this.renderSelection(),u.createElement(u.Fragment,null)),u.createElement(H.a,null,u.createElement(H.d,{text:_.h.ready,css:"fr",icon:"ok",type:I.ELButtonType.buttonWithIconRight,onClick:this.onDone}),u.createElement(u.Fragment,null))))):t):t}}]),t}(u.Component),Z=function(e){function t(e){var n;if(Object(r.a)(this,t),(n=Object(s.a)(this,Object(o.a)(t).call(this,e))).current=[],n.virtualOptions=[],n.virtualOptionsExclude=[],n.popupVirtualOptionsVisible=!1,n.popupRefreshAvailability=!1,n.brand=void 0,n.currentFamily=0,n.validationOptionsPassword=[],n.onSelectTariff=n.onSelectTariff.bind(Object(l.a)(Object(l.a)(n))),n.onSelectSub=n.onSelectSub.bind(Object(l.a)(Object(l.a)(n))),n.selectOption=n.selectOption.bind(Object(l.a)(Object(l.a)(n))),n.selectOptionVirtual=n.selectOptionVirtual.bind(Object(l.a)(Object(l.a)(n))),n.switchActivationType=n.switchActivationType.bind(Object(l.a)(Object(l.a)(n))),n.selectDate=n.selectDate.bind(Object(l.a)(Object(l.a)(n))),n.switchActivationDate=n.switchActivationDate.bind(Object(l.a)(Object(l.a)(n))),n.switchAdditional=n.switchAdditional.bind(Object(l.a)(Object(l.a)(n))),n.renderRefreshAvailability=n.renderRefreshAvailability.bind(Object(l.a)(Object(l.a)(n))),n.onSelectedOptionsChanged=n.onSelectedOptionsChanged.bind(Object(l.a)(Object(l.a)(n))),n.brand=C.a.categoryWrapper.getCategoryBrand(n.props.parent.data),n.brand&&n.brand.products){var a=n.brand.products.find(function(e){return e.id===n.props.parent.current.productId});n.props.parent.current.familyId=a?a.familyId:0,S.a.updateActivation(n.props.parent.current)}return!n.props.parent.current||n.props.parent.current.activationType!=b.c.partnerCard&&n.props.parent.current.activationType!=b.c.partnerCardPortation?n.validationOptionsPassword=[]:n.validationOptionsPassword.push(new K.c({type:K.a.required,message:_.m.requiredError})),n.state={changed:!0,selection:n.props.selection},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"renderGroups",value:function(){var e=this,t=this.state.selection?this.state.selection.creditDebitType:b.f.postpaid,n=this.state.selection?this.state.selection.customerType:b.g.personal,a=this.state.selection?this.state.selection.activationType:b.c.actDefault,r=b.e.bnt,i=T.from(F.a.filterProducts(this.brand.id,this.brand.products,r)).where(function(e){return(e.creditDebitType&t)===t&&e.bookable&&(e.customerType&n)===n&&(e.activationType&a)===a}).select(function(e){return{familyName:e.familyName,familySort:e.familySort}}).distinct().orderBy(function(e){return e.familySort}).select(function(e){return e.familyName}).distinct().toArray();return u.createElement(u.Fragment,null,i.map(function(t,n){return e.renderGroup(t,n)}))}},{key:"renderGroup",value:function(e,t){var n=this,a=this.state.selection?this.state.selection.creditDebitType:b.f.postpaid,r=this.state.selection?this.state.selection.customerType:b.g.personal,i=this.state.selection?this.state.selection.activationType:b.c.actDefault,s=b.e.bnt,o=T.from(F.a.filterProducts(this.brand.id,this.brand.products,s)).where(function(t){return t.familyName===e&&(t.creditDebitType&a)===a&&t.bookable&&(t.customerType&r)===r&&(t.activationType&i)===i}).orderBy(function(e){return e.sort}).toArray();return C.a.categoryWrapper.all||(o=T.from(o).where(function(e){return e.catKey==C.a.categoryWrapper.cat}).toArray()),0===o.length?u.createElement(u.Fragment,null):u.createElement("div",{key:t},u.createElement("div",{className:"subtitle"},e),o.map(function(e,t){return u.createElement(L.a,{key:t,id:e.id,text:e.name,tooltip:e.tooltip,tooltipModel:e,idx:t,brandKey:n.brand.id,selected:n.props.parent.current.selection.getChildrenIds().indexOf(e.id)>=0,styleBrand:!1,cssStyle:n.props.parent.current.selection.getChildrenIds().indexOf(e.id)>=0?"selected":"",onClick:n.onSelectTariff})}),u.createElement(P.k,null))}},{key:"renderSub",value:function(e){var t=this;if(!this.current||this.current&&this.props.parent.current.brandKey!=k.b.kabel&&this.current[0]&&this.current[0].creditDebitType===b.f.prepaid)return u.createElement(u.Fragment,null);var n=[],a=u.createElement(u.Fragment,null);if(this.current&&this.props.parent.current.brandKey==k.b.kabel&&!e)return this.renderSubMultiple();if((e?[e]:this.current).map(function(e){if(e.subs){var a=T.from(e.subs).join(t.brand.subs,function(e){return e.id},function(e){return e.id},function(e,t){return{CS:e,BS:t}}).orderBy(function(e){return e.BS.sort}).select(function(e){return e.CS.id}).toArray();a&&a.length>0&&a.map(function(t){return n.push("".concat(e.id).concat(k.e.listSeparator).concat(t))})}}),this.props.parent.current.brandKey==k.b.unity){var r=C.a.categoryWrapper.avl.getProduct(k.b.unity,this.props.parent.current.productId);n=T.from(r.subs).select(function(e){return e.id}).toArray(),n=T.from(this.brand.subs).where(function(e){return n.indexOf(e.id)>=0}).select(function(e){return r.productId+k.e.listSeparator+e.id}).toArray()}if(0==n.length)return u.createElement(u.Fragment,null);var i=[];if(n=T.from(n).distinct().toArray(),this.props.parent.current&&this.props.parent.current.brandKey==k.b.kabel)for(var s=this.props.parent.current.selection.getChildrenIdSub(),o=0;o<n.length;o++)if(s.indexOf(n[o].split(k.e.listSeparator)[1])>=0){n=[n[o]];break}return n.map(function(e,n){var a=e.split(k.e.listSeparator)[1],r=T.from(t.brand.subs).where(function(e){return e.id===a}).first(),s=u.createElement(L.a,{id:e,text:F.a.getSub(t.brand,a).name,key:n,idx:n,tooltip:r.tooltip,tooltipModel:e,brandKey:t.brand.id,selected:!1,styleBrand:!1,cssStyle:t.props.parent.current.selection.getChildrenIdSub().indexOf(e.split(k.e.listSeparator)[1])>=0?"selected sub "+t.brand.id:"sub "+t.brand.id,onClick:t.onSelectSub});i.push(s)}),u.createElement(u.Fragment,null,u.createElement("div",{className:"subtitle",id:"hardwareSelection"},_.k.sub+(e?" "+e.name:"")),i,a)}},{key:"renderSubMultiple",value:function(){var e=this,t=[];return this.current.map(function(n){t.push(u.createElement("div",{className:"clear"},e.renderSub(n)))}),u.createElement(u.Fragment,null,t)}},{key:"renderPromotions",value:function(){var e=this,t=u.createElement("div",{className:"subtitle"},_.h.noPromotions);return this.current&&this.props.parent.current.sub&&function(){var n=new N.a(e.props.parent.selectedBrand,e.current[0]),a=e.props.parent.current?e.props.parent.current.sub:"",r=T.from(n.getServices(e.props.parent.current,b.e.bnt,e.props.parent.current.brandKey===k.b.dsl)).toArray();if(e.brand.id==k.b.unity){var i=T.from(C.a.categoryWrapper.avl.brands).where(function(e){return e.key==k.b.unity}).first(),s=T.from(i.products).where(function(t){return t.productId==e.props.parent.current.productId}).first(),o=T.from(s.subs).where(function(t){return t.id==e.props.parent.current.sub}).firstOrDefault();o&&o.options&&o.options.map(function(t){r.indexOf(t.id)<=0&&r.push(t.id),t.selected&&!e.props.parent.current.hasService(t.id,e.props.parent.current.productId)&&e.props.parent.current.addRemoveService(t.id,e.props.parent.current.productId)})}var c=[];if(a&&(e.brand.id===k.b.otelo||e.brand.id===k.b.dsl)){var l=T.from(e.current[0].subs).where(function(e){return e.id==a}).firstOrDefault();l&&(c=T.from(l.sl).where(function(e){return e.m}).select(function(e){return e.id}).toArray())}if(r.length>0){for(var d=[],p=[],m=function(t){var n=T.from(e.brand.services).where(function(e){return e.id===r[t]&&e.type==b.v.promotion}).firstOrDefault();n&&(e.props.parent.current&&c.indexOf(n.id)>=0&&e.props.parent.current.addService(n.id,void 0),d.push(u.createElement(P.l,{type:y.d.checkbox,label:n.name,tooltip:n.tooltip,key:t,id:n.id,checked:e.props.parent.current&&e.props.parent.current.services.indexOf(n.id)>=0||c.findIndex(function(e){return e===n.id})>-1,disabled:c.findIndex(function(e){return e===n.id})>-1,onChange:e.selectOption,hideHint:!0,hideTitle:!1})))},h=0;h<r.length;h++)m(h);for(var v=function(t){var n={};(n=e.props.parent.current.brandKey==k.b.otelo?T.from(e.brand.services).where(function(e){return e.id===c[t]&&e.mandatory}).firstOrDefault():T.from(e.brand.services).where(function(e){return e.id===c[t]&&e.type==b.v.inclusive}).firstOrDefault())&&(console.log("data",n),e.props.parent.current&&e.props.parent.current.addService(n.id,void 0),p.push(u.createElement(P.l,{type:y.d.checkbox,label:n.name,key:t,id:n.id,tooltip:n.tooltip,checked:!0,disabled:!0,onChange:function(){},hideHint:!0,hideTitle:!1}))),e.brand.id===k.b.dsl&&e.props.parent.current&&e.props.parent.current.removeServiceLike("auto")},f=0;f<c.length;f++)v(f);t=u.createElement(u.Fragment,null,(e.brand.id===k.b.otelo||e.brand.id===k.b.dsl)&&c.length>0?u.createElement(u.Fragment,null,u.createElement("div",{className:"subtitle"},"Inklusivpromotionen"),p,u.createElement("div",{className:"spacer-big clear"})):null,u.createElement("div",{className:"subtitle"},"Optionale Promotion"),d)}}(),t}},{key:"renderOptions",value:function(){var e=this,t=u.createElement("div",{className:"subtitle"},_.h.noOptions);if(this.virtualOptions=[],this.current){if(0==this.current.length||this.props.parent.current.brandKey==k.b.unity&&!this.props.parent.current.sub)return t;var n=[],a=F.a.filterServices(this.brand,this.props.parent.current?this.props.parent.current:new I.IActivation(this.brand.id),b.v.option);if(this.props.parent.current.brandKey==k.b.unity){var r=T.from(C.a.categoryWrapper.avl.brands).where(function(e){return e.key==k.b.unity}).first(),i=C.a.categoryWrapper.avl.getProduct(k.b.unity,this.props.parent.current.productId),s=T.from(i.subs).where(function(t){return t.id==e.props.parent.current.sub}).firstOrDefault();s&&(a=T.from(s.options).select(function(e){return e.id}).distinct().toArray(),n=T.from(s.options).where(function(e){return e.mandatory}).select(function(e){return e.id}).toArray(),r.selection&&r.selection.children&&r.selection.children.length>0&&r.selection.children[0].children.map(function(t){var r=T.from(e.brand.services).where(function(e){return e.id==t.id}).firstOrDefault();r&&r.type==b.v.optionVirtual&&(n.push(t.id),a.push(t.id))}))}if(this.props.parent.current){var o,c,l,d,p=function(){var r=new N.a(e.props.parent.selectedBrand,e.current[0]),i=e.props.parent.current.productId,s=e.props.parent.current.brandKey==k.b.kabel||e.props.parent.current.brandKey==k.b.unity?a:T.from(r.getServices(e.props.parent.current,b.e.bnt,e.props.parent.current.brandKey===k.b.dsl)).where(function(e){return a.indexOf(e)>=0}).toArray();e.props.parent.current.availability=S.a.getAvailability();var p=e.props.parent.current.brandKey===k.b.dsl&&e.props.parent.current.availability.hasRegioOnly(e.props.parent.current.brandKey,e.current[0].id);if(s.length>0){var m=function(){for(var a=e.brand.services,r=[],m=S.a.getAvailabilityForBrand(e.props.parent.current.brandKey),h=e.props.parent.current.brandKey===k.b.kabel||e.props.parent.current.brandKey===k.b.dsl?T.from(m.products).where(function(e){return e.productId===i}).firstOrDefault():void 0,v=function(t){var i=!1,m=T.from(a).where(function(e){return e.id==s[t]&&(e.type===b.v.option||e.type===b.v.optionVirtual||e.type==b.v.optionBundle)}).firstOrDefault();if(m){var v=!1;if(e.props.parent.current.brandKey===k.b.dsl&&h){var f=!0;if(s[t].indexOf("!")>0&&(f=!1,i=!0,e.props.parent.current.services.indexOf(s[t])>=0&&(f=!0),e.virtualOptions.push(m)),e.virtualOptionsExclude.indexOf(s[t])>=0&&!i&&(f=!1),!f)return"continue"}if(e.props.parent.current.brandKey===k.b.kabel&&h){var g=T.from(h.elements).where(function(e){return e.metaname===s[t]}).firstOrDefault();g&&g.mandatory&&(v=!0)}if(e.current&&e.props.parent.current&&e.props.parent.current.availability&&e.brand.id===k.b.dsl){if(o=T.from(e.props.parent.current.availability.brands).where(function(t){return t.key===e.props.parent.current.brandKey}).first(),c=T.from(o.products).where(function(t){return t.productId===(e.current?e.current[0].id:"")}).firstOrDefault(),e.current)if(l=T.from(e.current[0].subs).where(function(t){return t.id==e.props.parent.current.sub}).firstOrDefault(),p)l&&(d=T.from(l.sl).where(function(e){return e.id==m.id}).firstOrDefault())&&d.m&&(v=!0);else if(m.id.indexOf("svc_dsl_regio_16")>=0)return"continue";if(c&&!c.hasComfort&&"svc_dsl_comfort"===m.id)return"continue"}if(e.current&&e.props.parent.current&&e.props.parent.current.availability&&e.brand.id===k.b.kabel&&e.props.parent.current.productId.indexOf("kip")>=0&&m.id.indexOf("rufnummer")>=0)return"continue";var E=m.name+"",C="cb-"+m.id,_=e.serviceDisabled(m.id),O=e.props.parent.current.services.indexOf(m.id)>=0;if(n&&n.indexOf(m.id)>=0&&(v=!0),v&&(_=!0,O=!0,e.props.parent.current.addService(m.id,void 0)),r.push(u.createElement(P.l,{type:y.d.checkbox,disabled:_,name:C,label:E,key:t,id:m.id,hideHint:!0,checked:O,tooltip:m.tooltip,onChange:e.selectOption})),e.props.parent.current.brandKey===k.b.kabel&&h&&h.elements&&h.elements.length>0){var S=T.from(h.elements).where(function(e){return e.metaname===m.id}).firstOrDefault();S&&S.elements.map(function(t,n){var i=T.from(a).where(function(e){return e.id===t.metaname}).firstOrDefault();i&&"bereitstellungsentgelt-tv"!==t.metaname&&(O=!!e.props.parent.current&&e.props.parent.current.services.indexOf(i.id)>=0,r.push(u.createElement("div",{style:{marginLeft:30}},u.createElement(P.l,{type:y.d.checkbox,disabled:!1,name:i.name,label:i.name+":"+n,key:"child-"+n,id:i.id,hideHint:!0,checked:O,tooltip:m.tooltip,onChange:e.selectOption}))))})}}},f=0;f<s.length;f++)v(f);return{v:{v:t=u.createElement(u.Fragment,null,u.createElement("div",{className:"subtitle"},_.h.tariffOptions),r)}}}();if("object"===typeof m)return m.v}}();if("object"===typeof p)return p.v}}return t}},{key:"renderDate",value:function(){var e="dn",t=C.a.getToday();if(this.props.parent.current&&this.props.parent.current.brandKey===k.b.unity)return u.createElement(u.Fragment,null);this.props.parent.current&&this.props.parent.current.brandKey===k.b.dsl&&(t=C.a.addDays(t,9));var n=C.a.addDays(C.a.getToday(),365);return this.props.parent.current&&this.props.parent.current.activationTime===y.a.future&&(e=""),this.props.parent.dataWrapper.canEditActivation(this.props.parent.currentIndex)?void 0===this.state.selection?u.createElement(u.Fragment,null):u.createElement(u.Fragment,null,this.brand.id!==k.b.vodafone&&!k.b.otelo||this.state.selection.activationType===b.c.actDefault||this.state.selection.activationType===b.c.cdChange?u.createElement(d.a,null,u.createElement(p.a,null,u.createElement(m.a,{xs:6,md:6,className:"npl"},u.createElement(P.l,{onChange:this.switchActivationDate,type:y.d.radio,id:"activationTime-0",name:"activationTime",label:"Sofort",checked:!!this.props.parent.current&&this.props.parent.current.activationTime===y.a.now})),u.createElement(m.a,{xs:6,md:6,className:"npl"},u.createElement(P.l,{onChange:this.switchActivationDate,type:y.d.radio,id:"activationTime-1",name:"activationTime",label:_.k.activationDate,checked:!!this.props.parent.current&&this.props.parent.current.activationTime===y.a.future}))),u.createElement(P.k,null),u.createElement(p.a,null,u.createElement(m.a,{xs:6,md:6,className:e},u.createElement(P.m,{id:"activationDate",title:"",onChange:this.selectDate,datePicker:!0,from:t,to:n,type:z.b.fixedStart,value:this.props.parent.current?this.props.parent.current.activationDate:void 0})))):u.createElement(u.Fragment,null)):u.createElement(u.Fragment,null)}},{key:"renderAdditional",value:function(){return this.props.parent.dataWrapper.canEditActivation(this.props.parent.currentIndex)?u.createElement(u.Fragment,null,u.createElement("div",{className:"subtitle"},_.h.additionalContract),u.createElement(d.a,null,u.createElement(p.a,null,this.props.parent.current&&(this.props.parent.current.activationType==b.c.actDefault||this.props.parent.current.activationType==b.c.partnerCard)&&this.props.parent.current.productId&&this.props.parent.current.productId.toLowerCase().indexOf("redpl")>=0?null:u.createElement(m.a,{xs:6,md:6,className:"npl"},u.createElement(P.l,{onChange:this.switchAdditional,type:y.d.radio,id:"additional-0",name:"additional",label:_.h.no,checked:!1===this.props.parent.current.additional})),u.createElement(m.a,{xs:6,md:6,className:"npl"},u.createElement(P.l,{onChange:this.switchAdditional,type:y.d.radio,id:"additional-1",name:"additional",label:_.h.yes,checked:!0===this.props.parent.current.additional}))),this.props.parent.current.additional?u.createElement(p.a,null,u.createElement(m.a,{xs:6,md:6},u.createElement(P.l,{id:"customerId",name:"customerId",type:y.d.text,maxLength:9,title:_.h.customerId,onChange:this.props.onChange,value:this.props.parent.current.customerId,validationOptions:[new K.c({type:K.a.required,message:_.m.requiredError}),new K.c({type:K.a.numeric,message:_.m.numericError})]}),u.createElement(P.l,{id:"customerPassword",name:"customerPassword",type:y.d.text,title:_.h.customerPassword,onChange:this.props.onChange,maxLength:30,value:this.props.parent.current.customerPassword,validationOptions:this.validationOptionsPassword}))):null)):u.createElement(u.Fragment,null)}},{key:"switchActivationDate",value:function(e){var t=e.id.split("-");this.props.parent.current&&(this.props.parent.current.activationTime=parseInt(t[1]),"0"===t[1]&&(this.props.parent.current.activationDate=new Date,S.a.updateActivation(this.props.parent.current),this.props.parent.setState({changed:!0}))),this.setState({changed:!0})}},{key:"switchAdditional",value:function(e){if(!this.props.parent.current||this.props.parent.current.activationType!=b.c.partnerCard&&this.props.parent.current.activationType!=b.c.partnerCardPortation){var t=e.id.split("-"),n=0!==parseInt(t[1]);n||(this.props.parent.current.customerId="",this.props.parent.current.customerPassword=""),this.props.parent.current.additional=n,this.setState({changed:!0})}}},{key:"switchActivationType",value:function(e){var t=e.id.split("-");this.props.parent.current&&(this.props.parent.current.activationType=parseInt(t[1])),this.setState({changed:!0})}},{key:"selectDate",value:function(e){this.props.parent.current&&(this.props.parent.current.activationDate=e.dateValue?e.dateValue:new Date,S.a.updateActivation(this.props.parent.current),this.props.parent.setState({changed:!0}))}},{key:"selectOption",value:function(e,t){var n=this;if(this.props.parent.current){if(!t&&this.props.parent.current.brandKey===k.b.unity){var a=I.IActivation.clone(this.props.parent.current);return a.availability=new j.g,a.addRemoveService(e.id,void 0),void this.props.parent.syncOrder(a,function(t){t.status==f.EApiResponseStatus.ok&&(S.a.updateAvailability(k.b.unity,t.data.avl),t.data.avl.selection&&t.data.avl.selection.children[0]&&(n.props.parent.current.services=T.from(t.data.avl.selection.children[0].children).select(function(e){return e.id}).distinct().toArray(),S.a.updateActivation(n.props.parent.current)),n.selectOption(e,!0))})}if(e.checked){if(this.props.parent.current.brandKey===k.b.dsl)!C.a.indexOfAny(this.props.parent.current.services,["V1205","V1206","V1207"])&&"V0987"===e.id&&this.props.parent.current.services.indexOf("V0987")<0&&(this.popupVirtualOptionsVisible=!0,this.virtualOptionsExclude=[]);this.props.parent.current.addService(e.id,void 0),this.props.parent.refresh()}else this.props.parent.current.brandKey===k.b.dsl&&"V0987"===e.id&&(this.props.parent.current.removeServiceLike("!"),this.virtualOptionsExclude=[]),this.props.parent.current.removeService(e.id,void 0),this.props.parent.refresh()}this.props.parent.refresh(),this.setState({changed:!0})}},{key:"selectOptionVirtual",value:function(e){if(this.virtualOptionsExclude=[],e.checked){var t=e.id.substring(0,e.id.indexOf("!"));this.virtualOptionsExclude.push(t),this.props.parent.current&&this.props.parent.current.addService(e.id,void 0)}else this.props.parent.current&&this.props.parent.current.removeService(e.id,void 0);this.setState({changed:!0})}},{key:"serviceDisabled",value:function(e){return!!this.props.parent.current&&this.props.parent.current.validateService(e)}},{key:"renderPopupVirtualOptions",value:function(){var e=this;if(!this.popupVirtualOptionsVisible)return u.createElement(u.Fragment,null);var t=this.props.parent.current?this.props.parent.current.services:[],n=T.from(this.virtualOptions).select(function(e){return e.id}).toArray(),a=T.from(t).where(function(e){return e.indexOf("!")>0}).toArray(),r=[];this.virtualOptions.map(function(t,n){r.push(u.createElement(P.l,{type:y.d.checkbox,disabled:a.length>0&&a.indexOf(t.id)<0,name:name,label:t.name,key:n,id:t.id,hideHint:!0,checked:a.indexOf(t.id)>=0,tooltip:t.tooltip,onChange:e.selectOptionVirtual}))});var i={props:{id:"virtualPopupOptions",title:"Optionen",visible:!0,closable:!1,type:x.a.custom,height:400},action:u.createElement(u.Fragment,null,u.createElement(P.j,{text:_.h.ready,css:"fr",icon:"ok",type:y.h.buttonWithIconRight,onClick:function(){e.popupVirtualOptionsVisible=!1,e.setState({changed:!0})}})),content:u.createElement(u.Fragment,null,u.createElement("div",{className:"text-sub tal"},"Kombinier Mobilfunk mit Internet & Telefon, dann bekommst Du: Kostenlos die Mobile & Euro-Flat (Standardpreis: 9,99 Euro pro Monat) oder 9,99 Euro Gutschrift pro Monat auf h\xf6herwertige internationale Flats f\xfcr Deine Festnetzanschluss.",u.createElement("br",null),u.createElement("br",null),"Bitte w\xe4hle eine Option aus."),u.createElement("div",{className:"spacer"}),u.createElement("div",null,r))},s=C.a.indexOfAny(this.props.parent.current.services,n);return R.a.GetPopup(i.props,i.content,s?i.action:u.createElement(u.Fragment,null))}},{key:"renderRefreshAvailability",value:function(){var e=this;if(!this.popupRefreshAvailability)return u.createElement(u.Fragment,null);var n={orderId:S.a.getAvailability().id,brand:k.b.kabel,product:this.props.parent.current?this.props.parent.current.productId:"",sub:this.props.parent.current?this.props.parent.current.sub:"",services:this.props.parent.current?this.props.parent.current.services:[]};B.a.fetch("activation/availability",n,"POST",function(n){var a=B.a.parseSummary(n,void 0);a.status==y.k.done||a.status==y.k.running?(S.a.updateAvailability(k.b.kabel,n.data),e.popupRefreshAvailability=!1,e.setState({changed:!0})):C.a.FindReact(document.getElementById(t.idAvailabilityPopup)).refresh(!0,!0,x.a.custom,u.createElement("div",null,"Fehler"))});var a={props:{id:t.idAvailabilityPopup,title:"Verf\xfcgbarkeit wird aktualisiert",visible:!0,closable:!1,type:x.a.pleaseWait,onDismiss:function(){e.popupRefreshAvailability=!1,e.setState({changed:!0})}},content:u.createElement(u.Fragment,null)};return R.a.GetPopup(a.props,a.content,a.action)}},{key:"startAvailabilityIfNeeded",value:function(){this.props.parent.current&&(this.props.parent.current.brandKey==k.b.kabel&&this.props.parent.current.hasHardware()&&G.getMe().checkAvailabilityStart(this.props.parent.current))}},{key:"componentDidMount",value:function(){var e=this;if(window.scrollTo(0,0),this.props.parent.current.brandKey==k.b.unity&&this.props.parent.current.productId){var t=S.a.getAvailabilityProduct(k.b.unity,this.props.parent.current.productId);!t||t.subs&&0!=t.subs.length||this.props.parent.syncOrder(this.props.parent.current,function(t){t.status==f.EApiResponseStatus.ok&&(S.a.updateAvailability(k.b.unity,t.data.avl),C.a.categoryWrapper.reset(),e.setState({changed:!0}))})}}},{key:"componentWillReceiveProps",value:function(e){this.setState({selection:e.selection})}},{key:"render",value:function(){var e=this;this.brand=C.a.categoryWrapper.getCategoryBrand(this.props.parent.data),this.current=T.from(this.brand.products).where(function(t){return e.props.parent.current.selection.getChildrenIds().indexOf(t.id)>=0}).toArray();var n={title:_.k.activationBNTTariff,id:t.componentId,transparent:!1};return u.createElement(h.a,{config:n},u.createElement(u.Fragment,null),this.renderRefreshAvailability(),this.renderGroups(),u.createElement("div",{className:"spacer-big clear"}),this.props.selection&&this.props.selection.creditDebitType===b.f.postpaid?this.renderSub(void 0):u.createElement(u.Fragment,null),u.createElement("div",{className:"spacer-big clear"}),this.brand.id===k.b.vodafone?u.createElement(J,{activation:this.props.parent.current?this.props.parent.current:new I.IActivation(this.props.parent.selectedBrand),bc:b.e.bnt,onChanged:function(){e.props.parent.setState({changed:!0})},canEdit:this.props.parent.dataWrapper.canEditActivation(this.props.parent.currentIndex),brand:this.brand}):u.createElement(u.Fragment,null,this.props.parent.current&&this.props.parent.current.brandKey!=k.b.kabel?this.renderPromotions():null,this.brand.id===k.b.kabel?u.createElement(u.Fragment,null,u.createElement(q,{brand:this.brand,type:V.options,act:this.props.parent.current?this.props.parent.current:new I.IActivation(this.brand.id)})):null,u.createElement("div",{className:"spacer-big clear"}),this.brand.id===k.b.kabel?u.createElement(G,{parent:this.props.parent,tariff:this,onChange:this.onSelectedOptionsChanged}):this.renderOptions(),u.createElement("div",{className:"spacer-big clear"})),this.renderPopupVirtualOptions(),this.renderDate(),this.brand.id==k.b.vodafone?this.renderAdditional():u.createElement(u.Fragment,null))}},{key:"onSelectTariff",value:function(e,t){var n=this;this.props.parent.current&&(this.props.parent.current.familyId=this.brand.products.find(function(t){return t.id===e}).familyId),this.props.parent.canEditActivation()&&(t||this.props.parent.current.brandKey!=k.b.unity||(this.props.parent.current.productId=e,this.props.parent.current.sub="",this.props.parent.syncOrder(this.props.parent.current,function(t){t.status==f.EApiResponseStatus.ok&&(S.a.updateAvailability(k.b.unity,t.data.avl),n.onSelectTariff(e,!0))})),this.props.parent.current&&(this.props.parent.current.addRemoveProduct(e),this.props.parent.current.brandKey!=k.b.kabel&&(this.props.parent.current.sub="",this.props.parent.current.services=[])),S.a.updateActivation(this.props.parent.current),this.props.selectionChanged&&this.props.selectionChanged(),this.startAvailabilityIfNeeded(),this.setState({changed:!0}))}},{key:"onSelectSub",value:function(e,t){var n=this;if(this.props.parent.canEditActivation()){var a=e.split(k.e.listSeparator);if(this.props.parent.current.brandKey!=k.b.kabel){if(!t&&this.props.parent.current.brandKey==k.b.unity)return this.props.parent.current.sub=a[1],this.props.parent.current.services=[],void this.props.parent.syncOrder(this.props.parent.current,function(t){t.status==f.EApiResponseStatus.ok&&(S.a.updateAvailability(k.b.unity,t.data.avl),n.onSelectSub(e,!0))});if(this.props.parent.current.sub=a[1],this.props.parent.current.brandKey!==k.b.kabel&&(this.props.parent.current.selection.children[0].children=[],this.props.parent.current.services=[]),this.props.parent.current.brandKey==k.b.unity){var r=S.a.getAvailabilityForBrand(k.b.unity);if(r.products){var i=T.from(r.products).where(function(e){return e.productId==n.props.parent.current.productId}).firstOrDefault();if(i&&i.subs){var s=T.from(i.subs).where(function(e){return e.id==n.props.parent.current.sub}).firstOrDefault();if(s)T.from(s.options).where(function(e){return e.selected}).toArray().map(function(e){n.props.parent.current.hasService(e.id,n.props.parent.current.productId)||n.props.parent.current.addService(e.id,n.props.parent.current.productId)})}}}M.b.addRemovePath(this.props.parent.current.selection,Array.from(a));var o=this.props.parent.current.hasHardware();o||(this.props.parent.current.selection.find(a[0]).resetChildren(),G.getMe().initSelection(a[0]),this.props.parent.current.sub=""),this.props.selectionChanged&&this.props.selectionChanged(),o&&this.startAvailabilityIfNeeded(),this.setState({changed:!0})}else G.getMe().handleSelection({mandatory:!0,productId:a[0],id:a[1],level:1,path:[a[1]]})}}},{key:"onSelectedOptionsChanged",value:function(e){this.props.parent.current&&(this.props.parent.current.services=e,this.props.selectionChanged&&this.props.selectionChanged())}}]),t}(u.Component);Z.componentId="activationTariff",Z.idAvailabilityPopup="refreshAvailability";var Y=Z,$=n(59),X=n(64),Q=n(28),ee=n(54),te=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(o.a)(t).call(this,e))).brands=void 0,n.brutto=0,n.bruttoAct=0,n.hasGiga=!1,n.pr=b.p.tariff,n.currentIndex=-1,n.aw=void 0,n.removeContract=function(e){var t=n.props.activations[e];t.activationType!==b.c.partnerCard?(n.currentIndex=e,n.setState({confirmRemove:!0})):S.a.removeOrder(t.processId,function(){O.a.route({url:Q.f.uri+n.props.parent.data.parentId,title:_.h.existingCustomerActivation})})},n.onDismissConfirmPopup=function(){n.setState({confirmRemove:!1})},n.saveDraft=function(e){n.props.parent.showPopup(x.a.pleaseWait,"",!0);var t=n.props.parent.dataWrapper.getDraftFromActivation(n.props.parent.data.activations[e].id);setTimeout(function(){C.a.hub.send(JSON.stringify(t),y.l.saveDraft,void 0)},1e3)},n.editContract=function(e){n.props.parent.getProgress()!==b.p.tariff?n.props.parent.gotoView(b.p.tariff,function(){n.props.parent.editActivation(e)}):n.props.parent.editActivation(e)},n.socketCallback=n.socketCallback.bind(Object(l.a)(Object(l.a)(n))),n.brands=S.a.getBrands(),n.aw=new X.a(n.props.parent.data),n.state={confirmRemove:!1,changed:!1,htmlDiscount:"",vodafoneIsChecked:!1},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({changed:!0})}},{key:"render",value:function(){this.pr=this.props.parent.getProgress(),this.aw=new X.a(this.props.parent.data);var e=this.props.activations.length<3?"fixed":"",n=g.a.GetInstance().getFirstSuitableCombi(this.props.parent.dataWrapper,!0);return u.createElement(u.Fragment,null,this.renderPopupConfirm(),u.createElement("div",{className:"infobox "+e,id:t.containerId},u.createElement(P.j,{type:y.h.icon,icon:"summary",text:"ZUSAMMENFASSUNG"}),u.createElement("div",{className:"spacer-big"}),this.renderActivations(),n&&n.getBlister()?u.createElement(u.Fragment,null,u.createElement("div",{className:"spacer-medium"}),u.createElement("div",{className:"",dangerouslySetInnerHTML:{__html:n.getBlister()}})):null))}},{key:"renderActivations",value:function(){var e=this;this.brutto=0,this.bruttoAct=0;return this.hasGiga=I.OrderDataWrapper.hasGiga(this.props.parent.data),I.OrderDataWrapper.previewAvailableForAtLeastOne(this.props.activations)?u.createElement(u.Fragment,null,u.createElement("div",{className:"inner"},this.aw.items.map(function(t,n){return u.createElement("div",{key:"act-"+n},e.renderActivation(t,n),n==e.aw.items.length-1?null:u.createElement("div",{key:"sep-"+t,className:"sep"}))}),this.renderSummary())):u.createElement("div",null,"Keine Buchungen")}},{key:"renderSummary",value:function(){return u.createElement(d.a,null,u.createElement(p.a,null,u.createElement(m.a,{xs:12,md:12,className:"info infor"},u.createElement(ee.a,{text:C.a.feeToString(this.aw.getMonthlyFee()),css:"big"})),u.createElement(m.a,{xs:12,md:12,className:"info infor"},u.createElement(ee.a,{text:_.h.feeMonthTotal}))),u.createElement(p.a,null,u.createElement(m.a,{xs:12,md:12,className:"info infor"},u.createElement(ee.a,{text:C.a.feeToString(this.aw.getActivationFee()),css:"big"})),u.createElement(m.a,{xs:12,md:12,className:"info infor"},u.createElement(ee.a,{text:_.h.feeActTotal}))))}},{key:"socketCallback",value:function(e){e&&(e.error?this.props.parent.showPopup(x.a.custom,e.error.message,!0):this.props.parent.showPopup(x.a.custom,_.b.saveSuccess,!0))}},{key:"renderActivation",value:function(e,t){var n=this;if(e.hasMultiple()){var a=[];return e.items.map(function(e,r){a.push(n.renderActivationSingle(e,r,!0,t))}),a}return this.renderActivationSingle(e.items[0],t,!1,t)}},{key:"renderActivationSingle",value:function(e,t,n,a){if(!e.productId)return u.createElement(u.Fragment,null);var r="brandi "+e.brandKey;return u.createElement("div",{key:"act-"+C.a.getUniqueId()},u.createElement("div",{className:r}),u.createElement("div",{className:"action"},!1===e.isDone()&&(!n||n&&0==t)?u.createElement(u.Fragment,null,u.createElement(P.j,{type:y.h.iconImage,icon:"edit",onClick:this.editContract,clickModel:a}),e.brandKey==k.b.unity?null:u.createElement(P.j,{type:y.h.iconImage,icon:"save",onClick:this.saveDraft,clickModel:a}),this.pr===b.p.tariff||0===this.pr?u.createElement(P.j,{type:y.h.iconImage,icon:"trash",onClick:this.removeContract,clickModel:a}):null):null),u.createElement("div",{className:"product"},u.createElement("div",{className:"title"},e.product.name),u.createElement("div",{className:"spacer"}),u.createElement(d.a,null,u.createElement(p.a,null,u.createElement(m.a,{xs:6,md:6,className:"info infol np"},e.ttProduct?u.createElement($.a,{place:"top",type:"light",effect:"solid",id:"tt-pr-"+e.id},u.createElement("div",{dangerouslySetInnerHTML:{__html:e.ttProduct}})):null,u.createElement("label",{"data-tip":e.ttProduct,"data-for":"tt-pr-"+e.id},_.k.tariff)),u.createElement(m.a,{xs:6,md:6,className:"info infor"},u.createElement(ee.a,{text:C.a.feeToString(e.getProductMonthlyFee())})),u.createElement(m.a,{xs:6,md:6,className:"info infol np"},e.ttHardware?u.createElement($.a,{place:"top",type:"light",effect:"solid",id:"tt-sub-"+e.id},u.createElement("div",{dangerouslySetInnerHTML:{__html:e.ttHardware}})):null,u.createElement("label",{"data-tip":e.ttHardware,"data-for":"tt-sub-"+e.id},_.k.sub)),u.createElement(m.a,{xs:6,md:6,className:"info infor"},u.createElement(ee.a,{text:C.a.feeToString(e.getSubMonthlyFee())})),u.createElement(m.a,{xs:6,md:6,className:"info infol np"},e.ttOptions?u.createElement($.a,{place:"top",type:"light",effect:"solid",id:"tt-op-"+e.id},u.createElement("div",{dangerouslySetInnerHTML:{__html:e.ttOptions}})):null,u.createElement("label",{"data-tip":e.ttOptions,"data-for":"tt-op-"+e.id},_.k.options)),u.createElement(m.a,{xs:6,md:6,className:"info infor"},u.createElement(ee.a,{text:C.a.feeToString(e.getOptionMonthlyFee())})),u.createElement(m.a,{xs:6,md:6,className:"info infol np"},e.ttActivation?u.createElement($.a,{place:"top",type:"light",effect:"solid",id:"tt-ac-"+e.id},u.createElement("div",{dangerouslySetInnerHTML:{__html:e.ttActivation}})):null,u.createElement("label",{"data-tip":e.ttActivation,"data-for":"tt-ac-"+e.id},_.h.activationFee)),u.createElement(m.a,{xs:6,md:6,className:"info infor"},u.createElement(ee.a,{text:C.a.feeToString(e.getActivationFee())})),u.createElement(m.a,{xs:6,md:6,className:"info infol np"},u.createElement(ee.a,{text:_.h.feeMonthTotal,css:"best"})),u.createElement(m.a,{xs:6,md:6,className:"info infor"},u.createElement(ee.a,{text:C.a.feeToString(e.getMonthlyFee()),css:"best"})))),u.createElement("div",{className:"sline"})),u.createElement(P.k,null))}},{key:"renderPopupConfirm",value:function(){var e=this;return u.createElement(H.g,{type:x.a.confirm,visible:this.state.confirmRemove,closable:!0,id:"wait",key:"popup-confirm",title:_.h.pleaseWait,height:200,onDismiss:this.onDismissConfirmPopup,onNegative:this.onDismissConfirmPopup,onPositive:function(){e.props.parent.removeActivation(e.currentIndex),e.currentIndex=-1,e.setState({confirmRemove:!1})}},u.createElement(H.h,null,u.createElement(u.Fragment,null),u.createElement(u.Fragment,null)),u.createElement(u.Fragment,null))}}]),t}(u.Component);te.containerId="activationsummary";var ne=te,ae=function(e){function t(e){return Object(r.a)(this,t),Object(s.a)(this,Object(o.a)(t).call(this,e))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e="iprogress-bg "+C.a.getStringFromEnum(b.p,this.props.progress);return u.createElement(u.Fragment,null,u.createElement("div",{className:"block block-inner block-trans iprogress"},u.createElement("div",{className:"inner"},u.createElement("div",{className:e}),u.createElement("div",{className:"iprogress-icons"},this.props.states.indexOf(_.j.tariff)>=0?u.createElement(P.j,{type:y.h.icon,icon:"tariff",text:"Tarif",status:this.getProgressStatus(b.p.tariff)}):null,this.props.states.indexOf(_.j.customer)>=0?u.createElement(P.j,{type:y.h.icon,icon:"customer",text:"Kundendaten",status:this.getProgressStatus(b.p.customer)}):null,this.props.states.indexOf(_.j.done)>=0?u.createElement(P.j,{type:y.h.icon,icon:"deal",text:"Abschluss",status:this.getProgressStatus(b.p.done)}):null,this.props.states.indexOf(_.j.cancellation)>=0?u.createElement(P.j,{type:y.h.icon,icon:"selection",text:"AUSWAHL",status:this.getProgressStatus(b.p.cancellation)}):null,this.props.states.indexOf(_.j.overview)>=0?u.createElement(P.j,{type:y.h.icon,icon:"overview",text:"\xdcBERSICHT",status:this.getProgressStatus(b.p.overview)}):null,this.props.states.indexOf(_.j.summary)>=0?u.createElement(P.j,{type:y.h.icon,icon:"summary",text:"ZUSAMMENFASSUNG",status:this.getProgressStatus(b.p.summary)}):null,this.props.states.indexOf(_.i.selectProducts)>=0?u.createElement(P.j,{type:y.h.icon,icon:"add-sim",text:"PRODUKTE AUSW\xc4HLEN",status:this.getProgressStatusForOrderProducts(b.p.selectProduct)}):null,this.props.states.indexOf(_.i.deliveryAddress)>=0?u.createElement(P.j,{type:y.h.icon,icon:"calls-contacts",text:"LIEFERANSCHRIFT",status:this.getProgressStatusForOrderProducts(b.p.deliveryAddress)}):null,this.props.states.indexOf(_.i.overviewOrder)>=0?u.createElement(P.j,{type:y.h.icon,icon:"transparency",text:"\xdcBERSICHT",status:this.getProgressStatusForOrderProducts(b.p.orderOverview)}):null,u.createElement(P.k,null)))))}},{key:"getProgressStatus",value:function(e){return this.props.progress<e?y.i.disabled:this.props.progress===e?y.i.selected:y.i.ready}},{key:"getProgressStatusForOrderProducts",value:function(e){return this.props.progress===e?y.i.selected:y.i.disabled}}]),t}(u.Component),re=n(72),ie=function(e){function t(e){return Object(r.a)(this,t),Object(s.a)(this,Object(o.a)(t).call(this,e))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e={title:void 0,transparent:!0,styleContainer:"extra"};return u.createElement(h.a,{config:e},u.createElement(d.a,null,u.createElement(p.a,null,u.createElement(m.a,{xs:3,md:3},u.createElement("img",{className:"fit",src:"/images/giga.png"})),u.createElement(m.a,{xs:9,md:9},u.createElement("div",{className:"etitle"},"GigaKombi - holt mehr f\xfcr Ihren Kunden raus!"),u.createElement("div",{className:"esubtitle"},"Hinweis: Bitte Kunden aufkl\xe4ren!"),u.createElement("div",{className:"einfo"},"Dein Kunde hat Mobilfunk mit Internet & Telefon zur GigaKombi abgeschlossen. Dadurch erh\xe4lt er z.B. jeden Monat einen Rabatt oder zus\xe4tzliches Datenvolumen. Entdecke Deine GigaKombi-Vorteile. Weitere Hinweise befinden sich in den FAQs, auf dem Vertrag des Kunden und auf der ersten Rechnung.")))),u.createElement(P.k,null))}}]),t}(u.Component),se=n(165),oe=n(58),ce=n(86),le=n(87),ue=n(71),de=function(e){function t(e){var n;Object(r.a)(this,t),(n=Object(s.a)(this,Object(o.a)(t).call(this,e))).delivery=void 0;var a=n.props.parent.props.parent.data.customer;return n.delivery=new le.b,a.delivery&&(a.deliveryType==b.a.differentAddress?n.delivery.address={street:a.delivery.address.street,nr:a.delivery.address.nr,zip:a.delivery.address.zip,city:a.delivery.address.city,corrected:!1,house_number:a.delivery.address.nr,additional:""}:a.address&&(n.delivery.address={street:a.address.street,nr:a.address.nr,zip:a.address.zip,city:a.address.city,corrected:!1,house_number:a.address.nr,additional:""}),n.delivery.callbackTime=a.delivery.callbackTime,n.delivery.deliveryDate=a.delivery.deliveryDate,n.delivery.tel=a.delivery.tel),n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e={title:_.h.deliveryData,transparent:!1};return u.createElement(h.a,{config:e},u.createElement(d.a,null,u.createElement(ce.a,{prefix:"address",source:this.delivery,onChange:void 0,preview:!0}),u.createElement(ue.b,{prefix:"tel",source:this.delivery,onChange:void 0,preview:!0})),u.createElement(d.a,null,u.createElement(p.a,null,u.createElement(m.a,{xs:12,md:12,className:"np"},u.createElement(P.l,{type:y.d.info,title:_.h.telCallback,label:this.delivery.callbackTime,preview:!0,onChange:void 0,name:"delivery.callbackTime",id:"delivery-callbackTime"}))),u.createElement(p.a,null,u.createElement(m.a,{xs:6,md:6,className:"np"},u.createElement(P.m,{title:_.h.deliverydate,datePicker:!0,from:C.a.dateOnly(C.a.addDays(new Date,0)),to:C.a.dateOnly(C.a.addDays(new Date,1827)),id:"deliveryDate",name:"delivery.deliveryDate",onChange:void 0,preview:!0,value:this.delivery.deliveryDate})))),u.createElement(P.k,null))}}]),t}(u.Component),pe=function(e){function t(e){return Object(r.a)(this,t),Object(s.a)(this,Object(o.a)(t).call(this,e))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e={title:_.k.customerData,transparent:!1};return u.createElement(h.a,{config:e},u.createElement(d.a,null,u.createElement(p.a,null,u.createElement(m.a,{xs:4,md:4,className:"np"},u.createElement(P.l,{type:y.d.info,label:this.props.customer.salutation?this.props.customer.salutation==b.t.mr?_.h.mr:_.h.mrs:"",title:"Anrede"})),u.createElement(m.a,{xs:4,md:4},u.createElement(P.l,{type:y.d.info,label:this.props.customer.title?this.props.customer.title:"",title:"Titel"})),u.createElement(m.a,{xs:4,md:4,className:"npr"},u.createElement(P.l,{type:y.d.info,label:this.props.customer.nationality?this.props.customer.nationality:"",title:_.h.nationality}))),u.createElement("div",{className:"spacer"}),u.createElement(p.a,null,u.createElement(m.a,{xs:4,md:4,className:"np"},u.createElement(P.l,{type:y.d.info,label:this.props.customer.firstname?this.props.customer.firstname:"",title:"Vorname"})),u.createElement(m.a,{xs:4,md:4},u.createElement(P.l,{type:y.d.info,label:this.props.customer.surname?this.props.customer.surname:"",title:"Nachname"}))),u.createElement("div",{className:"spacer"}),u.createElement(p.a,null,u.createElement(m.a,{xs:8,md:8,className:"np"},u.createElement(P.l,{type:y.d.info,label:this.props.customer.address?this.props.customer.address.street:"",title:"Stra\xdfe"})),u.createElement(m.a,{xs:4,md:4},u.createElement(P.l,{type:y.d.info,label:this.props.customer.address?this.props.customer.address.nr:"",title:"Hausnummer"}))),u.createElement("div",{className:"spacer"}),u.createElement(p.a,null,u.createElement(m.a,{xs:4,md:4,className:"np"},u.createElement(P.l,{type:y.d.info,label:this.props.customer.address?this.props.customer.address.zip:"",title:_.h.zip})),u.createElement(m.a,{xs:4,md:4},u.createElement(P.l,{type:y.d.info,label:this.props.customer.address?this.props.customer.address.city:"",title:_.h.city}))),u.createElement("div",{className:"spacer"}),u.createElement(p.a,null,u.createElement(m.a,{xs:4,md:4,className:"np"},u.createElement(P.l,{type:y.d.info,label:this.props.customer.birthday?C.a.toGermanDate(this.props.customer.birthday):"",title:_.h.dateOfBirth})),u.createElement(m.a,{xs:4,md:4},u.createElement(P.l,{type:y.d.info,label:this.props.customer.email?this.props.customer.email:"",title:"E-Mail-Adresse"}))),this.props.customer.address&&this.props.customer.address.corrected?u.createElement(p.a,null,u.createElement(m.a,{xs:12,md:12,className:"np"},u.createElement(P.l,{hideTitle:!0,labelStyle:"tc-hint mwa",type:y.d.hint,label:_.g.addressCorrected}))):null),u.createElement(P.k,null))}}]),t}(u.Component),me=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(o.a)(t).call(this,e))).onNext=n.onNext.bind(Object(l.a)(Object(l.a)(n))),n.onBack=n.onBack.bind(Object(l.a)(Object(l.a)(n))),n.state={changed:!1},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"render",value:function(){var e=this,t=new X.a(this.props.order);return u.createElement(u.Fragment,null,this.props.preview?null:u.createElement(u.Fragment,null,this.renderHint(),re.a.hasGiga(this.props.order)?u.createElement(ie,null):u.createElement(u.Fragment,null),u.createElement(se.a,{customer:this.props.parent.data.customer,parentRefresh:function(){S.a.addOrder(e.props.parent.data),e.props.parent.refresh()}})),this.props.preview?u.createElement("div",{className:"text-h2"},"Aktivierungsbest\xe4tigung f\xfcr"):null,t.items.map(function(t,n){return u.createElement(oe.b,{key:"pc-"+n,bc:e.props.order.type,customer:e.props.parent.data.customer,ah:t,preview:e.props.preview,refreshParent:function(){e.props.parent.refresh()}})}),this.props.order.type==b.e.bnt?this.renderSummaryPrice(t):null,u.createElement(pe,{parent:this,customer:this.props.order.customer}),this.props.parent.props.preview&&this.props.parent.dataWrapper.hasKabel()?u.createElement(de,{parent:this}):null)}},{key:"renderHint",value:function(){return u.createElement(h.a,{config:{title:"Grundgeb\xfchr wird im Voraus berechnet.",styleContainer:"clue",transparent:!1}},u.createElement(d.a,null,u.createElement(p.a,null,u.createElement(m.a,{xs:12,md:12,className:"np"},u.createElement("div",{className:"subtitle"},"Hinweis: Bitte Kunden aufkl\xe4ren!"))),u.createElement(p.a,null,u.createElement(m.a,{xs:12,md:12,className:"np"},u.createElement(P.l,{type:y.d.hint,label:"Weisen Sie Ihren Kunden bitte darauf hin, dass bei Vodafone die Grundgeb\xfchr im Voraus berechnet wird. Ihr Kunde bekommt kurz nach Aktivierung eine Erstrechnung, die den Anschlusspreis und die anteiligen Geb\xfchren des Aktivierungsmonats enth\xe4lt. <br/><br/>Die erste regul\xe4re Rechnung enth\xe4lt dann die Nutzungskosten des Aktivierungsmonats sowie die Grundgeb\xfchr des kommenden Monats. (Ausnahme zur Erstrechnung siehe Klartext zur vorf\xe4lligen Grundgeb\xfchr)"})))),u.createElement(P.k,null))}},{key:"renderSummaryPrice",value:function(e){return u.createElement(h.a,{config:{title:"Gesamtkosten",styleContainer:"hot print-hide",transparent:!1}},u.createElement(d.a,null,u.createElement(p.a,null,this.props.parent.data.type===b.e.bnt?u.createElement(m.a,{xs:4,md:4,className:"np"},u.createElement(P.l,{type:y.d.info,style:"big",label:C.a.feeToString(e.getActivationFee()),title:_.h.feeActivation})):null,u.createElement(m.a,{xs:4,md:4,className:""},u.createElement(P.l,{type:y.d.info,style:"big",label:C.a.feeToString(e.getOptionMonthlyFee()),title:_.h.feeBookedOptions})),u.createElement(m.a,{xs:4,md:4,className:"npr"},u.createElement(P.l,{type:y.d.info,style:"big",label:C.a.feeToString(e.getMonthlyFee()),title:""})))),u.createElement(P.k,null))}},{key:"onNext",value:function(){this.props.parent.gotoView(b.p.done)}},{key:"onBack",value:function(){this.props.parent.gotoView(b.p.customer)}}]),t}(u.Component),he=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(o.a)(t).call(this,e))).state={msisdn:"",code:"",businessType:n.props.parent.selection?n.props.parent.selection.creditDebitType:b.f.postpaid},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.parent.selection?this.props.parent.selection.creditDebitType:b.f.postpaid,t={title:_.h.msisdn,transparent:!1},n=this.props.parent.current?this.props.parent.current:new I.IActivation(this.props.parent.selectedBrand);return u.createElement(h.a,{config:t},u.createElement(d.a,null,u.createElement(p.a,null,u.createElement(m.a,{xs:6,md:6},u.createElement(p.a,null,u.createElement(m.a,{xs:12,md:12},u.createElement(P.l,{preview:!this.props.parent.dataWrapper.canEditActivation(this.props.parent.currentIndex),type:I.EControlType.text,value:n.msisdn,label:"MSISDN",id:"msisdn",name:"msisdn",trimValue:!0,onChange:this.props.onChange,validationOptions:[new K.c({type:K.a.required,message:_.m.requiredError}),new K.c({type:K.a.maxLength,maxLength:20,message:_.m.errorMaxLength}),new K.c({type:K.a.numeric,message:_.m.errorNumeric})]})),n.activationType===b.c.actDefault?u.createElement(m.a,{xs:12,md:12},u.createElement(P.l,{preview:!this.props.parent.dataWrapper.canEditActivation(this.props.parent.currentIndex),type:I.EControlType.text,value:n.code,label:e===b.f.prepaid?"SIM-Seriennummer":"Aktivierungscode",id:"code",name:"code",onChange:this.props.onChange,validationOptions:[new K.c({type:K.a.required,message:_.m.requiredError}),new K.c({type:K.a.maxLength,maxLength:15,message:_.m.errorMaxLength}),new K.c({type:K.a.numeric,message:_.m.errorNumeric})]})):null)),n.activationType===b.c.actDefault?u.createElement(m.a,{xs:6,md:6},u.createElement("img",{className:"fit",src:"/images/act-"+n.brandKey+"-"+n.creditDebitType+".jpg"})):null)),u.createElement(P.k,null))}}]),t}(u.Component),ve=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(o.a)(t).call(this,e))).state={sim:"",businessType:b.f.postpaid},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.parent.selection&&this.setState({businessType:e.parent.selection.creditDebitType})}},{key:"render",value:function(){var e={title:_.h.textSIMCards,transparent:!1};this.props.parent.selection.activationType===b.c.portDefault?e.title=_.h.numberToBePorted:this.props.parent.selection.activationType===b.c.cdChange&&(e.title=_.h.currentPrepaidNumber);var t=this.props.parent.current?this.props.parent.current:new I.IActivation(this.props.parent.selectedBrand),n=this.props.parent.selection.activationType==b.c.actDefault||this.props.parent.selection.activationType==b.c.partnerCard?_.h.vfserial:_.h.msisdn;return u.createElement(h.a,{config:e},u.createElement(d.a,null,u.createElement(p.a,null,u.createElement(m.a,{xs:6,md:6},u.createElement(p.a,null,u.createElement(m.a,{xs:12,md:12},u.createElement(P.l,{preview:!this.props.parent.dataWrapper.canEditActivation(this.props.parent.currentIndex),error:E.d.getErrorFromState(this.props.parent.modelState,"msisdn"),maxLength:n==_.h.vfserial?14:void 0,type:I.EControlType.text,label:n,id:"msisdn",name:"msisdn",onChange:this.props.onChange,value:t.msisdn,validationOptions:[new K.c({type:K.a.required,message:_.m.requiredError}),new K.c({type:K.a.numeric,message:_.m.errorNumeric})]})))),t.activationType===b.c.actDefault?u.createElement(m.a,{xs:6,md:6},u.createElement("img",{className:"fit",src:"/images/act-"+t.brandKey+".jpg"})):null)),u.createElement(P.k,null))}}]),t}(u.Component),fe=n(119),be=function(e){function t(e){var n;Object(r.a)(this,t),(n=Object(s.a)(this,Object(o.a)(t).call(this,e))).tel=new fe.a,n.msisdnArray=[],n.brandKey="",n.onChange=n.onChange.bind(Object(l.a)(Object(l.a)(n)));var a=S.a.getAvailability();if(n.tel=new fe.a,n.brandKey=n.props.parent.current?n.props.parent.current.brandKey:"",a&&a.brands){var i=T.from(a.brands).where(function(e){return e.key===k.b.dsl}).firstOrDefault();if(i&&i.products&&i.products.length>0){var c=i.products[0];n.tel.prefix=c.areaCode}}return n.state={changed:!1,numbersToPort:n.props.numbersToPort},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({numbersToPort:e.numbersToPort})}},{key:"render",value:function(){this.props.parent.current?this.msisdnArray=this.props.parent.current.msisdn.split(";"):this.msisdnArray=new Array(this.state.numbersToPort),this.msisdnArray||(this.msisdnArray=[]);this.props.parent.selection?this.props.parent.selection.creditDebitType:b.f.postpaid;var e={title:_.h.numberToBePorted,transparent:!1};this.props.parent.current?this.props.parent.current:new I.IActivation(this.props.parent.selectedBrand);return u.createElement(h.a,{config:e},u.createElement(d.a,{id:"allNumbersToPort"},this.howManyElToDisplay()),u.createElement(P.k,null))}},{key:"howManyElToDisplay",value:function(){for(var e=[],t=0;t<this.state.numbersToPort;t++){var n=(t>=this.msisdnArray.length?this.tel.prefix+"-":this.msisdnArray[t]).split("-"),a={telType:I.ETelType.mobile,prefix:n[0]?n[0]:this.tel.prefix,number:n[1]},r="tel-"+t,i=u.createElement(p.a,null,this.brandKey==k.b.dsl||this.brandKey==k.b.kabel?u.createElement("div",null,u.createElement(P.l,{type:I.EControlType.info,name:name,id:"tel-prefix-"+t,value:"+49",label:"+49",style:"ccode"})):null,u.createElement(m.a,{xs:6,md:6},u.createElement(ue.b,{source:this.tel,telModel:a,id:"msisdn-"+t.toString(),withPading:!0,telTypeHidden:!0,onChange:this.onChange,valueChange:!0,prefix:r,preview:!1,disablePrefix:this.brandKey==k.b.kabel||this.brandKey==k.b.dsl})));e.push(i)}return e}},{key:"onChange",value:function(e){var t=e.id.split("-"),n="msisdn-"+t[1],a=C.a.GetComponent(n);this.msisdnArray[t[1]]=a.getValue().value,this.props.parent.current&&(this.props.parent.current.msisdn=this.msisdnArray.join(";"),this.props.parent.data.customer.mnp&&(this.props.parent.data.customer.mnp.countNumbers=this.state.numbersToPort,this.props.parent.data.customer.mnp.numberPortingType=1===this.state.numbersToPort?1:2),S.a.addOrder(this.props.parent.data)),this.setState({changed:!0})}}]),t}(u.Component),ye=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(o.a)(t).call(this,e))).numbersToPort=void 0,n.portType=b.o.single,n.brandKey="",n.avl=void 0,n.onChange=n.onChange.bind(Object(l.a)(Object(l.a)(n))),n.avl=S.a.getAvailability(),n.numbersToPort=n.getFromNumbers(),n.state={changed:!1,individualNumber:!0,multipleNumbers:!1},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t={title:_.h.portingInformation,transparent:!1};this.brandKey=this.props.parent.current?this.props.parent.current.brandKey:"",this.props.parent.data.customer.mnp&&(this.portType=this.props.parent.data.customer.mnp.numberPortingType?this.props.parent.data.customer.mnp.numberPortingType:1,this.numbersToPort=this.props.parent.data.customer.mnp.countNumbers?this.props.parent.data.customer.mnp.countNumbers:this.getFromNumbers());var n=!0;return this.props.parent.current&&this.props.parent.current.brandKey==k.b.dsl&&this.avl.hasRegioOnly(k.b.dsl,this.props.parent.current.productId)&&(n=!1),this.props.parent.current&&this.props.parent.current.brandKey==k.b.kabel&&(this.avl.hasKip()||(n=!1)),u.createElement(h.a,{config:t},u.createElement(d.a,null,u.createElement(p.a,null,u.createElement(m.a,{xs:6,md:6},u.createElement(P.l,{type:I.EControlType.radio,onChange:this.onChange,value:b.o.single,checked:this.portType==b.o.single,name:"portOption_1",id:"portOption_1",label:_.h.individualPorting})),n?u.createElement(m.a,{xs:6,md:6},u.createElement(P.l,{type:I.EControlType.radio,onChange:function(t){e.onChange(t)},value:b.o.multiple,checked:this.portType==b.o.multiple,name:"portOption_2",id:"portOption_2",label:_.h.multiplePorting,hint:!this.props.parent.current||this.props.parent.current.brandKey!=k.b.dsl&&this.props.parent.current.brandKey!=k.b.kabel?"":"* + 9,99 \u20ac einmalig"})):null,n&&this.brandKey===k.b.kabel?u.createElement(m.a,{xs:6,md:6},u.createElement(P.l,{type:I.EControlType.radio,onChange:this.onChange,value:b.o.later,checked:this.portType==b.o.later,name:"portOption_3",id:"portOption_3",label:_.h.laterPorting})):null),2===this.portType?u.createElement(u.Fragment,null," ",u.createElement("div",{className:"spacer"}),u.createElement("div",{className:"spacer"}),u.createElement("div",{className:"spacer"}),u.createElement(p.a,null,u.createElement(m.a,{xs:6,md:6},u.createElement(P.l,{type:I.EControlType.dropdown,value:this.numbersToPort,onChange:this.onChange,name:"numberOfItemsToPort",id:"numberOfItemsToPort_id",title:_.h.numberOFPhonesToBePorted,options:this.getNumberCount()})))):u.createElement(u.Fragment,null)),u.createElement(P.k,null))}},{key:"getFromNumbers",value:function(){var e=2;return this.brandKey==k.b.dsl&&this.props.parent.current&&this.avl.hasBasic(k.b.dsl,this.props.parent.current.productId)&&(e=3),e}},{key:"getNumberCount",value:function(){for(var e=[],t=this.getFromNumbers();t<=10;t++)e.push({key:t.toString(),text:t.toString()});return e}},{key:"applyCablePortation",value:function(e){if(this.brandKey==k.b.kabel&&this.props.parent.current){var t=this.props.parent.current.services;C.a.removeElementFromArray(t,"rufnummernmitnahme-1"),C.a.removeElementFromArray(t,"rufnummernmitnahme-x"),e==b.o.multiple?(this.props.parent.current.addRemoveService("rufnummernmitnahme-x",this.props.parent.current.selection.children[0].id),t.push("rufnummernmitnahme-x")):(this.props.parent.current.addRemoveService("rufnummernmitnahme-1",this.props.parent.current.selection.children[0].id),t.push("rufnummernmitnahme-1")),this.props.parent.current.services=t}}},{key:"onChange",value:function(e){if(this.props.parent.data.customer.mnp)if(e.type===I.EControlType.radio){var t=e.name.split("_");this.portType=Number.parseInt(t[1]),this.props.parent.data.customer.mnp.numberPortingType=Number.parseInt(t[1]),this.applyCablePortation(this.portType),this.portType==b.o.single?this.numbersToPort=this.props.parent.data.customer.mnp.countNumbers=1:this.portType==b.o.multiple&&(this.numbersToPort=this.props.parent.data.customer.mnp.countNumbers=this.getFromNumbers())}else this.numbersToPort=this.props.parent.data.customer.mnp.countNumbers=e.value;S.a.addOrder(this.props.parent.data),this.props.parent.refresh()}}]),t}(u.Component),ge=function(e){function t(e){return Object(r.a)(this,t),Object(s.a)(this,Object(o.a)(t).call(this,e))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){if(this.props.activation.activationType==b.c.bookService)return u.createElement(u.Fragment,null);var e={title:_.k.sub,id:"hardwareSelection",transparent:!1},t=this.props.activation;return u.createElement(h.a,{config:e},u.createElement(d.a,null,u.createElement(p.a,null,u.createElement(m.a,{xs:12,md:12},u.createElement(p.a,null,u.createElement(m.a,{xs:12,md:12},u.createElement(P.l,{preview:this.props.preview,type:y.d.text,label:"IMEI",id:"imei",name:"imei",maxLength:15,onChange:this.props.onChange,value:t.imei,validationOptions:[new K.c({type:K.a.exactLength,nullable:!0,targetValue:15,message:_.m.errorExactLength}),new K.c({type:K.a.numeric,nullable:!0,message:_.m.errorNumeric})]})))))),u.createElement(P.k,null))}}]),t}(u.Component),Ee=(n(95),n(44)),ke=function(e){function t(e){return Object(r.a)(this,t),Object(s.a)(this,Object(o.a)(t).call(this,e))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=A.a.from(S.a.getBrands()).where(function(t){return t.id==e.props.activation.brandKey}).first();return u.createElement("div",{className:"block-contract"},u.createElement("div",{className:"block block-act-contract"},u.createElement(Ee.c,{ckey:"bt-brand-"+t.id,item:t,onClick:void 0,type:Ee.b.blister,status:Ee.a.static}),u.createElement("div",{className:"block-inner"},"Aktivierung",u.createElement("br",null),"MSISDN: 0172",u.createElement("br",null),"Code",u.createElement("br",null),"Sofort aktivierung")))}}]),t}(u.Component),Ce=(u.Component,n(45)),_e=(u.Component,function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(o.a)(t).call(this,e))).mounted=!1,n.config=void 0,n.handleCategoryBrand=function(e){n.props.parent.changeCatBrand(e)},n.handlePayment=n.handlePayment.bind(Object(l.a)(Object(l.a)(n))),n.handleActivationType=n.handleActivationType.bind(Object(l.a)(Object(l.a)(n))),n.handleCusomerType=n.handleCusomerType.bind(Object(l.a)(Object(l.a)(n))),n.config={canMnpPredate:!1,canMnpStandard:!1,canSoho:!1,canPrepaid:!1},n.state={businessType:b.f.postpaid,businessCase:b.e.bnt,customerType:b.g.personal,activationType:n.props.parent.current?n.props.parent.current.activationType:b.c.actDefault},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillReceiveProps",value:function(e){this.setState(e)}},{key:"render",value:function(){var e=this,n=this.props.parent.dataWrapper.hasNextContract()?u.createElement(Ce.a,{text:_.h.backToCustomer,css:"fr",icon:"ok",type:y.h.linkSimple,onClick:function(){O.a.route({url:Q.f.uri+e.props.parent.data.id,title:_.h.existingCustomerActivation})}}):u.createElement(u.Fragment,null),a={title:_.h.productSelection,transparent:!1,id:t.componentId,action:n};this.prepare();var r={transparent:!0,action:n},i=C.a.categoryWrapper.getCategoryBrandKey(this.props.parent.data),s=C.a.categoryWrapper.getOtherBrandsAvailable(i);return u.createElement(u.Fragment,null,u.createElement(h.a,{config:a},u.createElement(d.a,null,u.createElement(p.a,null,u.createElement(m.a,{xs:12,md:12},u.createElement(ee.a,{text:_.h.businessCase}))),!this.props.parent.current||this.props.parent.current.activationType!=b.c.partnerCard&&this.props.parent.current.activationType!=b.c.partnerCardPortation?null:u.createElement(p.a,null,u.createElement(m.a,{xs:6,md:6},u.createElement(Ce.a,{text:_.k.pcBooking,onClick:this.handleActivationType,clickModel:b.c.partnerCard,status:this.state.activationType===b.c.partnerCard?y.i.selected:y.i.normal})),u.createElement(m.a,{xs:6,md:6},u.createElement(Ce.a,{text:_.k.pcPortation,onClick:this.handleActivationType,clickModel:b.c.partnerCardPortation,status:this.state.activationType===b.c.partnerCardPortation?y.i.selected:y.i.normal}))),this.props.parent.current&&this.props.parent.current.activationType!=b.c.partnerCard&&this.props.parent.current.activationType!=b.c.partnerCardPortation?u.createElement(p.a,null,u.createElement(m.a,{xs:6,md:6},u.createElement(Ce.a,{text:_.k.activation,onClick:this.handleActivationType,clickModel:b.c.actDefault,status:this.state.activationType===b.c.actDefault?y.i.selected:y.i.normal})),this.config.canMnpStandard?u.createElement(m.a,{xs:6,md:6},u.createElement(Ce.a,{text:_.k.portation,onClick:this.handleActivationType,clickModel:b.c.portDefault,status:this.state.activationType===b.c.portDefault?y.i.selected:y.i.normal})):null):null,u.createElement(p.a,null,this.props.parent.current&&this.props.parent.current.brandKey==k.b.vodafone&&this.props.parent.current.activationType!=b.c.partnerCard&&this.props.parent.current.activationType!=b.c.partnerCardPortation?u.createElement(m.a,{xs:6,md:6},u.createElement(Ce.a,{text:_.k.cdChange,onClick:this.handleActivationType,clickModel:b.c.cdChange,status:this.state.activationType===b.c.cdChange?y.i.selected:y.i.normal})):null),this.props.parent.current&&this.props.parent.current.brandKey!==k.b.unity&&this.props.parent.current.brandKey!==k.b.dsl&&this.props.parent.current.brandKey!==k.b.kabel?u.createElement(u.Fragment,null,u.createElement(p.a,null,u.createElement(m.a,{xs:12,md:12},u.createElement(ee.a,{text:_.h.productSelection}))),u.createElement(p.a,null,u.createElement(m.a,{xs:6,md:6},u.createElement(Ce.a,{text:"Postpaid",onClick:this.handlePayment,clickModel:b.f.postpaid,status:this.props.parent.selection.creditDebitType===b.f.postpaid?y.i.selected:y.i.normal})),u.createElement(m.a,{xs:6,md:6},this.config.canPrepaid?u.createElement(Ce.a,{text:"Prepaid",onClick:this.handlePayment,clickModel:b.f.prepaid,status:this.props.parent.selection.creditDebitType===b.f.prepaid?y.i.selected:y.i.normal}):null))):null),u.createElement(v.a,null)),C.a.categoryWrapper.canSwitchCat(this.props.parent.data)?u.createElement(h.a,{config:r},u.createElement(d.a,null,u.createElement(p.a,null,u.createElement(m.a,{xs:12,md:12},u.createElement(Ce.a,{text:C.a.categoryWrapper.all?"- Alle":"+ Alle",onClick:function(){C.a.categoryWrapper.all=!C.a.categoryWrapper.all,e.props.parent.refresh()},css:"fl uc text-h2",type:y.h.linkSimple,icon:"arrow-right"}),0==s.length?null:s.map(function(t,n){return u.createElement(Ce.a,{text:"-> "+t.key+" Tarife",onClick:function(){e.handleCategoryBrand(t.key)},css:"fr uc text-h2",type:y.h.linkSimple,icon:"arrow-right"})})))),u.createElement(v.a,null)):null)}},{key:"prepare",value:function(){var e=this,t=A.a.from(S.a.getBrands()).where(function(t){return t.id==e.props.parent.selectedBrand}).first();this.config.canPrepaid=A.a.from(t.products).where(function(e){return e.creditDebitType===b.f.prepaid}).count()>0,this.config.canSoho=A.a.from(t.products).where(function(e){return(e.customerType&b.g.soho)===b.g.soho}).count()>0,this.config.canMnpStandard=A.a.from(t.products).where(function(e){return(e.activationType&b.c.portDefault)==b.c.portDefault}).count()>0,t.id===k.b.kabel&&(this.config.canMnpStandard=!0)}},{key:"handleCusomerType",value:function(e){this.mounted&&(this.setState({customerType:e}),this.props.parent.applyCustomerType(e))}},{key:"handleActivationType",value:function(e){if(this.mounted){if(!this.props.parent.canEditActivation())return;this.setState({activationType:e}),this.props.parent.applyActivationType(e)}}},{key:"handlePayment",value:function(e){if(this.mounted){if(!this.props.parent.canEditActivation())return;this.setState({businessType:e}),this.props.parent.applyPayment(e)}}}]),t}(u.Component));_e.componentId="activationBlock";var Oe=_e,Se=n(37),we=n(174),xe=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(o.a)(t).call(this,e))).api=void 0,n.process=void 0,n.apiState=void 0,n.current=void 0,n.currentId="",n.timerId="availabilityTimer",n.onStart=n.onStart.bind(Object(l.a)(Object(l.a)(n))),n.onDelete=n.onDelete.bind(Object(l.a)(Object(l.a)(n))),n.onCompleted=n.onCompleted.bind(Object(l.a)(Object(l.a)(n))),n.socketCallback=n.socketCallback.bind(Object(l.a)(Object(l.a)(n))),n.timerCallback=n.timerCallback.bind(Object(l.a)(Object(l.a)(n))),n.timerCompletedCallback=n.timerCompletedCallback.bind(Object(l.a)(Object(l.a)(n))),n.apiState=Se.a.undefined,n.current=S.a.getAvailability(),n.current.executed!=I.ERequestStatus.done&&(n.current=S.a.resetAvailability(void 0,I.ERequestStatus.undefined)),C.a.getConfiguration().debug&&(n.current.address={street:"Edith-Stein-Str.",city:"K\xf6ln",zip:"51063",nr:"12",house_number:"12",corrected:!1,additional:""}),n.state={status:n.props.status,corrected:!1,closed:!1},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({status:e.status})}},{key:"render",value:function(){var e=this,n={title:_.h.textAvailability,transparent:!1},a=u.createElement(u.Fragment,null);if(this.current.executed==I.ERequestStatus.done){var r="Adresse: "+this.current.forUI();return a=u.createElement(h.a,{config:n},u.createElement(d.a,null,u.createElement(p.a,null,u.createElement(m.a,{xs:12,md:12,className:"np black"},r)),u.createElement(p.a,null,u.createElement(P.j,{text:"Pr\xfcfung f\xfcr eine neue Adresse starten",onClick:this.onDelete,css:"fr",type:I.ELButtonType.buttonWithIconRight,icon:"arrow-right"}))),u.createElement(P.k,null))}return this.state.status!=I.EComponentState.hidden&&(a=u.createElement("div",{id:t.containerId},u.createElement(h.a,{config:n},u.createElement(d.a,null,u.createElement(p.a,null,u.createElement(m.a,{xs:9,md:9,className:"np"},u.createElement(P.l,{type:I.EControlType.text,value:this.current.address.street,onChange:function(t){C.a.AutoInput(e,e.current,t)},title:"Anschrift",name:"address.street",id:"street",label:_.h.street,validationOptions:[new K.c({type:K.a.required,message:_.m.requiredError})]})),u.createElement(m.a,{xs:3,md:3,className:"npr"},u.createElement(P.l,{type:I.EControlType.text,value:this.current.address.nr,onChange:function(t){C.a.AutoInput(e,e.current,t)},name:"address.nr",id:"nr",label:_.h.stnr,validationOptions:[new K.c({type:K.a.required,message:_.m.requiredError})]}))),u.createElement(p.a,null,u.createElement(m.a,{xs:3,md:3,className:"np"},u.createElement(P.l,{type:I.EControlType.text,value:this.current.address.zip,onChange:function(t){C.a.AutoInput(e,e.current,t)},name:"address.zip",id:"zip",label:"PLZ",hideTitle:!0,validationOptions:[new K.c({type:K.a.required,message:_.m.requiredError}),new K.c({type:K.a.exactLength,targetValue:5,message:_.m.errorExactLength})]})),u.createElement(m.a,{xs:9,md:9,className:"npr"},u.createElement(P.l,{type:I.EControlType.text,value:this.current.address.city,onChange:function(t){C.a.AutoInput(e,e.current,t)},name:"address.city",id:"city",label:"Ort",hideTitle:!0,validationOptions:[new K.c({type:K.a.required,message:_.m.requiredError})]}))),u.createElement(p.a,null,this.state.status!=I.EComponentState.visible&&this.state.status!==I.EComponentState.nextStep||this.apiState==Se.a.inprocess?null:u.createElement(P.j,{text:"Starten",onClick:this.onStart,css:"fr",type:I.ELButtonType.buttonWithIconRight,icon:"arrow-right"}),this.api&&this.state.status==I.EComponentState.visible||this.state.status==I.EComponentState.processing||this.state.status===I.EComponentState.nextStep?u.createElement(we.a,{timerId:this.timerId,parent:this,apiState:this.apiState,api:this.api,process:this.process,completedCallback:this.timerCompletedCallback,processCallback:this.timerCallback}):null)),u.createElement(P.k,null)))),a}},{key:"timerCallback",value:function(){}},{key:"timerCompletedCallback",value:function(){this.apiState=Se.a.undefined,this.setState({status:I.EComponentState.visible})}},{key:"socketCallback",value:function(e){var t=JSON.parse(e.data);this.api=t;var n=t.data;if(null!=this.api.error)return this.apiState=Se.a.failed,this.current.executed=I.ERequestStatus.undefined,void this.setState({corrected:!1,status:I.EComponentState.visible});if(null!=n)try{var a=n.steps[0];if(a.status==I.ERequestStatus.done||a.status==I.ERequestStatus.tempResult)this.apiState=a.status==I.ERequestStatus.done?Se.a.done:Se.a.inprocess,this.current=S.a.getAvailability(),this.setState({corrected:!1,status:this.current.executed==I.ERequestStatus.done?I.EComponentState.visible:I.EComponentState.processing}),this.props.parent.refresh();else if(a.status===I.ERequestStatus.corrected){this.apiState=Se.a.warning,this.process={steps:[a]};var r=JSON.parse(a.message);r&&(this.current.address=r,this.current.address.nr=r.house_number,this.setState({corrected:!0,status:I.EComponentState.nextStep}))}else a.status!==I.ERequestStatus.failed&&a.status!==I.ERequestStatus.invalid||(this.apiState=Se.a.failed,this.current.executed=I.ERequestStatus.undefined,this.setState({corrected:!1,status:I.EComponentState.visible}));C.a.categoryWrapper.reset()}catch(i){console.error(i)}}},{key:"onCompleted",value:function(){this.setState({status:I.EComponentState.visible})}},{key:"onDelete",value:function(){this.current=new I.Availability,this.api=void 0,S.a.set(k.j.keyAvailability,this.current),C.a.categoryWrapper.resetCategory(),this.props.parent.refresh(),this.setState({status:I.EComponentState.visible})}},{key:"validate",value:function(){for(var e=E.d.getControls(t.containerId,"oe-control"),n=0;n<e.length;n++){var a=document.getElementById(e[n].id);if(!C.a.FindReact(a).validate(void 0,!0))return!1}return!0}},{key:"onStart",value:function(){var e=this;this.validate()&&C.a.easyApp.checkDefCon()&&(this.process={steps:[]},this.apiState=Se.a.inprocessTimer,this.api=void 0,this.current=S.a.resetAvailability(this.current.address,I.ERequestStatus.running),C.a.hub.send(JSON.stringify(this.current),I.ERequestType.checkAvailability,void 0),this.setState({status:I.EComponentState.processing},function(){C.a.GetComponent(e.timerId).resetTimer()}))}}]),t}(u.Component);xe.containerId="availability";var Pe=xe,De=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(o.a)(t).call(this,e))).state={changed:!1},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState(e)}},{key:"render",value:function(){var e={title:_.h.portingInformation,transparent:!1},t=this.props.parent.current?this.props.parent.current:new I.IActivation(this.props.parent.selectedBrand);return u.createElement(h.a,{config:e},u.createElement(d.a,null,u.createElement(p.a,null,u.createElement(m.a,{xs:12,md:12},u.createElement(ee.a,{text:_.k.mnpDate}))),this.props.parent.current&&this.props.parent.current.brandKey===k.b.kabel?u.createElement(p.a,null,u.createElement(m.a,{xs:6,md:6,className:"np"},u.createElement(P.l,{onChange:this.props.onChange,checked:t.portationType===y.j.asap,type:y.d.radio,name:"portationType",id:"portationType_1",label:_.k.mnpCable1})),u.createElement(m.a,{xs:6,md:6,className:"np"},u.createElement(P.l,{onChange:this.props.onChange,checked:t.portationType===y.j.contractEnd,type:y.d.radio,name:"portationType",id:"portationType_2",label:_.k.mnpCable2})),u.createElement(m.a,{xs:6,md:6,className:"np"},u.createElement(P.l,{onChange:this.props.onChange,checked:t.portationType===y.j.custom,type:y.d.radio,name:"portationType",id:"portationType_3",label:_.k.mnpCable4})),u.createElement(m.a,{xs:6,md:6,className:"np"},u.createElement(P.l,{onChange:this.props.onChange,checked:t.portationType===y.j.date,type:y.d.radio,name:"portationType",id:"portationType_4",label:_.k.mnpCable3}))):null,!this.props.parent.current||this.props.parent.current.brandKey!==k.b.otelo&&this.props.parent.current.brandKey!==k.b.vodafone?null:u.createElement(p.a,null,u.createElement(m.a,{xs:4,md:4,className:"np"},u.createElement(P.l,{onChange:this.props.onChange,checked:t.portationType===y.j.asap,type:y.d.radio,name:"portationType",id:"portationType_1",label:_.k.mnp1})),u.createElement(m.a,{xs:4,md:4,className:"npr"},u.createElement(P.l,{onChange:this.props.onChange,checked:t.portationType===y.j.contractEnd,type:y.d.radio,name:"portationType",id:"portationType_2",label:_.k.mnp2})),this.props.parent.current&&this.props.parent.current.brandKey===k.b.vodafone?u.createElement(m.a,{xs:4,md:4,className:"npr"},u.createElement(P.l,{onChange:this.props.onChange,checked:t.portationType===y.j.custom,type:y.d.radio,name:"portationType",id:"portationType_3",label:_.k.mnp3})):null),t.portationType===y.j.custom?u.createElement(p.a,null,u.createElement(m.a,{xs:8,md:8,className:"np"},u.createElement(P.m,{onChange:this.props.onChange,value:t.portationDate,datePicker:!0,type:z.b.fixedStart,from:C.a.dateOnly(C.a.addDays(new Date,0)),to:C.a.dateOnly(C.a.addDays(new Date,720)),name:"portationDate",id:"portationDate",title:_.h.date}))):null,t.brandKey===k.b.vodafone&&t.portationType===y.j.contractEnd?u.createElement(p.a,null,u.createElement(m.a,{xs:8,md:8,className:"np"},u.createElement(P.m,{onChange:this.props.onChange,value:t.portationDate,datePicker:!0,type:z.b.fixedStart,from:C.a.dateOnly(C.a.addDays(new Date,0)),to:C.a.dateOnly(C.a.addDays(new Date,720)),name:"portationDate",id:"portationDate",title:_.h.contractEndDate}))):null),u.createElement(v.a,null))}}]),t}(u.Component);n.d(t,"a",function(){return D}),n.d(t,"l",function(){return Y}),n.d(t,"k",function(){return ne}),n.d(t,"h",function(){return ae}),n.d(t,"g",function(){return me}),n.d(t,"f",function(){return he}),n.d(t,"j",function(){return ve}),n.d(t,"m",function(){return be}),n.d(t,"n",function(){return ye}),n.d(t,"d",function(){return ge}),n.d(t,"c",function(){return Oe}),n.d(t,"b",function(){return Pe}),n.d(t,"i",function(){return J}),n.d(t,"e",function(){return De})},37:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a,r=n(10),i=n(11),s=n(14),o=n(12),c=n(15),l=n(7),u=n(0),d=n(3);!function(e){e[e[void 0]=0]="undefined",e[e.inprocess=1]="inprocess",e[e.done=2]="done",e[e.failed=4]="failed",e[e.inprocessTimer=8]="inprocessTimer",e[e.warning=16]="warning"}(a||(a={}));var p=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(o.a)(t).call(this,e))).counter=void 0,n.counterDefault=99,n.state={status:n.props.status,changed:!1},n.counterDefault=t.defaultTimer,n.timerTick=n.timerTick.bind(Object(l.a)(Object(l.a)(n))),n.timerCompleted=n.timerCompleted.bind(Object(l.a)(Object(l.a)(n))),n.counter=n.props.counter?n.props.counter:n.counterDefault,n.state.status,a.inprocessTimer,n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.counter&&(this.counter=99),this.setState({status:e.status})}},{key:"render",value:function(){var e="statusbox print-hide st"+(this.state.status==a.inprocessTimer?a.inprocess:this.state.status);return u.createElement("div",{id:this.props.id},u.createElement("div",{className:e,style:{background:"url()"}},u.createElement("div",{className:"icon"})))}},{key:"resetTimer",value:function(){this.counter=this.counterDefault,this.setState({changed:!0})}},{key:"renderTimer",value:function(){var e=2.6*(t.defaultTimer-this.counter);this.counter,this.counter;return u.createElement(u.Fragment,null,u.createElement(d.p,{count:this.counter,step:5,completed:this.timerCompleted,showUI:!1,autoRestart:this.props.autoRestart,tickCallback:this.timerTick,stepCallback:this.props.stepCallback}))}},{key:"timerCompleted",value:function(){this.props.completedCallback&&this.props.completedCallback()}},{key:"timerTick",value:function(e){this.props.autoRestart&&this.counter<=2&&(this.counter=this.counterDefault),this.counter--,this.setState({changed:!0}),this.props.tickCallback&&this.props.tickCallback()}}]),t}(u.Component);p.defaultTimer=99,t.b=p},39:function(e,t,n){"use strict";var a=n(256);n.o(a,"EApiResponseStatus")&&n.d(t,"EApiResponseStatus",function(){return a.EApiResponseStatus}),n.o(a,"ERAPIAction")&&n.d(t,"ERAPIAction",function(){return a.ERAPIAction});var r=n(158);n.d(t,"ERAPIAction",function(){return r.a});var i=n(257);n.o(i,"EApiResponseStatus")&&n.d(t,"EApiResponseStatus",function(){return i.EApiResponseStatus});n(258);var s=n(259);n.d(t,"EApiResponseStatus",function(){return s.a});n(260)},4:function(e,t,n){"use strict";n.d(t,"j",function(){return r}),n.d(t,"k",function(){return i}),n.d(t,"h",function(){return s}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return c}),n.d(t,"d",function(){return l}),n.d(t,"i",function(){return u}),n.d(t,"l",function(){return d}),n.d(t,"f",function(){return p}),n.d(t,"g",function(){return h}),n.d(t,"a",function(){return v}),n.d(t,"e",function(){return f});var a=n(10),r=function e(){Object(a.a)(this,e)};r.keyUser="usr",r.keyBrands="bra",r.keySupport="sup",r.keyCombis="combis",r.keyOrders="ord",r.keyOrdersProducts="ordprd",r.keyApp="app",r.keyDefCon="dc",r.keyAvailability="avl",r.keyTheme="theme";var i=function e(){Object(a.a)(this,e)};i.light="theme-light",i.dark="theme-dark";var s=function e(){Object(a.a)(this,e)};s.brandCats=[{key:"vf",text:"Vodafone"},{key:"otelo",text:"Otelo"},{key:"fn",text:"Festnetz"},{key:"tv",text:"TV"}];var o=function e(){Object(a.a)(this,e)};o.vodafone="vf",o.otelo="otelo",o.kabel="kabel",o.dsl="dsl",o.unity="unity";var c=function e(){Object(a.a)(this,e)};c.vodafone="vf",c.otelo="otelo",c.fn="fn",c.tv="tv",c.tv_fn="tv_fn";var l=function e(){Object(a.a)(this,e)};l.devices="Devices",l.options="Optionen",l.user="user",l.no="no",l.current="cur";var u=function e(){Object(a.a)(this,e)};u.Auftragsmanager="Auftragsmanager",u.Backoffice="Backoffice",u.CMSAdministrator="CMSAdministrator",u.CMSBearbeiter="CMSBearbeiter",u.E3_Backoffice="E3_Backoffice",u.E3_EPM="E3_EPM",u.E3_User="E3_User",u.E3_UserForNewEmployee="Vodafone - Easy",u.Hotline="Hotline",u.Stornofreigabe="Stornofreigabe",u.IdentityServerAdministrators="IdentityServerAdministrators",u.IdentityServerDevelopers="IdentityServerDevelopers",u.IdentityServerUsers="IdentityServerUsers",u.PortalAdministrator="PortalAdministrator",u.PortalTester="PortalTester",u.PortalUser="PortalUser",u.VodafoneSMS="VodafoneSMS",u.XTND_Druckshop="XTND_Druckshop",u.XTND_Kampagnen="XTND_Kampagnen",u.XTND_Nutzerverwaltung="XTND_Nutzerverwaltung",u.XTND_Produktbestellung="XTND_Produktbestellung",u.XTND_Provisionen="XTND_Provisionen",u.XTND_Provisionssimulation="XTND_Provisionssimulation",u.XTND_Reporting="XTND_Reporting",u.XTND_ShopManager="XTND_ShopManager";var d=function e(){Object(a.a)(this,e)};d.Hotline="Hotline",d.Hauptabteilungsleiter="Hauptabteilungsleiter",d.Backoffice="Backoffice",d.Vertriebsleiter="Vertriebsleiter",d.Vertriebsbeauftragter="Vertriebsbeauftragter",d.Niederlassungsleiter="Niederlassungsleiter",d.Niederlassungssupport="Niederlassungssupport";var p=function e(){Object(a.a)(this,e)};p.form="form",p.api="api";var m=function e(){Object(a.a)(this,e)};m.brand="brand",m.product="product",m.id="id";var h=function e(){Object(a.a)(this,e)};h.post="POST",h.get="GET";var v=function e(){Object(a.a)(this,e)};v.app="app",v.container="container";var f=function e(){Object(a.a)(this,e)};f.currencyUnit="\u20ac",f.listSeparator=";"},41:function(e,t,n){"use strict";var a=n(11),r=n(10),i=function e(t,n,a){Object(r.a)(this,e),this.key="",this.value="",this.path="",this.key=t,this.value=n,this.path=a},s=function(){function e(){Object(r.a)(this,e),this.errors=[],this.specialCase=!1,this.errorMessage=""}return Object(a.a)(e,[{key:"add",value:function(e){this.errors.push(e)}},{key:"addValues",value:function(e,t,n){this.add(new i(e,t,n))}},{key:"isValid",value:function(){return!(this.errors.length>0)&&""===this.errorMessage}},{key:"reset",value:function(){this.errors=[],this.errorMessage=""}}]),e}(),o=n(9),c=n.n(o),l=n(5),u=n(4),d=n(1),p=n(13),m=function(){function e(){Object(r.a)(this,e)}return Object(a.a)(e,[{key:"validate",value:function(e,t,n){e.productId?this.validateServiceGroups(e,t,n)&&(e.sub&&""!==e.sub||e.creditDebitType!==l.f.postpaid&&(e.activationType!==l.c.existingCustomer||e.brandKey!==u.b.vodafone)||e.isWithHardware()&&(e.brandKey===u.b.dsl?t.errorMessage=d.m.errorHardware:e.brandKey===u.b.kabel?e.hardwareNecesseryAndSelected(void 0)||(t.errorMessage=d.m.errorHardware):t.errorMessage=d.m.errorSub),e.brandKey!==u.b.vodafone||e.msisdn||(t.errorMessage=d.m.errorSim),e.brandKey!==u.b.vodafone||e.activationType!==l.c.actDefault||this.validateSim(e.msisdn)||(t.errorMessage=d.m.errorSimNumeric14),e.activationType!==l.c.portDefault||this.validateRequired(e.msisdn)||e.brandKey===u.b.unity||(t.errorMessage=d.m.requiredError+e.msisdn),e.activationType!==l.c.portDefault||this.validateNumeric(e.msisdn)||e.brandKey===u.b.unity||(t.errorMessage=d.m.errorMsisdnNumeric+e.msisdn,n&&e.brandKey===u.b.kabel&&n.customer.mnp&&n.customer.mnp.numberPortingType==l.o.later&&(t.errorMessage="")),e.activationType===l.c.actDefault&&e.imei&&!this.validateNumeric(e.imei)&&(t.errorMessage=d.m.errorImeiNumeric),e.activationType!==l.c.existingCustomer||"OS"==e.sub||e.brandKey!==u.b.vodafone||e.imei||(t.errorMessage=d.m.errorImei),e.imei&&15!=e.imei.length&&(t.errorMessage=d.m.errorImei15),e.brandKey===u.b.otelo&&((e.msisdn&&e.code||e.activationType!==l.c.actDefault)&&(e.msisdn||e.activationType!==l.c.portDefault)||(t.errorMessage=d.m.errorMsisndCode))):t.errorMessage=d.m.errorProd}},{key:"validateRequired",value:function(e){var t=!0;if(e.indexOf(";")>0){for(var n=e.split(";"),a=[],r=0;r<n.length;r++)if(""===(a=n[r].split("-"))[0]||""===a[1]){t=!1;break}}else{var i=e.split("-");""!==i[0]&&""!==i[1]||(t=!1)}return t}},{key:"validateSim",value:function(e){return new RegExp("\\b\\d{14}\\b","g").test(e)}},{key:"validateNumeric",value:function(e){var t=!1;if(!(e.indexOf(";")>=0)){var n=new RegExp("\\b\\d+\\b","g").test(e);return t=n,n}for(var a=e.split(";"),r=0;r<a.length;r++){var i=a[r].split("-"),s=new RegExp("\\b\\d+\\b","g").test(i[0]+i[1]);if(t=s,!s){t=s;break}}return t}},{key:"validateServiceGroups",value:function(e,t,n){var a=p.a.getBrand(e.brandKey);if(a.serviceGroups)for(var r=o.from(a.serviceGroups).where(function(t){return t.productId===e.productId&&t.subId===e.sub&&t.activationType===e.activationType}).toArray(),i=function(n){var i=r[n];if(i.type===l.z.oneMandatory&&0===o.from(e.services).where(function(e){return i.services.indexOf(e)>=0}).toArray().length){var s=o.from(a.services).where(function(e){return i.services.indexOf(e.id)>=0}).select(function(e){return e.name}).toArray(),c=d.m.errorOneMandatoryOption.replace("{0}",s.join(", "));return t.errorMessage=c,{v:!1}}},s=0;s<r.length;s++){var c=i(s);if("object"===typeof c)return c.v}return!0}}]),e}(),h=n(14),v=n(92),f=n(12),b=n(15),y=n(8),g=n(2),E=function(e){function t(){return Object(r.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(a.a)(t,[{key:"validateOrder",value:function(e,n,a){if(Object(v.a)(Object(f.a)(t.prototype),"validate",this).call(this,e,n,a),!e.imei){var r=p.a.getBrand(u.b.vodafone),i=o.from(r.subs).where(function(t){return t.id==e.sub}).firstOrDefault();i&&g.OrderDataWrapper.subHasOption(i,l.w.ImeiRequired)&&(n.errorMessage=d.m.errorImei)}e.msisdn&&""!==e.msisdn||n.addValues("msisdn",d.m.requiredError,y.a.getPropertyPath("msisdn",e))}}]),t}(m),k=function(e){function t(){return Object(r.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(a.a)(t,[{key:"validateOrder",value:function(e,n,a){Object(v.a)(Object(f.a)(t.prototype),"validate",this).call(this,e,n,a)}}]),t}(m),C=function(e){function t(){return Object(r.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(a.a)(t,[{key:"validateOrder",value:function(e,n,a){Object(v.a)(Object(f.a)(t.prototype),"validate",this).call(this,e,n,a),e.activationType===l.c.portDefault&&a&&a.customer.mnp&&a.customer.mnp.numberPortingType===l.o.multiple&&e.services.indexOf("svc_dsl_comfort")<0&&(n.errorMessage=d.m.multipleDslComfortError,n.specialCase=!0)}}]),t}(m),_=function(e){function t(){return Object(r.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(a.a)(t,[{key:"validateOrder",value:function(e,n,a){Object(v.a)(Object(f.a)(t.prototype),"validate",this).call(this,e,n,a);for(var r=w.getControls("container-main","optiongroup"),i=0;i<r.length;i++){if(!y.a.FindReact(r[i]).validate()){y.a.FocusComponent("hardwareSelection"),n.errorMessage=d.m.errorOption;break}}e.services.indexOf("kip-aio-marker")>=0&&e.services.indexOf("kip-aio-marker/mobile-euro-flat")<0&&e.services.indexOf("kip-aio-marker/mobile-international-flat")<0&&e.services.indexOf("kip-aio-marker/mobile-international-allnet-flat")<0&&(n.errorMessage="Einer der Optionen ('Mobile & Euro-Flat', 'Mobile & International-Flat' oder 'Mobile & International-Allnet-Flat') muss ausgew\xe4hlt sein."),e.cart.length>0&&(n.errorMessage=d.m.errorCart)}}]),t}(m),O=function(e){function t(){return Object(r.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(a.a)(t,[{key:"validateOrder",value:function(e,n,a){Object(v.a)(Object(f.a)(t.prototype),"validate",this).call(this,e,n,a),e.activationType,l.c.portDefault}}]),t}(m),S=function(){function e(){Object(r.a)(this,e)}return Object(a.a)(e,null,[{key:"validateFormular",value:function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=document;a&&(i=document.getElementById(a)),t&&t.data&&t.data.customer&&t.data.customer&&t.data.customer.payment&&t.data.customer.payment.iban&&(t.data.customer.payment.iban=t.data.customer.payment.iban.replace(/ /g,""));var s=i.getElementsByClassName(e.controlSelector);return e.validateControls(s,t,n,r)}},{key:"resetFormular",value:function(t){for(var n=e.getControls(t,e.controlSelector),a=0;a<n.length;a++)if(n[a].id){var r=document.getElementById(n[a].id);y.a.FindReact(r).setError("")}}},{key:"getControls",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=document;return e&&(n=document.getElementById(e)),n.getElementsByClassName(t)}},{key:"validateControls",value:function(t,n,a,r){for(var i,s=p.a.getSupport(),o=function(o){if(!t[o].id)return"continue";var l=document.getElementById(t[o].id),d=y.a.FindReact(l);if(d.props.isChild)return"continue";if(d.props.disabled)return"continue";if((u=c.a.from(s.fields).where(function(e){return e.key==d.getKey()}).firstOrDefault())&&n&&e.applyFieldConfig(n,u,d),r&&0==d.getValidationOptions().length){var p=c.a.from(r).where(function(e){return e.id==d.getId()}).firstOrDefault();p&&d.setValidationOptions(p.options)}d.validate(u,a)||i||(i=d.getId())},l=0;l<t.length;l++){var u;o(l)}if(i){var d=document.getElementById("oec"+i);return d&&d.scrollIntoView({block:"center",inline:"center"}),(d=document.getElementById(i))&&d.scrollIntoView({block:"center",inline:"center"}),!1}return!0}},{key:"applyFieldConfig",value:function(e,t,n){for(var a=[],r=0;r<t.config.length;r++)if(e.hasBrand(t.config[r].brand)){var i=!1,s=t.config[r].creditDebitType,o=t.config[r].activation;o===l.c.partnerCard?o=l.c.actDefault:o===l.c.partnerCardPortation&&(o=l.c.portDefault),s===l.f.postpaid&&e.inPostpaid&&o===l.c.actDefault&&e.inActDefault?i=!0:s===l.f.prepaid&&e.inPrepaid&&o===l.c.actDefault&&e.inActDefault?i=!0:s===l.f.postpaid&&e.inPostpaid&&o===l.c.portDefault&&e.inActMnp?i=!0:s===l.f.prepaid&&e.inPrepaid&&o===l.c.portDefault&&e.inActMnp?i=!0:s===l.f.postpaid&&e.inPostpaid&&o===l.c.cdChange&&e.inCdChange&&(i=!0),i&&a.push(t.config[r])}t.config.length>0&&0===a.length?n.hideShow(!0):n.hideShow(!1),t.config=a}},{key:"startActivationValidation",value:function(e,t){var n=new s;if(t.getPortationCount()>1)n.errorMessage=d.m.errorPortationCount;else if(e.brandKey===u.b.vodafone)(new E).validateOrder(e,n,void 0);else if(e.brandKey===u.b.otelo){(new k).validateOrder(e,n,void 0)}else if(e.brandKey===u.b.dsl){(new C).validateOrder(e,n,t.data)}else if(e.brandKey===u.b.kabel){(new _).validateOrder(e,n,t.data)}else if(e.brandKey===u.b.unity){(new O).validateOrder(e,n,t.data)}return n}},{key:"startExistingProcessValidation",value:function(e){var t=new s;if((e=g.OrderDataWrapper.ensureActivationIsObject(e)).brandKey===u.b.vodafone)(new E).validateOrder(e,t,void 0);else if(e.brandKey===u.b.otelo){(new k).validateOrder(e,t,void 0)}else if(e.brandKey===u.b.dsl){(new C).validateOrder(e,t,void 0)}else if(e.brandKey===u.b.kabel){(new _).validateOrder(e,t,void 0)}return t}},{key:"getErrorFromState",value:function(e,t){if(e){var n=c.a.from(e.errors).where(function(e){return e.key==t}).firstOrDefault();return n?n.value:void 0}}}]),e}();S.controlSelector="oe-control";var w=S;function x(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){o=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw i}}}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var D=function(){function e(){Object(r.a)(this,e)}return Object(a.a)(e,null,[{key:"checkVisibility",value:function(e,t){var n=c.a.from(this.config).where(function(t){return t.name===e}).firstOrDefault();if(!n)return!0;var a,r=x(t.data.activations);try{for(r.s();!(a=r.n()).done;){var i=a.value;if(n.brands.indexOf(i.brandKey)>=0)return!0}}catch(s){r.e(s)}finally{r.f()}return!1}}]),e}();D.config=[{name:"nationality",brands:[u.b.otelo],activationTypes:[l.c.actDefault]},{name:"firstname",brands:[u.b.otelo,u.b.dsl,u.b.kabel,u.b.vodafone],activationTypes:[l.c.actDefault]}];n.d(t,"a",function(){return s}),n.d(t,"b",function(){return m}),n.d(t,"c",function(){return E}),n.d(t,"d",function(){return w})},43:function(e,t,n){"use strict";var a=n(10),r=n(11),i=n(14),s=n(12),o=n(15),c=n(7),l=n(0),u=n(59),d=n(8),p=n(101),m=n(1),h=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e)))._onClick=n._onClick.bind(Object(c.a)(Object(c.a)(n))),n.state={selected:n.props.selected},n}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({selected:e.selected})}},{key:"render",value:function(){var e=this,t="thumb thumb-tariff "+(this.props.styleBrand?this.props.brandKey:"");t+=this.props.cssStyle?this.props.cssStyle:"",this.state.selected&&(t+=" selected");var n=d.a.getUniqueId(),a={type:p.a.html,body:"",style:""};try{a=this.props.tooltip&&this.props.tooltip.indexOf("{")>=0?this.props.tooltip?JSON.parse(this.props.tooltip):{}:this.props.tooltip?{type:p.a.formated,body:this.props.tooltip,style:""}:{type:p.a.html,body:m.g.noMoreInfo,style:""}}catch(r){}return l.createElement(l.Fragment,null,a&&a.body?l.createElement(u.a,{place:"top",type:"light",effect:"solid",id:"tt"+n},l.createElement("div",{dangerouslySetInnerHTML:{__html:a.body}})):l.createElement(l.Fragment,null),l.createElement("div",{className:t,onClick:this._onClick,"data-tip":this.props.tooltip,"data-for":"tt"+n},l.createElement("span",{className:"text"},this.props.text),this.props.action?l.createElement("div",{className:"action",onClick:function(t){e.props.action&&(e.props.action.onClick(e),t.preventDefault())}},this.props.action.text):null))}},{key:"_onClick",value:function(){this.props.onClick&&(this.props.clickModel?this.props.onClick(this.props.clickModel):this.props.onClick(this.props.id))}}]),t}(l.Component);t.a=h},44:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return r});var a,r,i=n(10),s=n(11),o=n(14),c=n(12),l=n(15),u=n(7),d=n(0),p=n(58);!function(e){e.blister="blister",e.square="square",e.squareSmall="squareSmall"}(a||(a={})),function(e){e[e[void 0]=0]="undefined",e[e.active=1]="active",e[e.inactive=2]="inactive",e[e.selected=4]="selected",e[e.static=8]="static",e[e.loading=16]="loading"}(r||(r={}));var m=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(o.a)(this,Object(c.a)(t).call(this,e)))._onClick=n._onClick.bind(Object(u.a)(Object(u.a)(n))),n.state={status:n.props.status},n}return Object(l.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState(e)}},{key:"render",value:function(){var e="thumb-inner "+this.props.item.id;this.props.multiBasketId&&(e="thumb-inner "+this.props.multiBasketId),0!=(this.state.status&r.selected)&&(e+=" selected"),0!=(this.state.status&r.inactive)&&(e+=" inactive"),0!=(this.state.status&r.static)&&(e+=" static"),0!=(this.state.status&r.loading)&&(e+=" loading");var t="thumb thumb-brand-"+this.props.type.toString()+" "+(this.props.item?this.props.item.css:""),n="info "+(this.props.item?this.props.item.css:"");return d.createElement("div",{key:this.props.ckey,className:t,onClick:this._onClick},d.createElement("div",{className:e}),this.props.item&&this.props.type===a.blister&&!this.props.withoutInfo?d.createElement("div",{className:n},d.createElement("span",null,this.props.item.text)):null,this.props.activationStatus&&this.props.activationStatus===p.a.activationDone?d.createElement("div",{className:"markok"}):null)}},{key:"_onClick",value:function(){0==(this.state.status&r.inactive)&&this.props.onClick&&this.props.onClick(this.props.item.id)}}]),t}(d.Component);t.c=m},45:function(e,t,n){"use strict";var a=n(10),r=n(11),i=n(14),s=n(12),o=n(15),c=n(7),l=n(0),u=n(59),d=n(101),p=n(6),m=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e)))._onClick=n._onClick.bind(Object(c.a)(Object(c.a)(n))),n.state={status:n.props.status?n.props.status:p.i.normal},n}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.type?this.props.type:p.h.normal;return e===p.h.normal?this.renderNormal():e===p.h.icon?this.renderIcon():e===p.h.buttonWithIconRight?this.renderButtonIcon():e===p.h.iconImage?this.renderImageIcon():e===p.h.textWithIconLeft?this.renderTextIcon():e===p.h.linkWithIconLeft||e===p.h.linkWithIconRight?this.renderLinkIcon():e===p.h.linkSimple?this.renderLinkIcon():e===p.h.linkPanel?this.renderLink():l.createElement(l.Fragment,null)}},{key:"renderIcon",value:function(){var e="bicon";this.props.status===p.i.selected?e+=" selected":this.props.status===p.i.disabled?e+=" disabled":this.props.status===p.i.ready&&(e+=" ready"),this.props.inline&&(e+=" inline");var t="icon "+this.props.icon;return l.createElement("div",{className:e},l.createElement("div",{className:t}),l.createElement("div",{className:"text"},this.props.text))}},{key:"renderLink",value:function(){var e="link";return this.props.css&&(e+=" "+this.props.css),l.createElement("button",{className:e,onClick:this._onClick},l.createElement("div",{className:"text"},this.props.text))}},{key:"renderLinkIcon",value:function(){var e="licon";this.props.status===p.i.selected?e+=" selected":this.props.status===p.i.disabled&&(e+=" disabled"),this.props.css&&(e+=" "+this.props.css),this.props.type===p.h.linkSimple&&(e+=" noicon");var t="icon "+this.props.icon,n=(this.props.icon,{type:d.a.html,body:this.props.tooltip,style:""});return l.createElement("div",null,l.createElement(u.a,{place:"top",type:"light",effect:"solid",id:this.props.id},l.createElement("div",{dangerouslySetInnerHTML:{__html:n.body}})),l.createElement("button",{className:e,onClick:this._onClick,"data-tip":this.props.tooltip,"data-for":this.props.id},this.props.type===p.h.linkWithIconLeft?l.createElement(l.Fragment,null,l.createElement("div",{className:"text"},this.props.text),l.createElement("div",{className:t})):null,this.props.type===p.h.linkWithIconRight?l.createElement(l.Fragment,null,l.createElement("div",{className:t+""}),l.createElement("div",{className:"text"},this.props.text)):null,this.props.type===p.h.linkSimple?l.createElement("div",{className:"text"},this.props.text):null))}},{key:"renderTextIcon",value:function(){var e="ticon";this.props.status===p.i.selected?e+=" selected":this.props.status===p.i.disabled&&(e+=" disabled"),this.props.css&&(e+=" "+this.props.css);var t="icon "+this.props.icon;this.props.icon;return l.createElement("button",{className:e,onClick:this._onClick},l.createElement("div",{className:"text"},this.props.text),l.createElement("div",{className:t}))}},{key:"renderButtonIcon",value:function(){var e="aicon";this.props.status===p.i.selected?e+=" selected":this.props.status===p.i.disabled&&(e+=" disabled"),this.props.css&&(e+=" "+this.props.css);var t="icon "+this.props.icon;return l.createElement("button",{className:e,onClick:this._onClick,id:this.props.id},l.createElement("div",{className:"text "+this.props.cssText,dangerouslySetInnerHTML:{__html:this.props.text||""}}),l.createElement("div",{className:t}))}},{key:"renderNormal",value:function(){var e="";return this.props.status===p.i.selected?e+=" selected":this.props.status===p.i.disabled&&(e+=" disabled"),l.createElement("button",{className:e,onClick:this._onClick,id:this.props.id},this.props.text)}},{key:"renderImageIcon",value:function(){var e="icon iicon red "+this.props.icon;return this.props.css&&(e+=" "+this.props.css),l.createElement("div",{className:e,onClick:this._onClick,id:this.props.id})}},{key:"_onClick",value:function(e){this.props.css&&this.props.css.indexOf("disabled")>=0||(this.props.onClickEvent&&this.props.onClickEvent(e,this.props.clickModel),this.props.onClick&&this.props.onClick(this.props.clickModel))}}]),t}(l.Component);t.a=m},49:function(e,t,n){"use strict";n.d(t,"d",function(){return a}),n.d(t,"f",function(){return h}),n.d(t,"e",function(){return p}),n.d(t,"c",function(){return m}),n.d(t,"b",function(){return f}),n.d(t,"a",function(){return b});var a,r=n(10),i=n(11),s=n(9),o=n(4),c=n(8),l=n(13),u=n(2),d=n(6);!function(e){e[e[void 0]=0]="undefined",e[e.product=1]="product",e[e.sub=2]="sub",e[e.service=3]="service"}(a||(a={}));var p,m,h=function(){function e(t,n,i){Object(r.a)(this,e),this.brand="",this.id="",this.type=a.product,this.prices=[],this.price=void 0,this.id=t,this.brand=n,this.type=i}return Object(i.a)(e,[{key:"getMonthlyFee",value:function(){var e=c.a.getEmptyFee();if(this.prices&&this.prices.length)if(this.brand==o.b.kabel){var t=s.from(this.prices).where(function(e){return e.billingFrequency==v.monthly&&!e.periodEnd}).firstOrDefault();t&&(e.price=100*t.amount)}else this.brand==o.b.unity&&(e=this.price);else this.brand==o.b.unity&&this.price&&(e={price:Number.parseInt(this.price.toString()),unit:o.e.currencyUnit});return e}},{key:"getActivationFee",value:function(){var e=c.a.getEmptyFee();if(this.prices&&this.prices.length)if(this.brand==o.b.kabel){var t=s.from(this.prices).where(function(e){return e.billingFrequency==v.once}).firstOrDefault();t&&(e.price=100*t.amount)}else this.brand==o.b.unity&&(e=this.price);return e}}],[{key:"createInstance",value:function(t,n,a,r){var i=new e(t,n,r);return a&&(a.prices?i.prices=a.prices:a.price&&(i.price=a.price)),i}}]),e}(),v=function e(){Object(r.a)(this,e)};v.monthly="MONTHLY",v.once="ONCE",function(e){e[e[void 0]=0]="undefined",e[e.mandatory=1]="mandatory",e[e.selectable=2]="selectable",e[e.optional=4]="optional",e[e.selectedMandatory=8]="selectedMandatory",e[e.children=16]="children",e[e.childrenSelected=32]="childrenSelected"}(p||(p={})),function(e){e[e[void 0]=0]="undefined",e[e.ok=1]="ok",e[e.remove=2]="remove",e[e.add=4]="add"}(m||(m={}));var f=function(){function e(t){Object(r.a)(this,e),this.products=[],this.avlBrand=void 0,this.avlBrand=s.from(t.brands).first(function(e){return e.key==o.b.kabel})}return Object(i.a)(e,[{key:"applyChanges",value:function(e){var t=this,n=[],a=e.selection;a.children.length>0&&a.children.map(function(e){var a=s.from(t.products).where(function(t){return t.productId==e.id}).firstOrDefault();a||(a=s.from(t.avlBrand.products).where(function(t){return t.productId==e.id}).first(),a=b.ensure(a)),a.init(e.toArray(!1,void 0)),n.push(a)}),this.products=n,this.applyAutoSelection(e)}},{key:"getExcludes",value:function(){this.products.map(function(e){})}},{key:"applyAutoSelection",value:function(e){var t=this;e.selection.children.map(function(e){var n=s.from(t.products).where(function(t){return t.productId==e.id}).first();t.applyElements(e,n.elements)})}},{key:"applyElements",value:function(e,t){var n=this;e.children.map(function(e){var a=s.from(t).where(function(t){return t.metaname==e.id}).firstOrDefault();a&&(a.selected=o.d.user,a.elements&&n.applyElements(e,a.elements))})}},{key:"init",value:function(e,t){this.products.map(function(n){t&&t!=n.productId||(t&&n.reset(void 0),n.init(e.selection.toArray(!1,t)))})}},{key:"prepareElements",value:function(e,t){var n=[];return this.products.map(function(a){var r=[];a.prepareElements(e,r,1,t,[a.productId],void 0),r.map(function(e){n.push(e)})}),n}},{key:"prepare",value:function(){this.products.map(function(e){e.prepare()})}},{key:"reset",value:function(){this.products.map(function(e){e.reset(void 0)})}},{key:"validateAvailability",value:function(e,t){var n=[];return this.products.map(function(a){a=s.from(t.products).where(function(e){return e.productId==a.productId}).first();var r=(a=b.ensure(a)).validateAvailability(e,t);n=n.concat(r)}),n}},{key:"getElement",value:function(e,t){return s.from(this.products).first(function(t){return t.productId==e}).getElement(t)}},{key:"getMandatory",value:function(e){return s.from(this.products).first(function(t){return t.productId==e}).getMandatory()}},{key:"getMandatoryForElement",value:function(e,t){return s.from(this.products).first(function(t){return t.productId==e}).getMandatoryForElement(t)}},{key:"inout",value:function(e,t,n){s.from(this.products).first(function(t){return t.productId==e}).inout(t,n)}}],[{key:"ensure",value:function(t,n){var a=Object.assign(new e(n),t);return a.products=[],t.products.map(function(e){a.products.push(b.ensure(e))}),a}}]),e}(),b=function(){function e(){Object(r.a)(this,e),this.elements=[],this.productId="",this.connectionTypes=[],this.asb="",this.areaCode="",this.offeredAccessTechnology="",this.bandwidth="",this.hasComfort=!1,this.speed=0,this.speedText="",this.dropedServices=["kas-an-opt","tv-connect"],this.price=void 0,this.exc=[],this.subs=[],this.br=l.a.getBrand(o.b.kabel)}return Object(i.a)(e,[{key:"getService",value:function(e,t){var n=t;n||(n=this.elements);for(var a=0;a<n.length;a++){if(n[a].metaname==e)return n[a];if(n[a].elements&&n[a].elements.length>0)if(this.getService(e,n[a].elements))return}}},{key:"getServices",value:function(){return this.elements?s.from(this.elements).where(function(e){return e.type==o.d.devices}).select(function(e){return e.metaname}).toArray():[]}},{key:"init",value:function(e){var t=this,n=[];0==e.length&&this.elements.map(function(e){e.type!=o.d.devices&&e.mandatory&&e.metaname.indexOf("rufnummer")<0&&n.indexOf(e.metaname)<0&&(t.dropedServices.indexOf(e.metaname)<0&&t.inout([e.metaname],!0),n=n.concat(e.excludes))})}},{key:"hasDroppedServices",value:function(){var e=this,t=0;return this.dropedServices.map(function(n){s.from(e.elements).where(function(e){return e.metaname==n}).count()>0&&t++}),t==this.dropedServices.length}},{key:"reset",value:function(e){for(var t=e||this.elements,n=0;n<t.length;n++)t[n].selected=o.d.no,t[n].elements&&this.reset(t[n].elements)}},{key:"inout",value:function(e,t){for(var n=this,a=this.elements,r=function(r){c=s.from(a).where(function(t){return t.metaname==e[r]}).first(),r!=e.length-1?a=c.elements:(c.type==o.d.devices&&(t?n.selectMandatoryForParent(c):n.reset(void 0)),c.selected=t?o.d.user:o.d.no,c.elements&&c.elements.length>0&&!t&&c.elements.map(function(e){e.selected=o.d.no}))},i=0;i<e.length;i++){var c;r(i)}this.prepare()}},{key:"getExcludes",value:function(e,t){var n=this;t.map(function(t){t.excludes&&t.excludes.length>0&&t.selected==o.d.user&&(t.excludes.map(function(t){e.indexOf(t)<0&&e.push(t)}),t.elements&&t.elements.length>0&&t.elements.map(function(t){n.getExcludes(e,t.elements)}))})}},{key:"getElement",value:function(e){for(var t=this.elements,n=function(n){if(r=s.from(t).where(function(t){return t.metaname==e[n]}).firstOrDefault()){if(n==e.length-1)return{v:r};t=r.elements}},a=0;a<e.length;a++){var r,i=n(a);if("object"===typeof i)return i.v}}},{key:"getDevice",value:function(){return s.from(this.elements).where(function(e){return e.type==o.d.devices&&e.selected==o.d.user}).firstOrDefault()}},{key:"appendElements",value:function(e,t){var n=this;s.from(t).where(function(e){return e.selected==o.d.user&&e.type!=o.d.devices}).toArray().map(function(t){var a=e.add(t.metaname);t.elements&&t.elements.length>0&&n.appendElements(a,t.elements)})}},{key:"prepareElements",value:function(e,t,n,a,r,i){var s=this,c=[];(i||this.elements).map(function(i){var l=(new Array).concat(r);l.push(i.metaname);var u=a.findPath(l);if(i.selected=u?o.d.user:o.d.no,e===p.selectable||e===p.children){s.prepareElements(p.selectedMandatory,[],1,a,r,void 0),i.type!=o.d.devices&&i.metaname.indexOf("rufnummer")<0&&s.dropedServices.indexOf(i.metaname)<0&&(e===p.selectable&&s.exc.indexOf(i.metaname)<0?c.push(s.toElementUi(i)):e===p.children&&c.push(s.toElementUi(i)))}else e===p.childrenSelected?i.type!=o.d.devices&&i.metaname.indexOf("rufnummer")<0&&s.dropedServices.indexOf(i.metaname)<0&&((!i.elements||0==i.elements.length)&&n>1?i.selected==o.d.user&&(c.push(s.toElementUi(i)),i.excludes&&i.excludes.length>0&&i.excludes.map(function(e){c.push(s.toElementUiString(e,!1))})):s.prepareElements(e,t,n+1,a,l,i.elements)):e===p.selectedMandatory&&(i.type!=o.d.devices&&i.mandatory&&i.selected==o.d.user&&c.push(s.toElementUi(i)),i.elements&&i.elements.length>0&&s.prepareElements(e,t,n+1,a,r,i.elements))}),c.length>0&&c.map(function(e){t.push(e)})}},{key:"deselectOtherDevices",value:function(){var e=this;this.elements.map(function(t){t.type==o.d.devices&&(t.selected=o.d.no,e.deselectElements(t.elements))})}},{key:"deselectElements",value:function(e){var t=this;e.map(function(e){e.selected=o.d.no,e.elements&&e.elements.length>0&&t.deselectElements(e.elements)})}},{key:"selectMandatoryForParent",value:function(e){var t=this;e.elements&&e.elements.map(function(e){e.mandatory&&t.dropedServices.indexOf(e.metaname)<0&&(e.selected=o.d.user)})}},{key:"getSubs",value:function(){var e=[],t=l.a.getBrand(o.b.kabel),n=s.from(t.subs).select(function(e){return e.id}).toArray();return this.elements.map(function(t){n.indexOf(t.metaname)>=0&&e.push(t.metaname)}),e}},{key:"getMandatory",value:function(){var e=this,t=[];return this.elements.map(function(n){n.mandatory&&n.metaname.indexOf("rufnummer")<0&&n.type==o.d.options&&e.exc.indexOf(n.metaname)<0&&e.dropedServices.indexOf(n.metaname)<0&&t.push(n.metaname)}),t}},{key:"getMandatoryForElement",value:function(e){var t=this,n=[];if(this.elements){var a=s.from(this.elements).where(function(t){return t.metaname==e}).firstOrDefault();a&&a.elements&&a.elements.map(function(e){e.mandatory&&e.type!=o.d.devices&&t.exc.indexOf(e.metaname)<0&&t.dropedServices.indexOf(e.metaname)<0&&n.push(e.metaname)})}return n}},{key:"validateAvailability",value:function(e,t){var n=this,a=[],r=s.from(t.products).where(function(e){return e.productId==n.productId}).firstOrDefault();if(r){var i=e.selection.toArray(!0,this.productId);this.validateElements("",r.elements,a,i)}return a=s.from(a).where(function(e){return e.id.indexOf("rufnummern")<0}).toArray(),s.from(r.elements).where(function(e){return e.type==o.d.devices}).select(function(e){return e.metaname}).toArray().map(function(e){a=s.from(a).where(function(t){return t.id.indexOf(e)<0}).toArray()}),s.from(a).orderBy(function(e){return e.id}).toArray()}},{key:"validateElements",value:function(e,t,n,a){var r=this;t.map(function(t){n.push(r.getElementStatus(e,t,a));var i=(e?e+"/":"")+t.metaname;t.elements&&t.elements.length>0&&r.validateElements(i,t.elements,n,a)})}},{key:"getElementStatus",value:function(e,t,n){var a={status:m.ok,id:this.productId+"/"+(e?e+"/":"")+t.metaname};return this.dropedServices.indexOf(t.metaname)>=0?a.status=m.ok:t.mandatory&&t.available?n.indexOf(a.id)<0&&this.exc.indexOf(a.id)<0&&(a.status=m.add,a.text="Hinzuf\xfcgen: "+this.getUserFriendlyPath(a.id)):!t.mandatory&&t.available?n.indexOf(a.id)>=0&&t.selected==o.d.no?(a.status=m.remove,a.text="Entfernen: "+this.getUserFriendlyPath(a.id)):a.status=m.ok:t.available||n.indexOf(a.id)>=0&&(a.status=m.remove,a.text="Entfernen: "+this.getUserFriendlyPath(a.id)),a.path=this.getFullPath(a.id),a}},{key:"getFullPath",value:function(e){var t=this,n=e.split("/"),a=[];return n.map(function(e){var n=s.from(t.br.services).where(function(t){return t.id==e}).firstOrDefault();if(n)a.push(n.id);else{var r=t.getService(e,void 0);r?a.push(r.metaname):a.push(e)}}),a}},{key:"getUserFriendlyPath",value:function(e){var t=this,n=e.split("/"),a=[];return n.shift(),n.map(function(e){var n=s.from(t.br.services).where(function(t){return t.id==e}).firstOrDefault();if(n)a.push(n.name);else{var r=t.getService(e,void 0);r?"n.a"==r.name?a.push(r.metaname):a.push(r.name):a.push(e)}}),a.join(" \\ ")}},{key:"toElementUi",value:function(e){return{productId:this.productId,metaname:e.metaname,selected:e.selected==o.d.user,sort:e.sort}}},{key:"toElementUiString",value:function(e,t){return{productId:this.productId,metaname:e,selected:t}}},{key:"prepare",value:function(){this.exc=[],this.getExcludes(this.exc,this.elements)}}],[{key:"ensure",value:function(t){return Object.assign(new e,t)}}]),e}(),y=function(){function e(){Object(r.a)(this,e),this.address=new u.Address,this.id="",this.isCrossSelling=!1,this.executed=d.k.undefined,this.brands=[],this.warning="",this.cableServices=[]}return Object(i.a)(e,[{key:"forUI",value:function(){var e="";return this.address&&(e=this.address.street+" "+this.address.nr+", "+this.address.zip+" "+this.address.city),e}},{key:"hasKip",value:function(){var e=s.from(this.brands).where(function(e){return e.key===o.b.kabel}).firstOrDefault();if(e){var t=s.from(e.products).where(function(e){return e.productId.indexOf("kip-")>=0}).toArray();if(t)return t.length>0}return!1}},{key:"getExecuted",value:function(){return this.executed==d.k.done||this.executed==d.k.tempResult}},{key:"hasKabel",value:function(){var e=s.from(this.brands).where(function(e){return e.key==o.b.kabel}).firstOrDefault();return!!(e&&e.products&&e.products.length>0)}},{key:"hasDSL",value:function(){var e=s.from(this.brands).where(function(e){return e.key==o.b.dsl}).firstOrDefault();return!!(e&&e.products&&e.products.length>0)}},{key:"getBrand",value:function(e){var t=s.from(this.brands).where(function(t){return t.key===e}).firstOrDefault();return t||(t={key:e,products:[],data:""}),t}},{key:"getBrandProducts",value:function(e){return this.getBrand(e).products}},{key:"getBrandProductIds",value:function(e){var t=this.getBrand(e).products;return s.from(t).select(function(e){return e.productId}).toArray()}},{key:"getAvailableProducts",value:function(e,t){var n=[],a=l.a.getBrand(e),r=s.from(t.products).select(function(e){return e.productId}).toArray();if(e===o.b.kabel||e===o.b.unity)n=s.from(a.products).where(function(e){return r.indexOf(e.id)>=0}).select(function(e){return e.id}).toArray();else{var i=this.getBrand(e);n=s.from(i.products).select(function(e){return e.productId}).toArray()}return n}},{key:"getProduct",value:function(e,t){var n=this.getBrand(e),a=(e===o.b.kabel||o.b.unity,s.from(n.products).where(function(e){return e.productId===t}).firstOrDefault());return a||(a=new b),a}},{key:"hasRegioOnly",value:function(e,t){var n=this.getBrand(e),a=!1;if(n){var r=s.from(n.products).where(function(e){return e.productId===t}).firstOrDefault();r&&(a=0==s.from(r.connectionTypes).where(function(e){return!e.endsWith("_Regio")}).count())}return a}},{key:"hasBasic",value:function(e,t){var n=this.getBrand(e),a=!1;if(n){var r=s.from(n.products).where(function(e){return e.productId===t}).firstOrDefault();r&&(a=s.from(r.connectionTypes).where(function(e){return e.startsWith("basic")}).count()>0)}return a}},{key:"prepareCableServices",value:function(e,t){var n=this;0==e?(this.cableServices=[],s.from(this.brands).first(function(e){return e.key==o.b.kabel}).products.map(function(t){t.elements&&t.elements.length>0&&n.prepareCableServices(e+1,t.elements)})):t.map(function(t){s.from(n.cableServices).firstOrDefault(function(e){return e.key==t.metaname})||n.cableServices.push({key:t.metaname,text:t.name}),t.elements&&t.elements.length>0&&n.prepareCableServices(e+1,t.elements)})}}],[{key:"oneOfIsAvaialble",value:function(e){var t=!1;return e.map(function(e){e.products&&e.products.length>0&&(t=!0)}),t}},{key:"getProducts",value:function(e){return s.from(e.products).select(function(e){return e.productId}).toArray()}}]),e}();t.g=y},5:function(e,t,n){"use strict";var a,r,i,s,o,c,l,u,d,p,m,h,v,f,b,y,g,E,k,C,_,O,S,w,x,P,D,T;n.d(t,"v",function(){return a}),n.d(t,"u",function(){return r}),n.d(t,"n",function(){return i}),n.d(t,"b",function(){return s}),n.d(t,"f",function(){return o}),n.d(t,"a",function(){return c}),n.d(t,"s",function(){return l}),n.d(t,"q",function(){return u}),n.d(t,"w",function(){return d}),n.d(t,"h",function(){return p}),n.d(t,"c",function(){return m}),n.d(t,"o",function(){return h}),n.d(t,"g",function(){return v}),n.d(t,"e",function(){return f}),n.d(t,"z",function(){return y}),n.d(t,"p",function(){return g}),n.d(t,"t",function(){return k}),n.d(t,"d",function(){return C}),n.d(t,"i",function(){return _}),n.d(t,"x",function(){return O}),n.d(t,"y",function(){return S}),n.d(t,"l",function(){return w}),n.d(t,"j",function(){return x}),n.d(t,"k",function(){return P}),n.d(t,"m",function(){return D}),n.d(t,"r",function(){return T}),function(e){e[e[void 0]=0]="undefined",e[e.option=1]="option",e[e.promotion=2]="promotion",e[e.inclusive=3]="inclusive",e[e.optionVirtual=4]="optionVirtual",e[e.optionBundle=8]="optionBundle"}(a||(a={})),function(e){e[e[void 0]=0]="undefined",e[e.canBeRemoved=1]="canBeRemoved",e[e.notRemovable=2]="notRemovable"}(r||(r={})),function(e){e[e[void 0]=0]="undefined",e[e.standard=1]="standard",e[e.predate=2]="predate"}(i||(i={})),function(e){e[e[void 0]=0]="undefined",e[e.contractMain=1]="contractMain",e[e.contractSecond=2]="contractSecond",e[e.sepa=4]="sepa",e[e.boni=8]="boni"}(s||(s={})),function(e){e[e.undefiend=0]="undefiend",e[e.postpaid=1]="postpaid",e[e.prepaid=2]="prepaid"}(o||(o={})),function(e){e[e[void 0]=0]="undefined",e[e.sameAddress=1]="sameAddress",e[e.differentAddress=2]="differentAddress",e[e.pickUp=3]="pickUp"}(c||(c={})),function(e){e[e[void 0]=0]="undefined",e[e.previousOwner=1]="previousOwner",e[e.noPreviousOwner=2]="noPreviousOwner"}(l||(l={})),function(e){e[e[void 0]=0]="undefined",e[e.iban=1]="iban",e[e.bank=2]="bank",e[e.creditcard=3]="creditcard",e[e.cash=4]="cash"}(u||(u={})),function(e){e[e.Undefined=0]="Undefined",e[e.KeyNecessery=1]="KeyNecessery",e[e.KeyNotNecessery=2]="KeyNotNecessery",e[e.ImeiRequired=4]="ImeiRequired",e[e.ImeiOptional=8]="ImeiOptional"}(d||(d={})),function(e){e[e[void 0]=0]="undefined",e[e.evn=1]="evn",e[e.bill=2]="bill"}(p||(p={})),function(e){e[e[void 0]=0]="undefined",e[e.actDefault=1]="actDefault",e[e.portDefault=2]="portDefault",e[e.portPre=4]="portPre",e[e.existingCustomer=8]="existingCustomer",e[e.partnerCard=16]="partnerCard",e[e.cancellation=32]="cancellation",e[e.bookService=64]="bookService",e[e.cdChange=128]="cdChange",e[e.partnerCardPortation=256]="partnerCardPortation"}(m||(m={})),function(e){e[e[void 0]=0]="undefined",e[e.single=1]="single",e[e.multiple=2]="multiple",e[e.later=3]="later"}(h||(h={})),function(e){e[e[void 0]=0]="undefined",e[e.personal=1]="personal",e[e.soho=2]="soho"}(v||(v={})),function(e){e[e[void 0]=0]="undefined",e[e.bnt=1]="bnt",e[e.vvl=2]="vvl",e[e.tw=4]="tw",e[e.vvltw=8]="vvltw",e[e.login=16]="login",e[e.cancel=32]="cancel",e[e.bookService=64]="bookService",e[e.cdChange=128]="cdChange"}(f||(f={})),function(e){e[e[void 0]=0]="undefined",e[e.options=1]="options",e[e.hardware=2]="hardware",e[e.product=3]="product"}(b||(b={})),function(e){e[e[void 0]=0]="undefined",e[e.oneMandatory=1]="oneMandatory"}(y||(y={})),function(e){e[e.tariff=0]="tariff",e[e.customer=1]="customer",e[e.done=2]="done",e[e.dashboard=10]="dashboard",e[e.cancellation=11]="cancellation",e[e.overview=12]="overview",e[e.summary=13]="summary",e[e.selectProduct=14]="selectProduct",e[e.deliveryAddress=15]="deliveryAddress",e[e.orderOverview=16]="orderOverview"}(g||(g={})),function(e){e[e.cancellation=0]="cancellation",e[e.overview=1]="overview",e[e.summary=2]="summary"}(E||(E={})),function(e){e[e[void 0]=0]="undefined",e[e.mr=1]="mr",e[e.mrs=2]="mrs"}(k||(k={})),function(e){e[e[void 0]=0]="undefined",e[e.email=1]="email",e[e.online=2]="online"}(C||(C={})),function(e){e[e[void 0]=0]="undefined",e[e.fullEvn=1]="fullEvn",e[e.shortEvn=2]="shortEvn",e[e.noEvn=3]="noEvn"}(_||(_={})),function(e){e[e[void 0]=0]="undefined",e[e.complete=1]="complete",e[e.shortened=2]="shortened"}(O||(O={})),function(e){e[e[void 0]=0]="undefined",e[e.auto=1]="auto",e[e.now=2]="now"}(S||(S={})),function(e){e[e[void 0]=0]="undefined",e[e.german=1]="german",e[e.foreign=2]="foreign"}(w||(w={})),function(e){e[e[void 0]=0]="undefined",e[e.detachedHouse=1]="detachedHouse",e[e.appartmentHouse=2]="appartmentHouse"}(x||(x={})),function(e){e[e[void 0]=0]="undefined",e[e.front=1]="front",e[e.back=2]="back"}(P||(P={})),function(e){e[e[void 0]=0]="undefined",e[e.left=1]="left",e[e.middle=2]="middle",e[e.right=3]="right"}(D||(D={})),function(e){e[e.no=0]="no",e[e.yesDefault=1]="yesDefault",e[e.yesIndividual=2]="yesIndividual"}(T||(T={}))},54:function(e,t,n){"use strict";var a=n(10),r=n(11),i=n(14),s=n(12),o=n(15),c=n(7),l=n(0),u=n(6),d=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e)))._onClick=n._onClick.bind(Object(c.a)(Object(c.a)(n))),n.state={status:n.props.status?n.props.status:u.i.normal},n}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e="";return this.props.css&&(e+=" "+this.props.css),l.createElement("label",{onClick:this._onClick,className:e},this.props.text)}},{key:"_onClick",value:function(){}}]),t}(l.Component);t.a=d},56:function(e,t,n){"use strict";var a;n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return i}),function(e){e[e.Dev=0]="Dev",e[e.Int=1]="Int",e[e.Prod=2]="Prod",e[e.DevInt=3]="DevInt"}(a||(a={}));var r=window.location.href.indexOf("//localhost")>0?a.Dev:window.location.href.indexOf("vf-easy")>0?a.Prod:a.Int,i=window.location.href.indexOf("//localhost")>0},57:function(e,t,n){"use strict";var a,r,i=n(10),s=n(11),o=n(14),c=n(12),l=n(15),u=n(7),d=n(0),p=n(3),m=n(650),h=(n(633),n(8)),v=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(o.a)(this,Object(c.a)(t).call(this,e))).options=h.a.getPaginationItemsPerPage(),n.itemsPerPage=10,n.onFirstPageClick=n.onFirstPageClick.bind(Object(u.a)(Object(u.a)(n))),n.onLastPageClick=n.onLastPageClick.bind(Object(u.a)(Object(u.a)(n))),n.onPrevPageClick=n.onPrevPageClick.bind(Object(u.a)(Object(u.a)(n))),n.onNextPageClick=n.onNextPageClick.bind(Object(u.a)(Object(u.a)(n))),n.onPageClick=n.onPageClick.bind(Object(u.a)(Object(u.a)(n))),n.state={selectedPage:n.props.model.page,changed:!1},n}return Object(l.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.pagesToRender,n=this.state.selectedPage,a=Math.ceil(this.props.totalItemsCount/this.props.model.count),r=[];r.push(d.createElement(m.a.Item,{key:n,active:!0},n));for(var i=function(t){r.push(d.createElement(m.a.Item,{id:t+"",key:t+"",active:!1,disabled:t>a,onClick:function(){return e.onPageClick(t)}},t))},s=n+1;s<t+n;s++)i(s);return d.createElement(m.a,{size:"lg"},d.createElement(m.a.First,{disabled:1===n,onClick:this.onFirstPageClick}),d.createElement(m.a.Prev,{disabled:1===n,onClick:this.onPrevPageClick}),r,d.createElement(m.a.Next,{disabled:n>=a,onClick:this.onNextPageClick}),d.createElement(m.a.Last,{disabled:n>=a,onClick:this.onLastPageClick}),d.createElement(m.a.Item,null,d.createElement("select",{name:"temp1",id:"temp1",onChange:function(t){e.onChangeDropDown(t)},value:this.itemsPerPage.toString(),style:{borderRadius:"15px",height:"20px",width:"60px",backgroundColor:"#333",borderColor:"#6c757d",color:"#6c757d"}},this.renderOptions())))}},{key:"onChangeDropDown",value:function(e){this.itemsPerPage=Number(e.target.value),this.props.model.count=this.itemsPerPage,this.setState({changed:!0}),this.props.parent.onPaginationPageChanged(1)}},{key:"renderOptions",value:function(){var e=[];return this.options.forEach(function(t){e.push(d.createElement("option",{value:t.text,selected:1===t.key},t.text))}),e}},{key:"onFirstPageClick",value:function(){this.setState({selectedPage:1}),this.props.parent.onPaginationPageChanged(1)}},{key:"onLastPageClick",value:function(){var e=Math.ceil(this.props.totalItemsCount/this.props.model.count);this.setState({selectedPage:e}),this.props.parent.onPaginationPageChanged(e)}},{key:"onPrevPageClick",value:function(){var e=this.state.selectedPage-1;this.setState({selectedPage:e}),this.props.parent.onPaginationPageChanged(e)}},{key:"onNextPageClick",value:function(){var e=this.state.selectedPage+1;this.setState({selectedPage:e}),this.props.parent.onPaginationPageChanged(e)}},{key:"onPageClick",value:function(e){this.setState({selectedPage:e}),this.props.parent.onPaginationPageChanged(e)}}]),t}(d.Component),f=n(1),b=n(173);n.d(t,"a",function(){return a}),function(e){e[e.none=0]="none",e[e.local=1]="local",e[e.server=2]="server"}(a||(a={})),function(e){e[e.Asc=0]="Asc",e[e.Desc=1]="Desc"}(r||(r={}));var y=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(o.a)(this,Object(c.a)(t).call(this,e))).me=void 0,n.currentId="",n.data=void 0,n.hasMoreItems=!0,n.totalItemsCount=0,n._resetSortIcons=function(e){for(var t=n.state.columns,a=0;a<t.length;a++){var i=t[a];e!==i&&i.sortable&&(i.sortDirection=r.Desc)}return t},n._sortDescending=function(e){e.sortDirection=r.Desc;var t=n._resetSortIcons(e);n.setState({sortCol:e,columns:t})},n._sortAscending=function(e){e.sortDirection=r.Asc;var t=n._resetSortIcons(e);n.setState({sortCol:e,columns:t})},n._sort=function(e,t){e&&t&&t.length>0&&(e.sortDirection===r.Asc?t.sort(function(t,n){return t[e.binding]>=n[e.binding]?1:-1}):t.sort(function(t,n){return t[e.binding]<=n[e.binding]?1:-1}),n.data=t)},n.me=d.createRef(),n.itemClick=n.itemClick.bind(Object(u.a)(Object(u.a)(n))),n.onPaginationPageChanged=n.onPaginationPageChanged.bind(Object(u.a)(Object(u.a)(n))),n.data=n.props.data,n.state={columns:n.props.coulmns,sortCol:void 0,pagingModel:{page:n.props.pagingProps.page,count:n.props.pagingProps.count}},n}return Object(l.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){this.data=this.props.data,this.filterAndPaginate();var e=d.createElement(d.Fragment,null);if(this.props.pagingProps.type!==a.none){var t=this.state.pagingModel;e=d.createElement(v,{totalItemsCount:this.totalItemsCount,parent:this,pagesToRender:5,model:t})}return d.createElement("div",{id:this.props.id,className:"oe-table"},d.createElement("div",null,d.createElement(b.a,{visible:501===this.totalItemsCount,text:"Es werden mehr als 500 Datens\xe4tze geliefert. Bitte Filter anwenden."}),this.renderTable(e)))}},{key:"onPaginationPageChanged",value:function(e){var t=this.state.pagingModel;t.page=e,this.setState({pagingModel:t})}},{key:"filterAndPaginate",value:function(){this.me.current;this.data=this.props.data,this.state.sortCol&&this._sort(this.state.sortCol,this.data),this.props.filter&&(this.data=this.applyFilter(this.data)),this.props.pagingProps.type===a.local?this.data=this.applyLocalPagging(this.data):this.props.pagingProps.type===a.server&&(this.data=this.applyServerPagging(this.data))}},{key:"renderTable",value:function(e){var t=[];if(t.push(this.renderRow(0,!0)),this.data&&this.data.length>0)for(var n=0;n<this.data.length;n++)t.push(this.renderRow(n,!1));else t.push(d.createElement("div",{className:"oe-row odd"},d.createElement("div",{className:"col data",style:{width:this.getWidth(12)+"%"}},d.createElement("p",{className:"text-center"},d.createElement("strong",null,f.h.noData))),d.createElement(p.k,null)));return t.push(this.renderFooter(e)),t}},{key:"renderHead",value:function(e,t){var n=this,a=e.rendererHead?e.rendererHead(e):!this.props.expnaded&&e.labelShort?e.labelShort:e.label,i=d.createElement(d.Fragment,null),s=d.createElement("div",{className:"icon arrow-up",onClick:function(){n._sortAscending(e)}});return e.sortDirection===r.Asc&&(s=d.createElement("div",{className:"icon arrow-down",onClick:function(){n._sortDescending(e)}})),e.sortable&&(i=d.createElement("div",{className:"col-head-sort-icons"},s)),d.createElement("div",{className:"col head",title:e.showTitle?a:"",key:"head-"+t,style:{width:this.getWidth(e.size)+"%"}},d.createElement("div",{className:"col-head-text"},a),i)}},{key:"renderFooter",value:function(e){return d.createElement("div",{key:"footer",className:"oe-row last"},e)}},{key:"renderRow",value:function(e,t){for(var n=this,a=[],r="",i=0;i<this.state.columns.length;i++)if(t)a.push(this.renderHead(this.state.columns[i],i));else if(void 0!==this.data){var s=this.data[e];(r=this.data[e].id)||(r=this.data[e].Id),a.push(this.renderColumn(s,this.state.columns[i],t,i))}var o=e%2==0?"odd":"even";return d.createElement("div",{key:"key-"+(t?"head":e),id:r,className:"oe-row "+o,onClick:t?void 0:function(e){n.itemClick(e,r)}},a,d.createElement(p.k,null))}},{key:"renderColumn",value:function(e,t,n,a){var r="col data "+(t.style?t.style:"");t.renderer||(r+=" text-sub");var i=t.renderer&&!n?t.renderer(e,t):e[t.binding];return t.showTitle?t.isHtml?d.createElement("div",{key:"col"+a,title:i,className:r,style:{width:this.getWidth(t.size)+"%"},dangerouslySetInnerHTML:{__html:i}}):d.createElement("div",{key:"col"+a,title:i,className:r,style:{width:this.getWidth(t.size)+"%"}},i):d.createElement("div",{key:"col"+a,className:r,style:{width:this.getWidth(t.size)+"%"}},i)}},{key:"applyLocalPagging",value:function(e){if(void 0!==e){var t=this.state.pagingModel,n=e.length||0;this.totalItemsCount=n;var a=t.page,r=t.count;this.hasMoreItems=a*r<n,a<=1?a=0:a--,r<=0?r=10:r>n&&(r=n),a*r>=n&&(a=n/r%2==0?n/r-1:n/r);var i=[],s=a*r,o=s+r;for(o>e.length&&(o=e.length);s<o;s++)i.push(e[s]);return i}}},{key:"applyServerPagging",value:function(e){return e}},{key:"applyFilter",value:function(e){var t=[];if(!this.props.filter||void 0===this.data)return e;this.props.filter.to&&this.props.filter.to.setHours(0,0,0,0),this.props.filter.from&&this.props.filter.from.setHours(0,0,0,0);for(var n=this.props.filter,a=0;a<e.length;a++){var r=e[a],i=!0;if(this.props.dateColumn){var s=new Date(Date.parse(r[this.props.dateColumn].substring(0,10)));s.setHours(0,0,0,0),this.props.filter.from&&this.props.filter.to&&s>=this.props.filter.from&&s<=this.props.filter.to&&(i=!0)}for(var o=0;o<this.state.columns.length;o++)if(this.state.columns[o].filterable){var c=this.state.columns[o];if(c.binding&&i&&r[c.binding]&&"string"===typeof r[c.binding]&&r[c.binding].toLowerCase().indexOf(n.needle.toLowerCase())>=0){t.push(r);break}}}return t}},{key:"getWidth",value:function(e){return 100*e/12}},{key:"itemClick",value:function(e,t){this.currentId=t,this.props.itemClick&&t?this.props.itemClick(e,t):(e.preventDefault(),e.stopPropagation())}}]),t}(d.Component);t.b=y},58:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a,r=n(10),i=n(11),s=n(14),o=n(12),c=n(15),l=n(7),u=n(9),d=n.n(u),p=n(0),m=n(42),h=n(23),v=n(19),f=n(59),b=n(56),y=n(39),g=n(2),E=n(5),k=n(6),C=n(25),_=n(134),O=n(4),S=n(8),w=n(27),x=n(1),P=n(24),D=n(13),T=n(17),A=n(3),I=n(37),j=n(44),N=n(174);!function(e){e[e[void 0]=0]="undefined",e[e.requestNeeded=1]="requestNeeded",e[e.contractRequested=2]="contractRequested",e[e.requestReady=4]="requestReady",e[e.printReady=8]="printReady",e[e.printNeeded=16]="printNeeded",e[e.activationStarted=32]="activationStarted",e[e.activationDone=64]="activationDone",e[e.apiFailed=128]="apiFailed",e[e.printFailed=256]="printFailed",e[e.timeout=512]="timeout",e[e.printReadyBoni=1024]="printReadyBoni"}(a||(a={}));var M=function(e){function t(e){var n;Object(r.a)(this,t),(n=Object(s.a)(this,Object(o.a)(t).call(this,e))).failedOnce=!1,n.api=void 0,n.prevStatus=a.undefined,n.downloads=[],n.customerUpdated=!1,n.checkBoni=function(){var e={brand:n.props.ah.activation.brandKey,orderId:n.props.ah.activation.id,type:k.l.checkBoni};n.setState({loading:!0}),n.api=void 0,C.a.fetch("activation/checkBoni",e,"POST",function(e){if(e.status==y.EApiResponseStatus.ok)n.props.ah.activation.files=e.data.files,D.a.updateActivation(n.props.ah.activation),n.setState({loading:!1});else{C.a.parseSummary(e,void 0);n.api=e,n.setState({changed:!0})}})},n.onPrintDocument=function(){window.print()},n.setActivationDone=function(){b.c?(n.props.ah.activation.activateManually(),D.a.updateActivation(n.props.ah.activation),n.setState({changed:!0,status:a.activationDone})):console.error("Use only on local")},n.onBackToCustomer=function(){if(!n.customerUpdated&&n.props.ah.activation.isActivated()){var e=D.a.getParentOfProcess(n.props.ah.activation.processId);S.a.hub.send('{ "type": '+g.ERequestType.loadCustomerRefresh+', "receiverId":"'+n.props.ah.activation.id+'", "id":"'+S.a.getUniqueId()+'", "parentId": "'+e.id+'", "brandKey": "'+n.props.ah.activation.brandKey+'" }',g.ERequestType.loadCustomerRefresh,function(){n.setState({changed:!0,loading:!0})})}else n.props.ah.activation.activateManually(),n.setState({changed:!0,status:a.activationDone})},n.renderPopupConfirmSigned=function(){var e={title:x.h.printFile,closable:!0,id:"newconfirmPopup",visible:!1,height:200,textPositive:x.h.yes,textNegative:x.h.no,type:T.a.confirmCustom,onDismiss:function(){n.setState({confirmSigned:!1})},onNegative:function(){n.setState({confirmSigned:!1})},onPositive:function(){n.setState({confirmSigned:!1},function(){n.onActivate()})}};n.state.confirmSigned&&(e.visible=!0);var t=p.createElement("div",null,x.g.customerSignedDocument);return w.a.GetPopup(e,t,void 0)},n.renderPopupConfirmBoniSigned=function(){var e={title:x.h.hint,closable:!0,id:"newconfirmPopup",visible:!1,height:200,textPositive:x.h.yes,textNegative:x.h.no,type:T.a.confirmCustom,onDismiss:function(){n.setState({confirmBoni:!1})},onNegative:function(){n.setState({confirmBoni:!1})},onPositive:function(){n.setState({confirmBoni:!1},function(){n.onRequestPrint()})}};n.state.confirmBoni&&(e.visible=!0);var t=p.createElement("div",null,x.g.customerSignedBoni);return w.a.GetPopup(e,t,void 0)},n.onDownload=function(e,t){n.setState({status:t}),_.a.download(n.props.ah.activation,e,function(e){})},n.onRequestPrint=function(){S.a.hub.send('{ "processId": "'+n.props.ah.activation.processId+'", "orderId": "'+n.props.ah.activation.id+'" }',g.ERequestType.print,void 0),n.props.ah.activation.resetSteps(k.l.print),n.prevStatus=n.state.status,n.setState({status:a.contractRequested})},n.onActivateConfirm=function(){n.setState({confirmSigned:!0})},n.onActivate=function(){n.api=void 0,S.a.hub.send('{ "processId": "'+n.props.ah.activation.processId+'", "orderId": "'+n.props.ah.activation.id+'" }',g.ERequestType.activation,void 0),n.props.ah.activation.resetSteps(k.l.activation),n.prevStatus=n.state.status,n.setState({status:a.activationStarted})},n.onOverview=function(){var e="/ordering/preview/"+n.props.ah.activation.processId+"/"+n.props.ah.activation.id;window.open(e,"_blank")},n.processCallback=n.processCallback.bind(Object(l.a)(Object(l.a)(n))),n.socketCallback=n.socketCallback.bind(Object(l.a)(Object(l.a)(n))),n.socketCallbackCustomer=n.socketCallbackCustomer.bind(Object(l.a)(Object(l.a)(n))),n.timerCompletedCallback=n.timerCompletedCallback.bind(Object(l.a)(Object(l.a)(n)));var i=a.requestNeeded;return n.props.ah.activation.isActivated()?i=a.activationDone:n.props.ah.activation.isTimedout()?i=a.timeout:n.props.ah.activation.resetSteps(k.l.activation),n.state={status:i,mounted:!1,changed:!1,loading:!1,confirmSigned:!1,confirmBoni:!1},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.setState({mounted:!0}),this.checkStatus()}},{key:"render",value:function(){return this.state.mounted?this.renderMultiple():p.createElement(p.Fragment,null)}},{key:"renderMultiple",value:function(){var e=this,t=S.a.categoryWrapper.getCategoryByProduct(this.props.ah.activation.productId),n=t.id;if(this.props.ah.activation.selection.children.length>1){var a=S.a.categoryWrapper.getCategoryByProduct(this.props.ah.activation.selection.children[0].id),r=S.a.categoryWrapper.getCategoryByProduct(this.props.ah.activation.selection.children[1].id);(a.id==O.c.tv&&r.id==O.c.fn||a.id==O.c.fn&&r.id==O.c.tv)&&(n="tv_fn")}return p.createElement("div",{className:"block-contract",id:this.props.ah.activation.id,key:"prevc-"+this.props.ah.activation.id},this.renderPopup(),this.renderPopupConfirmSigned(),this.renderPopupConfirmBoniSigned(),p.createElement("div",{className:"action-top"},this.renderActionCustomer()),p.createElement("div",{className:"action"},this.renderAction()),p.createElement("div",{className:"block block-act-contract block-act-preview"},p.createElement(j.c,{ckey:"bt-cat-"+n,item:t,multiBasketId:n,onClick:void 0,type:j.b.blister,withoutInfo:!0,status:j.a.static|j.a.selected,activationStatus:this.state.status}),this.props.ah.items.map(function(t){return e.renderMain(t)}),this.renderPrice(),this.renderStatusBlock(),p.createElement(A.k,null)))}},{key:"renderStatusBlock",value:function(){return this.props.preview||this.props.ah.activation.inCurrent?p.createElement(m.a,null,p.createElement(h.a,null,p.createElement(v.a,{xs:12,md:12,className:"np"},p.createElement("div",{className:"spacer-medium"}),p.createElement("div",{className:"spacer-line"}),p.createElement("div",{className:"spacer-medium"}))),p.createElement(h.a,null,p.createElement(v.a,{md:12,className:"np"},this.renderStatus()))):p.createElement(m.a,null,p.createElement(h.a,null,p.createElement(v.a,{xs:12,md:12,className:"np"},p.createElement("div",{className:"spacer-medium"}),p.createElement("div",{className:"spacer-line"}),p.createElement("div",{className:"spacer-medium"}))),this.props.ah.activation.brandKey===O.b.vodafone&&this.props.bc===E.e.bnt?p.createElement(p.Fragment,null,p.createElement(h.a,null,p.createElement(v.a,{xs:12,md:12,className:"np"},x.g.hintMandatoryServicesVodafone)),p.createElement("div",{className:"spacer-medium"}),p.createElement("div",{className:"spacer-line"}),p.createElement("div",{className:"spacer-medium"})):null,p.createElement(h.a,null,p.createElement(v.a,{md:12,className:"np"},this.renderStatus())))}},{key:"renderMain",value:function(e){var t=D.a.getUser();return p.createElement(m.a,null,this.props.ah.activation.activationType===E.c.existingCustomer&&this.props.preview?p.createElement(h.a,null,p.createElement(v.a,{xs:12,md:12,className:"np"},p.createElement("div",{className:"title"},e.getActionName()))):null,this.props.ah.activation.inCurrent?p.createElement(h.a,null,p.createElement(v.a,{xs:12,md:12,className:"title"},x.b.prolongateWithCurrent)):null,this.props.ah.activation.brandKey==O.b.unity?p.createElement(h.a,null,p.createElement(v.a,{xs:12,md:12,className:"text-hint np"},x.g.dataCorrectCheck,p.createElement("br",null)," \xa0")):null,p.createElement(h.a,null,p.createElement(v.a,{xs:6,md:6,className:"np"},p.createElement(A.l,{type:k.d.info,title:"Tarif",label:e.getProductName()})),this.props.preview?p.createElement(p.Fragment,null,p.createElement(v.a,{xs:6,md:6,className:"np"},p.createElement(A.l,{type:k.d.info,title:"VOID",label:t?t.username:""})),p.createElement("div",{className:"spacer"}),this.props.ah.activation.activationType==E.c.bookService?null:p.createElement(v.a,{xs:6,md:6,className:"np"},p.createElement(A.l,{type:k.d.info,title:x.h.contractType,label:e.getContractType()}))):null),this.props.ah.activation.brandKey==O.b.otelo?p.createElement(h.a,null,p.createElement(v.a,{xs:6,md:6,className:"np"},p.createElement(A.l,{type:k.d.info,label:e.getMsisdn(),title:"MSISDN"})),this.props.customer.contracts?p.createElement(v.a,{xs:6,md:6,className:"np"},p.createElement(A.l,{type:k.d.info,label:e.getCustomerId(),title:x.h.customerId})):p.createElement(v.a,{xs:6,md:6,className:"np"},p.createElement(A.l,{type:k.d.info,label:e.getContractIdUi(),title:x.h.contractId})),p.createElement("div",{className:"spacer"}),p.createElement(v.a,{xs:6,md:6,className:"np"},p.createElement(A.l,{type:k.d.info,label:S.a.toGermanDate(e.activationDate),title:e.activationDateTitleUI})),p.createElement(v.a,{xs:6,md:6,className:"np"},p.createElement(A.l,{type:k.d.info,title:"IMEI",label:this.props.ah.activation.imei}))):null,this.props.ah.activation.brandKey==O.b.dsl?p.createElement(h.a,null,p.createElement(v.a,{xs:6,md:6,className:"np"},p.createElement(A.l,{type:k.d.info,label:e.getContractId(),title:"Barcode"}))):null,this.props.ah.activation.brandKey==O.b.kabel?p.createElement(h.a,null,p.createElement(v.a,{xs:12,md:12,className:"np"},p.createElement(A.l,{type:k.d.info,label:e.getContractIdUi(),title:x.h.webOrderId})),(e.isDone(),p.createElement(v.a,{xs:12,md:12,className:"np"},p.createElement(A.l,{style:"text-hint",type:k.d.info,label:"Bitte f\xfclle das Feld Weborder-ID, in der oberen rechten Ecke des Vertragsdokumentes, manuell aus."})))):null,this.props.ah.activation.brandKey==O.b.vodafone?p.createElement(h.a,null,p.createElement(v.a,{xs:6,md:6,className:"np"},p.createElement(A.l,{type:k.d.info,label:e.getMsisdn(),title:"MSISDN"})),this.props.ah.activation.activationType===E.c.existingCustomer||this.props.ah.activation.activationType===E.c.bookService||this.props.ah.activation.activationType===E.c.cdChange?null:p.createElement(v.a,{xs:6,md:6,className:"np"},p.createElement(A.l,{type:k.d.info,label:e.getSim(),title:"SIM"})),this.props.ah.activation.activationType===E.c.bookService||this.props.ah.activation.activationType===E.c.cdChange?null:p.createElement(v.a,{xs:6,md:6,className:"np"},p.createElement(A.l,{type:k.d.info,title:"IMEI",label:this.props.ah.activation.imei}))):null,this.props.ah.activation.brandKey==O.b.vodafone&&this.props.preview&&!this.props.ah.activation.inCurrent?p.createElement(h.a,null,p.createElement(v.a,{xs:6,md:6,className:"np"},p.createElement(A.l,{type:k.d.info,label:this.props.customer.contracts?e.getCustomerId():e.customerId,title:x.h.customerId})),p.createElement(v.a,{xs:6,md:6,className:"np"},p.createElement(A.l,{type:k.d.info,label:S.a.toGermanDate(e.activationDate),title:e.activationDateTitleUI}))):null,p.createElement("div",{className:"spacer"}),p.createElement(h.a,null,this.props.ah.activation.activationType==E.c.bookService||this.props.ah.activation.inCurrent?null:p.createElement(v.a,{xs:6,md:6,className:"np"},p.createElement(A.l,{type:k.d.info,label:e.subUI,title:x.k.sub})),this.props.ah.activation.brandKey!==O.b.vodafone?p.createElement(v.a,{xs:6,md:6,className:"npr"},p.createElement(A.l,{type:k.d.info,label:e.optionsUI,title:x.h.bookedOptions})):null),p.createElement("div",{className:"spacer"}),this.props.ah.activation.brandKey!==O.b.vodafone||this.props.ah.activation.inCurrent?p.createElement(p.Fragment,null,this.props.ah.activation.inCurrent?null:p.createElement(h.a,null,p.createElement(v.a,{xs:12,md:12,className:"np"},p.createElement(A.l,{type:k.d.info,label:e.promotionsUI,title:x.h.bookedPromotions})))):p.createElement(p.Fragment,null,p.createElement(h.a,null,p.createElement(v.a,{xs:12,md:12,className:"np"},p.createElement(A.l,{type:k.d.info,title:x.h.bookedServices}))),p.createElement(h.a,null,p.createElement(v.a,{xs:12,md:12,className:"np"},e.optionsUI))))}},{key:"renderPrice",value:function(){return this.props.ah.activation.inCurrent?p.createElement(p.Fragment,null):p.createElement(m.a,null,p.createElement(h.a,null,p.createElement(v.a,{xs:12,md:12,className:"np"},p.createElement("div",{className:"spacer-medium"}),p.createElement("div",{className:"spacer-line"}),p.createElement("div",{className:"spacer-medium"}))),p.createElement(h.a,null,p.createElement(v.a,{xs:12,md:12,className:"np"},p.createElement("div",{className:"title"},this.props.ah.activation.activationType===E.c.bookService?x.h.costsAll:x.h.costs))),p.createElement(h.a,null,this.props.ah.activation.activationType===E.c.existingCustomer||this.props.ah.activation.activationType===E.c.bookService?null:p.createElement(v.a,{xs:4,md:4,className:"np"},p.createElement(A.l,{type:k.d.info,style:"big",label:S.a.feeToString(this.props.ah.getActivationFee()),title:x.h.feeActivation})),p.createElement(v.a,{xs:4,md:4},p.createElement(A.l,{type:k.d.info,label:S.a.feeToString(this.props.ah.getOptionMonthlyFee()),title:this.props.ah.activation.activationType===E.c.bookService?x.h.costsBookedOptions:x.h.bookedServices,style:"big"})),this.props.ah.activation.activationType===E.c.bookService?null:p.createElement(v.a,{xs:4,md:4,className:"npr"},p.createElement(A.l,{type:k.d.info,label:S.a.feeToString(this.props.ah.getMonthlyFee()),title:x.h.feeMonthly,style:"big"}))))}},{key:"makeServicesRenderable",value:function(e){p.Fragment;return p.createElement("ul",null,e.map(function(e){return p.createElement("li",{key:"allsvc-"+e.id},e.name)}))}},{key:"renderAction",value:function(){var e=this,t=p.createElement(p.Fragment,null),n="a1 disabled",r="Bitte best\xe4tigen Sie zuerst die Einverst\xe4ndniserkl\xe4rung",i=!1;if(this.props.preview)return t=p.createElement(A.j,{type:k.h.buttonWithIconRight,icon:"print",css:"no-print",text:x.b.print,onClick:this.onPrintDocument});if(this.props.customer.bew&&this.props.customer.bew.consent&&(n="a1",i=!0),this.state.status===a.contractRequested||this.state.status===a.activationStarted||this.state.status===a.timeout)t=p.createElement(p.Fragment,null);else if(this.state.status==a.requestNeeded||this.state.status==a.printReadyBoni)if(this.props.ah.activation.brandKey==O.b.unity&&this.state.status!=a.printReadyBoni)if(this.props.ah.activation.hasBoniFile()){var s=this.props.ah.activation.getFile(E.b.boni);t=p.createElement(A.j,{type:k.h.buttonWithIconRight,icon:"print",css:n,text:"Bonit\xe4tspr\xfcfung ausdrucken",onClick:function(){e.onDownload(s.Name,a.printReadyBoni)}})}else t=p.createElement(A.j,{type:k.h.buttonWithIconRight,icon:"print",css:n,text:"Bonit\xe4tspr\xfcfung starten",onClick:function(){e.checkBoni()}});else t=p.createElement(p.Fragment,null,i?null:p.createElement(f.a,{place:"top",type:"light",effect:"solid",id:"tt_buttonRequestContract"},p.createElement("div",null,r)),p.createElement("span",{"data-for":"tt_buttonRequestContract","data-tip":r},p.createElement(A.j,{type:k.h.buttonWithIconRight,css:n,id:"buttonRequestContract",text:this.props.ah.activation.activationType==E.c.bookService?x.b.requestContractOptions:x.b.requestContract,onClick:function(t){e.props.ah.activation.brandKey==O.b.unity?e.setState({confirmBoni:!0}):e.onRequestPrint()}})));else if(this.state.status===a.printNeeded){var o=this.props.ah.activation.getStep(k.l.print),c=JSON.parse(o.message);this.downloads=d.a.from(c.Binary.split(";")).select(function(e){return{Key:e,Value:"0"}}).toArray(),t=this.props.ah.activation.brandKey===O.b.kabel&&this.downloads.length>1?p.createElement(p.Fragment,null,p.createElement("div",null,"Ausdrucken:"),this.downloads.map(function(t,a){var r=x.h.contract;return t.Key.toLowerCase().indexOf("kabelkip")>0?r=x.h.contractFn:t.Key.toLowerCase().indexOf("tvkabel")>0?r=x.h.contractTv:a>0&&(r=x.h.sepa),p.createElement(A.j,{type:k.h.buttonWithIconRight,icon:"print",css:n,text:r,onClick:function(){e.onDownloadNotReady(t.Key)}})})):p.createElement(p.Fragment,null,p.createElement(A.j,{type:k.h.buttonWithIconRight,icon:"print",css:n,text:x.b.print,onClick:function(){e.onDownload("",a.printReady)}}))}else this.state.status===a.printReady?t=p.createElement(A.j,{type:k.h.buttonWithIconRight,css:n,text:this.props.ah.activation.activationType==E.c.bookService?x.b.completeContractOptions:x.b.completeContract,onClick:this.onActivateConfirm}):this.state.status===a.activationDone&&(t=p.createElement(p.Fragment,null,p.createElement(A.j,{type:k.h.buttonWithIconRight,icon:"print",css:n,text:x.b.overview,onClick:function(){e.onOverview()}})));var l=p.createElement(p.Fragment,null);return b.b!==b.a.Prod&&(l=p.createElement(p.Fragment,null,p.createElement(A.j,{type:k.h.buttonWithIconRight,icon:"print",css:n,text:"Set Done",onClick:function(){e.setActivationDone()}}))),[t,l]}},{key:"socketCallback",value:function(e){if(this.api=e,e.error)this.setState({status:this.prevStatus});else{var t=_.a.getSteps(e);e.data.responseObject&&(this.props.ah.activation.files=e.data.responseObject.Files),this.props.ah.activation.updateSteps(t),this.checkStatus()}}},{key:"socketCallbackCustomer",value:function(e){var t=JSON.parse(e.data);if(!t.error){var n=t.data,a=JSON.parse(n.data).steps[0];if(a.status===k.k.done){var r=JSON.parse(a.message);D.a.addOrderAndReset(r),this.api=void 0,this.setState({loading:!1}),P.a.route({url:"/customer/dashboard/"+r.id,title:x.h.existingCustomerActivation})}}this.api=t,this.setState({loading:!1})}},{key:"renderPopup",value:function(){var e={title:"Anforderung wird verarbeitet",closable:!1,id:"existingRefreshPopup",visible:!1,type:T.a.pleaseWait};this.state.loading&&(e.visible=!0);var t=p.createElement(p.Fragment,null);if(this.api&&this.api.status!=y.EApiResponseStatus.ok){var n=JSON.parse(this.api.data),a=C.a.parseSummary(this.api,n);e.closable=!0,e.visible=!0,e.type=T.a.info,t=p.createElement("div",null,a.message)}return w.a.GetPopup(e,t,void 0)}},{key:"renderActionCustomer",value:function(){return this.props.ah.activation.activationType!==E.c.existingCustomer||!this.props.ah.activation.isActivated()||this.props.preview?p.createElement(p.Fragment,null):p.createElement(p.Fragment,null,p.createElement(A.j,{text:x.h.backToCustomer,onClick:this.onBackToCustomer,type:k.h.linkSimple,css:"action3",icon:"chevron"}))}},{key:"onDownloadNotReady",value:function(e){d.a.from(this.downloads).where(function(t){return t.Key==e}).first().Value="1";var t=d.a.from(this.downloads).where(function(e){return"1"==e.Value}).count();_.a.download(this.props.ah.activation,e,function(e){}),t==this.downloads.length&&this.setState({status:a.printReady})}},{key:"processCallback",value:function(){}},{key:"checkStatus",value:function(){try{var e=a.requestNeeded,t=this.props.ah.activation.getStep(k.l.print),n=this.props.ah.activation.getStep(k.l.activation);if(!t||!n)return;t&&n.status==k.k.undefined&&(t.status===k.k.done?e=a.printNeeded:t.status===k.k.failed||t.status===k.k.invalid?(e=a.requestNeeded,this.failedOnce=!0):t.status===k.k.running&&(e=a.contractRequested)),n&&(n.status!=k.k.running?n.status===k.k.done?(e=a.activationDone,this.checkSuccess(n)):n.status===k.k.failed||n.status===k.k.invalid?(e=a.printReady,this.failedOnce=!0):n.status===k.k.timeout&&(e=a.timeout):e=a.activationStarted),this.setState({status:e})}catch(r){console.error(r)}}},{key:"checkSuccess",value:function(e){var t=JSON.parse(e.message);if(this.props.ah.activation.msisdn=t.MobileNumber,D.a.updateActivation(this.props.ah.activation),e.type==k.l.activation&&e.status==k.k.done&&this.props.ah.activation.brandKey===O.b.otelo&&this.props.ah.activation.activationType===E.c.existingCustomer)try{var n=JSON.parse(e.message),a=D.a.getParentOfProcess(this.props.ah.activation.processId),r=n.uiUpdate;this.props.customer.contracts&&r.customer.contracts&&(this.props.customer.contracts[0].actions=r.customer.contracts[0].actions,this.customerUpdated=!0,D.a.updateCustomer(a.id,r.customer)),this.customerUpdated=!0}catch(i){console.error(i)}this.props.refreshParent&&this.props.refreshParent(),this.setState({changed:!0})}},{key:"timerCompletedCallback",value:function(){this.setState({status:this.prevStatus})}},{key:"renderStatus",value:function(){var e=I.a.undefined,t="";return 0!=this.failedOnce||this.state.status!==a.printReadyBoni&&this.state.status!==a.printReady&&this.state.status!==a.printNeeded&&this.state.status!==a.undefined&&this.state.status!==a.requestNeeded?(this.state.status==a.contractRequested||this.state.status==a.activationStarted?e=I.a.inprocessTimer:this.state.status==a.activationDone?e=I.a.done:this.state.status==a.timeout?(e=I.a.warning,t="\xdcberpr\xfcfe den Status deines Auftrags zu einem sp\xe4teren Zeitpunkt im Auftragsmanager"):e=I.a.failed,this.api&&this.api.error&&(e=I.a.failed),p.createElement(N.a,{apiState:e,title:"Deine Anfrage wurde \xfcbermittelt.",message:t,api:this.api,resetTimer:!0,autoRestart:!0,completedCallback:this.timerCompletedCallback,process:this.props.ah.activation.processStatus,processCallback:this.processCallback})):p.createElement(p.Fragment,null)}}]),t}(p.Component);t.b=M},6:function(e,t,n){"use strict";n.d(t,"i",function(){return i}),n.d(t,"e",function(){return s}),n.d(t,"h",function(){return o}),n.d(t,"f",function(){return c}),n.d(t,"j",function(){return l}),n.d(t,"g",function(){return u}),n.d(t,"m",function(){return d}),n.d(t,"d",function(){return p}),n.d(t,"n",function(){return m}),n.d(t,"a",function(){return h}),n.d(t,"c",function(){return v}),n.d(t,"b",function(){return f}),n.d(t,"l",function(){return b}),n.d(t,"k",function(){return y});var a,r,i,s,o,c,l,u,d,p,m,h;n(10);!function(e){e[e.NeuerAuftrag=1]="NeuerAuftrag",e[e.NeuerAuftragmitMNP=2]="NeuerAuftragmitMNP",e[e.Vertragsverlaengerung=3]="Vertragsverlaengerung",e[e.Tarifwechsel=4]="Tarifwechsel",e[e.StornoNeuerAuftrag=5]="StornoNeuerAuftrag",e[e.StornoVVL=6]="StornoVVL",e[e.StornoTW=7]="StornoTW",e[e.Optionsbuchung=8]="Optionsbuchung",e[e.Optionsbuchungbeendet=9]="Optionsbuchungbeendet",e[e.Direktaufladung=10]="Direktaufladung",e[e.Komfortaufladung=11]="Komfortaufladung",e[e.Komfortaufladungbeendet=12]="Komfortaufladungbeendet",e[e.Topstop=13]="Topstop",e[e.TopstopBeendet=14]="TopstopBeendet",e[e.KundendatenAktualisiert=15]="KundendatenAktualisiert",e[e.ZahlungsdatenAktualisiert=16]="ZahlungsdatenAktualisiert",e[e.SubStufeEntfernen=17]="SubStufeEntfernen",e[e.VertragsverlaengerungMitTariffwechsel=18]="VertragsverlaengerungMitTariffwechsel",e[e.KennwrotAktualisiert=19]="KennwrotAktualisiert",e[e.VertagstorniertbeiLevel1beantrargt=24]="VertagstorniertbeiLevel1beantrargt",e[e.TW_TWVVL_storniert_bei_Level_1_beantrargt=25]="TW_TWVVL_storniert_bei_Level_1_beantrargt",e[e.VVL_storniert_bei_Level_1=26]="VVL_storniert_bei_Level_1",e[e.StornierungdurchLevel1freigegeben=27]="StornierungdurchLevel1freigegeben",e[e.StornierungdurchLevel1abgelehnt=33]="StornierungdurchLevel1abgelehnt",e[e.Frei=36]="Frei",e[e.IMEIUpload=37]="IMEIUpload",e[e.StornierungdurchVfFreigegeben=38]="StornierungdurchVfFreigegeben",e[e.StornierungdurchVfAbgelehnt=39]="StornierungdurchVfAbgelehnt",e[e.ForwardedToHotline=40]="ForwardedToHotline",e[e.StornierungAuto=41]="StornierungAuto",e[e.ForwardedToKAM=42]="ForwardedToKAM",e[e.ForwardedToVL=43]="ForwardedToVL",e[e.ApprovedByKAM=44]="ApprovedByKAM",e[e.RejectedByKAM=45]="RejectedByKAM",e[e.ApprovedByVL=46]="ApprovedByVL",e[e.RejectedByVL=47]="RejectedByVL",e[e.RechnungsArtUpdated=48]="RechnungsArtUpdated",e[e.EMailValidated=49]="EMailValidated",e[e.PasswordChanged=50]="PasswordChanged",e[e.ConsentsUpdated=51]="ConsentsUpdated",e[e.BelatedPortation=80]="BelatedPortation"}(a||(a={})),function(e){e[e[void 0]=0]="undefined",e[e.done=1]="done",e[e.timedout=2]="timedout"}(r||(r={})),function(e){e[e.normal=0]="normal",e[e.selected=1]="selected",e[e.disabled=2]="disabled",e[e.ready=4]="ready"}(i||(i={})),function(e){e[e.UNDEFIEND=0]="UNDEFIEND",e[e.CREATED=1]="CREATED",e[e.REMINDED=2]="REMINDED",e[e.VALIDATED=4]="VALIDATED",e[e.NOT_VALIDATED=8]="NOT_VALIDATED",e[e.NO_PROCESS_FOUND=16]="NO_PROCESS_FOUND"}(s||(s={})),function(e){e[e.normal=0]="normal",e[e.icon=1]="icon",e[e.buttonWithIconRight=2]="buttonWithIconRight",e[e.iconImage=4]="iconImage",e[e.textWithIconLeft=8]="textWithIconLeft",e[e.linkWithIconLeft=16]="linkWithIconLeft",e[e.linkWithIconRight=32]="linkWithIconRight",e[e.linkPanel=64]="linkPanel",e[e.linkSimple=128]="linkSimple"}(o||(o={})),function(e){e[e[void 0]=0]="undefined",e[e.asap=1]="asap",e[e.custom=2]="custom"}(c||(c={})),function(e){e[e[void 0]=0]="undefined",e[e.asap=1]="asap",e[e.contractEnd=2]="contractEnd",e[e.custom=3]="custom",e[e.date=4]="date"}(l||(l={})),function(e){e[e.password=0]="password",e[e.birthday=1]="birthday",e[e.contractId=2]="contractId",e[e.customerId=4]="customerId"}(u||(u={})),function(e){e[e[void 0]=0]="undefined",e[e.mobile=1]="mobile",e[e.home=2]="home"}(d||(d={})),function(e){e[e[void 0]=0]="undefined",e[e.text=1]="text",e[e.textArea=2]="textArea",e[e.password=3]="password",e[e.checkbox=4]="checkbox",e[e.radio=5]="radio",e[e.dropdown=6]="dropdown",e[e.hint=7]="hint",e[e.title=8]="title",e[e.info=9]="info",e[e.date=10]="date",e[e.toggle=11]="toggle",e[e.tel=12]="tel",e[e.time=13]="time"}(p||(p={})),function(e){e[e.text=0]="text",e[e.numberInt=1]="numberInt"}(m||(m={})),function(e){e[e.now=0]="now",e[e.future=1]="future"}(h||(h={}));var v,f,b,y;!function(e){e[e.undefiend=0]="undefiend",e[e.visible=1]="visible",e[e.hidden=2]="hidden",e[e.processing=4]="processing",e[e.nextStep=8]="nextStep"}(v||(v={})),function(e){e[e.bntL1=1]="bntL1",e[e.vvlL1=2]="vvlL1",e[e.twL1=3]="twL1",e[e.bntL2=4]="bntL2",e[e.vvlL2=5]="vvlL2",e[e.twL2=6]="twL2",e[e.extraordinary=7]="extraordinary"}(f||(f={})),function(e){e[e[void 0]=0]="undefined",e[e.print=1]="print",e[e.activation=2]="activation",e[e.validateAddress=3]="validateAddress",e[e.validatePayment=4]="validatePayment",e[e.checkAddress=5]="checkAddress",e[e.create=6]="create",e[e.checkAvailability=7]="checkAvailability",e[e.checkMsisdn=8]="checkMsisdn",e[e.status=9]="status",e[e.statusRequest=10]="statusRequest",e[e.serviceAddress=11]="serviceAddress",e[e.environment=12]="environment",e[e.checkAvailabilitySingle=13]="checkAvailabilitySingle",e[e.checkBoni=14]="checkBoni",e[e.loadCustomer=100]="loadCustomer",e[e.loadCustomerConsumption=101]="loadCustomerConsumption",e[e.loadCustomerConsents=102]="loadCustomerConsents",e[e.loadCustomerEMailValidation=103]="loadCustomerEMailValidation",e[e.loadCustomerGdpr=104]="loadCustomerGdpr",e[e.loadCustomerPayment=105]="loadCustomerPayment",e[e.createCustomerProcess=106]="createCustomerProcess",e[e.createCancellationProcess=107]="createCancellationProcess",e[e.loadCustomerBookableTariffs=108]="loadCustomerBookableTariffs",e[e.loadCustomerBookedTariffs=109]="loadCustomerBookedTariffs",e[e.loadCustomerSimReplacement=110]="loadCustomerSimReplacement",e[e.loadCustomerEvn=111]="loadCustomerEvn",e[e.loadCustomerTopstop=112]="loadCustomerTopstop",e[e.loadCustomerAutotop=113]="loadCustomerAutotop",e[e.loadCustomerSingleTopup=114]="loadCustomerSingleTopup",e[e.loadProfile=115]="loadProfile",e[e.loadAccount=116]="loadAccount",e[e.loadCustomerRefresh=117]="loadCustomerRefresh",e[e.loadContact=118]="loadContact",e[e.loadDealerCancellation=119]="loadDealerCancellation",e[e.loadCustomerContractData=120]="loadCustomerContractData",e[e.saveOrderPoducts=121]="saveOrderPoducts",e[e.getOrderDetail=122]="getOrderDetail",e[e.syncOrder=123]="syncOrder",e[e.saveDraft=200]="saveDraft",e[e.getDrafts=201]="getDrafts",e[e.removeDraft=202]="removeDraft",e[e.loadDraft=203]="loadDraft",e[e.saveProfile=204]="saveProfile",e[e.saveAccount=205]="saveAccount",e[e.changePassword=206]="changePassword",e[e.saveImei=207]="saveImei",e[e.saveImeiList=208]="saveImeiList",e[e.saveContact=209]="saveContact",e[e.getContracts=210]="getContracts",e[e.getMnpPortingStatus=211]="getMnpPortingStatus",e[e.getMnpPortingStatusDetails=212]="getMnpPortingStatusDetails",e[e.getOrderProducts=213]="getOrderProducts",e[e.getOrdersList=214]="getOrdersList",e[e.startApp=220]="startApp",e[e.getShopContacts=250]="getShopContacts",e[e.setShopContact=251]="setShopContact",e[e.getContacts=252]="getContacts",e[e.getContractDetails=253]="getContractDetails",e[e.customerGroupGet=300]="customerGroupGet",e[e.customerGroupCreate=301]="customerGroupCreate",e[e.customerGroupPartnerCardAdd=302]="customerGroupPartnerCardAdd",e[e.customerChangeAddService=303]="customerChangeAddService",e[e.customerChangeRemoveService=304]="customerChangeRemoveService",e[e.customerChangeAddRemoveServices=305]="customerChangeAddRemoveServices",e[e.customerChangePayment=306]="customerChangePayment",e[e.customerChangeData=307]="customerChangeData",e[e.customerChangePassword=308]="customerChangePassword",e[e.customerOrderSim=309]="customerOrderSim",e[e.customerGetCanellation=310]="customerGetCanellation",e[e.customerSetCancellation=311]="customerSetCancellation",e[e.customerUploadImei=312]="customerUploadImei",e[e.customerChangeAddCombi=315]="customerChangeAddCombi",e[e.customerValidateEMail=316]="customerValidateEMail",e[e.customerUpdateConsents=317]="customerUpdateConsents",e[e.customerPrintBEW=318]="customerPrintBEW",e[e.contractSummaryPost=320]="contractSummaryPost",e[e.belatedPortation=313]="belatedPortation",e[e.loadPortingStatus=314]="loadPortingStatus",e[e.activateUser=400]="activateUser",e[e.deactivateUser=401]="deactivateUser",e[e.dealerGetCancellation=500]="dealerGetCancellation",e[e.dealerSetCancellation=501]="dealerSetCancellation",e[e.notify=1e3]="notify",e[e.defconChanged=1001]="defconChanged"}(b||(b={})),function(e){e[e[void 0]=0]="undefined",e[e.running=1]="running",e[e.failed=2]="failed",e[e.done=4]="done",e[e.invalid=8]="invalid",e[e.created=16]="created",e[e.corrected=32]="corrected",e[e.timeout=64]="timeout",e[e.notAvailable=128]="notAvailable",e[e.inProcess=256]="inProcess",e[e.tempResult=512]="tempResult"}(y||(y={}))},60:function(e,t,n){"use strict";var a=n(10),r=n(11),i=n(9),s=n.n(i),o=n(13),c=n(4),l=n(5),u=n(1),d=function(){function e(){Object(a.a)(this,e)}return Object(r.a)(e,null,[{key:"filterProducts",value:function(e,t,n){var a=s.a.from(t).toArray(),r=o.a.getAvailability();if(e===c.b.dsl||e===c.b.kabel||e==c.b.unity){var i=r.getBrand(e),u=r.getAvailableProducts(e,i);if(r&&u){var d=u;a=s.a.from(a).where(function(e){return d.indexOf(e.id)>-1}).toArray(),e===c.b.kabel&&a.map(function(e){var t=s.a.from(i.products).where(function(t){return t.productId===e.id}).firstOrDefault();t&&(s.a.from(t.elements).where(function(e){return"rufnummernmitnahme-1"===e.metaname}).firstOrDefault()&&(e.activationType|=l.c.portDefault))})}else a=[]}else a=t;return n!=l.e.undefined&&(a=s.a.from(a).where(function(e){return e.businessCases.indexOf(n)>=0}).toArray()),a}},{key:"filterServices",value:function(t,n,a){if(t.id==c.b.kabel)return e.filterServicesFromAvailability(t,n,a);var r=[],i=s.a.from(t.services).where(function(e){return(a&e.type)===e.type}).toArray(),o=s.a.from(t.services).join(n.services,function(e){return e.id},function(e){return e},function(e,t){return{S:e,A:t}}).select(function(e){return e.S}).toArray();return i.map(function(e,t){for(var n=!0,a=0;a<o.length;a++)if(o[a].notbookableWith&&o[a].notbookableWith.indexOf(e.id)>=0){n=!1;break}n&&r.push(e.id)}),r}},{key:"filterServicesFromAvailability",value:function(e,t,n){var a=[],r=o.a.getAvailability().getProduct(e.id,t.productId),i=s.a.from(r.elements).where(function(e){return 1==e.available}).toArray(),c=s.a.from(e.services).join(t.services,function(e){return e.id},function(e){return e},function(e,t){return{S:e,A:t}}).select(function(e){return e.S}).toArray();return c.map(function(e,t){var n=s.a.from(r.elements).where(function(t){return t.metaname===e.id}).firstOrDefault();n&&(e.notbookableWith=n.excludes)}),i.map(function(e,t){for(var n=!0,r=0;r<c.length;r++)if(c[r].notbookableWith&&c[r].notbookableWith.indexOf(e.metaname)>=0){n=!1;break}n&&a.push(e.metaname)}),a}},{key:"getSub",value:function(e,t){return t||e.id!==c.b.vodafone||(t="OS"),s.a.from(e.subs).where(function(e){return e.id===t}).first()}},{key:"getSubName",value:function(e,t,n){if(!t&&e.id===c.b.vodafone)return n;var a=s.a.from(e.subs).where(function(e){return e.id===t}).firstOrDefault();return a?a.name:u.h.na}},{key:"getBrand",value:function(e){return s.a.from(o.a.getBrands()).where(function(t){return t.id===e}).first()}}]),e}();t.a=d},61:function(e,t,n){"use strict";var a=n(10),r=n(11),i=n(14),s=n(12),o=n(15),c=n(7),l=n(9),u=n(0),d=n(59),p=n(6),m=n(8),h=n(1),v=n(16),f=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).value={id:"",name:"",type:p.d.undefined},n.rules=[],n.onChange=function(e){if(!n.props.disabled){var t={id:n.props.id?n.props.id:"",name:n.props.name?n.props.name:"",type:n.props.type,targetName:n.props.targetName};n.props.type===p.d.checkbox||n.props.type===p.d.radio||n.props.type===p.d.toggle?(t.value=e.target.checked?"1":"0",t.checked=e.target.checked):t.value=e.target.value,n.props.trimValue&&(t.value=t.value.toString().trim()),n.props.valueType&&n.props.valueType==p.n.numberInt&&(t.value=Number.parseInt(t.value)),n.value=t,n.rules.length>0&&n.validate(void 0,!0),n.props&&n.props.onChange&&n.props.onChange(t)}},n.disable=n.disable.bind(Object(c.a)(Object(c.a)(n))),n.onKeyDown=n.onKeyDown.bind(Object(c.a)(Object(c.a)(n))),n.hideShow=n.hideShow.bind(Object(c.a)(Object(c.a)(n))),n.validate=n.validate.bind(Object(c.a)(Object(c.a)(n))),n.setError=n.setError.bind(Object(c.a)(Object(c.a)(n))),n.state={changed:!1,visible:void 0==n.props.visible||n.props.visible,error:n.props.error},n.value={id:n.props.id?n.props.id:"",name:n.props.name?n.props.name:"",type:n.props.type,value:n.props.value,checked:n.props.checked,targetName:n.props.targetName},n.props.type===p.d.checkbox&&(n.value.value=n.value.checked?1:0),n}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentWillReceiveProps",value:function(e){}},{key:"getKey",value:function(){return this.props.name?this.props.name:void 0}},{key:"render",value:function(){if(this.value={id:this.props.id?this.props.id:"",name:this.props.name?this.props.name:"",type:this.props.type,value:this.props.value,checked:this.props.checked},this.props.type===p.d.checkbox&&(this.value.value=this.value.checked?1:0),this.state.hidden)return u.createElement(u.Fragment,null);if(this.props.type===p.d.title)return this.renderTitle();if(this.props.type===p.d.hint)return this.renderHint();var e="hint",t=this.props.hint;this.props.hintObject&&(t=this.props.hintObject),this.state.error&&(e+=" hint-error",t=this.state.error),this.props.error&&(e+=" hint-error",t=this.props.error);var n="oec";this.props.id?n+=this.props.id:this.props.name?n+=this.props.name:n+=m.a.getUniqueId();var a="oe-control "+this.props.style;return this.state.visible||(a+=" dn"),u.createElement("div",{className:a,id:n},this.props.hideTitle?null:u.createElement("div",{className:"title"},this.props.title?this.props.title:"\xa0"),this.renderAuto(),this.props.type===p.d.info||this.props.hideHint||!t?null:u.createElement(u.Fragment,null,u.createElement("div",{className:e},t),u.createElement("div",{className:"spacer"})))}},{key:"getId",value:function(){return this.props.id}},{key:"hideShow",value:function(e){this.setState({hidden:e})}},{key:"disable",value:function(){this.setState({changed:!0})}},{key:"getValue",value:function(){return this.value}},{key:"setValue",value:function(e){this.value.value=e,this.value.targetName=this.props.targetName,this.setState({changed:!0})}},{key:"getValidationOptions",value:function(){return this.rules?this.rules:[]}},{key:"setValidationOptions",value:function(e){this.rules=e}},{key:"validate",value:function(e,t){var n=this;if(this.rules.length>0&&(this.rules=[]),0===this.rules.length&&(this.props.validationOptions&&this.props.validationOptions.map(function(e,t){n.rules.push(e)}),e&&e.config.length>0&&e.config.map(function(e,t){e.rules.map(function(e,t){n.rules.push(new v.b(e))})})),this.rules.length>0)for(var a=0;a<this.rules.length;a++){var r=this.rules[a].isValid(this);if(r&&r.length>0)return t&&this.setState({error:r}),!1}return this.setState({error:""}),!0}},{key:"setError",value:function(e){this.setState({error:e})}},{key:"renderAuto",value:function(){var e=u.createElement(u.Fragment,null);return this.props.type===p.d.password?e=this.renderPassword():this.props.type===p.d.text?e=this.renderTextbox():this.props.type===p.d.radio?e=this.renderRadio():this.props.type===p.d.checkbox?e=this.renderCheckbox():this.props.type===p.d.dropdown?e=this.renderDropDown():this.props.type===p.d.info?e=this.renderInfo():this.props.type===p.d.toggle&&(e=this.renderToggle()),e}},{key:"renderHint",value:function(){var e=this.props.labelStyle||"";return u.createElement("div",{className:"oe-control"},u.createElement("div",{className:"hint hint-huge "+e,dangerouslySetInnerHTML:{__html:this.props.label?this.props.label:""}}))}},{key:"renderInfo",value:function(){var e="info noov";return this.props.overflowEnabled&&(e="info"),this.props.style&&(e+=" "+this.props.style),u.createElement("div",{className:"oe-info"},u.createElement("div",{className:e,title:this.props.label,dangerouslySetInnerHTML:{__html:this.props.label?this.props.label:""}}))}},{key:"renderTitle",value:function(){var e="title";return this.props.style&&(e+=" "+this.props.style),u.createElement("div",{className:"oe-control"},u.createElement("div",{className:e},u.createElement("div",{className:"text"},this.props.title),this.props.titleDesc?u.createElement("div",{className:"desc"},this.props.titleDesc):null))}},{key:"renderPassword",value:function(){return u.createElement("div",{className:"input-group"},u.createElement("input",{type:"password",onChange:this.onChange,className:"form-control",id:this.props.id,name:this.props.name,value:this.props.value,onKeyDown:this.onKeyDown,placeholder:this.props.placeholder?this.props.placeholder:"",autoComplete:this.props.autoComplete?this.props.autoComplete:""}),this.props.hideLabel?u.createElement(u.Fragment,null):u.createElement(u.Fragment,null,u.createElement("span",{className:"bar"}),u.createElement("label",{className:"oe-label"},this.props.label)))}},{key:"renderTextbox",value:function(){var e=this;return this.props.preview?u.createElement(t,{id:this.props.id,type:p.d.info,label:this.props.value,title:this.props.label}):u.createElement("div",{className:"input-group"},u.createElement("input",{type:"text",id:this.props.id,value:this.props.value,name:this.props.name,disabled:this.props.disabled,maxLength:this.props.maxLength?this.props.maxLength:void 0,minLength:this.props.minLength?this.props.minLength:void 0,className:"form-control",placeholder:this.props.placeholder,onKeyDown:this.onKeyDown,onPaste:function(t){if(e.props.pasteDisabled)return t.preventDefault(),!1},autoComplete:this.props.autoComplete?this.props.autoComplete:"",onChange:this.onChange,onClick:function(){e.props.onClick&&e.props.onClick(e)}}),this.props.hideLabel?u.createElement(u.Fragment,null):u.createElement(u.Fragment,null,u.createElement("span",{className:"bar"}),u.createElement("label",{className:"oe-label"},this.props.label)))}},{key:"renderToggle",value:function(){var e="oe-toggle";return this.props.disabled&&(e+=" disabled"),u.createElement("div",{className:e},u.createElement("input",{type:"checkbox",className:"oe-checkbox",id:this.props.id,name:this.props.name,checked:this.props.checked,onChange:this.onChange}),u.createElement("label",{htmlFor:this.props.id}),u.createElement("span",{className:this.props.labelStyle},this.props.label),u.createElement("div",{className:"oe-border"}))}},{key:"renderCheckbox",value:function(){var e="oe-checkbox";return this.props.disabled&&(e+=" disabled"),u.createElement("div",{className:e},this.props.tooltip?u.createElement(d.a,{place:"top",type:"light",effect:"solid",id:"ttctrl"+this.props.id},u.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.tooltip}})):null,u.createElement("input",{type:"checkbox",className:"oe-checkbox",id:this.props.id,name:this.props.name,checked:this.props.checked,onChange:this.onChange}),u.createElement("label",{htmlFor:this.props.id},u.createElement("span",{className:this.props.labelStyle,"data-tip":this.props.tooltip,"data-for":"ttctrl"+this.props.id,dangerouslySetInnerHTML:{__html:this.props.label?this.props.label:""}})),u.createElement("div",{className:"oe-border"}))}},{key:"renderRadio",value:function(){return u.createElement("div",{className:"oe-radio"},u.createElement("input",{type:"radio",id:this.props.id,name:this.props.name,checked:this.props.checked,onClick:this.onChange,onChange:this.onChange}),u.createElement("label",{htmlFor:this.props.id},u.createElement("span",{className:this.props.labelStyle},this.props.label)),u.createElement("div",{className:"oe-border"}))}},{key:"renderDropDown",value:function(){var e=this,n=this.props.options?this.props.options:new Array,a=this.props.options?l.from(this.props.options).where(function(t){return t.key==e.props.value}).firstOrDefault():void 0;return this.props.preview?u.createElement(t,{id:this.props.id,type:p.d.info,label:a?a.text:h.h.na,title:this.props.label}):u.createElement("div",{className:"oe-select"},u.createElement("select",{name:this.props.name,defaultValue:this.props.value,id:this.props.id,className:"selectbox",onChange:this.onChange},n.map(function(t,n){return u.createElement("option",{selected:t.key===e.props.value,value:t.key,key:n},t.text)})))}},{key:"onKeyDown",value:function(e){if("Enter"==e.key&&this.props.onEnter)return this.props.onEnter(e),e.preventDefault(),void e.stopPropagation()}}]),t}(u.Component);t.a=f},616:function(e,t,n){},63:function(e,t,n){"use strict";var a=n(10),r=n(11),i=n(14),s=n(12),o=n(15),c=n(0),l=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return c.createElement("div",{className:"clear"})}}]),t}(c.Component);t.a=l},633:function(e,t,n){},634:function(e,t,n){},635:function(e,t,n){},636:function(e,t,n){},637:function(e,t,n){},638:function(e,t,n){},639:function(e,t,n){},64:function(e,t,n){"use strict";n.d(t,"a",function(){return g}),n.d(t,"b",function(){return k});var a=n(14),r=n(12),i=n(15),s=n(10),o=n(11),c=n(9),l=n.n(c),u=n(4),d=n(8),p=n(1),m=n(13),h=n(6),v=n(31),f=n(49),b=n(5),y=function(){function e(){Object(s.a)(this,e),this.monthlyFeeProduct=0,this.monthlyFeeSub=0,this.monthlyFeeOptions=0,this.activationFeeProduct=0,this.activationFeeSub=0,this.activationFeeOptions=0}return Object(o.a)(e,[{key:"add",value:function(e){this.monthlyFeeProduct+=e.monthlyFeeProduct,this.monthlyFeeSub+=e.monthlyFeeSub,this.activationFeeProduct+=e.activationFeeProduct,this.activationFeeSub+=e.activationFeeSub,this.monthlyFeeOptions+=e.monthlyFeeOptions}},{key:"getActivationFee",value:function(){return{price:(this.activationFeeSub||0)+(this.activationFeeProduct||0)+(this.activationFeeOptions||0),unit:p.h.euro}}},{key:"getOptionsFeeMonthly",value:function(){return{price:this.monthlyFeeOptions||0,unit:p.h.euro}}},{key:"getMonthlyFee",value:function(){return{price:(this.monthlyFeeProduct||0)+(this.monthlyFeeOptions||0)+(this.monthlyFeeSub||0),unit:p.h.euro}}}]),e}(),g=function(){function e(t){var n=this;Object(s.a)(this,e),this.items=[],this.priceTotal=new y;var a=m.a.getBrands();t.activations.map(function(e){var r=l.a.from(a).where(function(t){return t.id==e.brandKey}).first(),i=new E(e,r,t.customer);n.priceTotal.add(i.priceTotal),n.items.push(i)})}return Object(o.a)(e,[{key:"getMonthlyFee",value:function(){var e={price:0,unit:p.h.euro};return this.items.map(function(t){e.price+=t.getMonthlyFee().price}),e}},{key:"getActivationFee",value:function(){var e={price:0,unit:p.h.euro};return this.items.map(function(t){e.price+=t.getActivationFee().price}),e}},{key:"getOptionMonthlyFee",value:function(){var e={price:0,unit:p.h.euro};return this.items.map(function(t){e.price+=t.getOptionMonthlyFee().price}),e}},{key:"getActivationByIndexes",value:function(e,t){return this.items[e].items[t]}}]),e}(),E=function(){function e(t,n,a){var r=this;Object(s.a)(this,e),this.items=[],this.activation=void 0,this.brand=void 0,this.customer=void 0,this.priceTotal=new y,this.brand=n,this.customer=a,this.activation=t,t.selection.children.length>0&&n.id==u.b.kabel?t.selection.children.map(function(e){var i=k.fromSelection(t.brandKey,e);i.activationType=t.activationType,i.activationDate=t.activationDate,i.contractId=t.contractId,i.processStatus=t.processStatus,r.add(C.fromActivation(i,n,a))}):this.add(C.fromActivation(t,n,a)),this.init(),this.calculatePrices()}return Object(o.a)(e,[{key:"getMonthlyFee",value:function(){var e={price:0,unit:p.h.euro};return this.items.map(function(t){e.price+=t.getMonthlyFee().price}),e}},{key:"getOptionMonthlyFee",value:function(){var e={price:0,unit:p.h.euro};return this.items.map(function(t){e.price+=t.getOptionMonthlyFee().price}),e}},{key:"getActivationFee",value:function(){var e={price:0,unit:p.h.euro};return this.items.map(function(t){e.price+=t.getActivationFee().price}),e}},{key:"hasMultiple",value:function(){return this.items&&this.items.length>1}},{key:"init",value:function(){var e=this;this.items.map(function(t){t.productUI=l.a.from(e.brand.products).where(function(e){return e.id===t.productId}).select(function(e){return e.name}).firstOrDefault(),t.subUI=l.a.from(e.brand.subs).where(function(e){return e.id===t.sub}).select(function(e){return e.name}).firstOrDefault(),t.promotionsUI=l.a.from(t.services).join(e.brand.services,function(e){return e},function(e){return e.id},function(e,t){return{A:e,S:t}}).where(function(e){return e.S.type===b.v.promotion}).select(function(e){return e.S.name}).toArray().join(", "),t.optionsUI=l.a.from(t.services).join(e.brand.services,function(e){return e},function(e){return e.id},function(e,t){return{A:e,S:t}}).where(function(e){return e.S.type===b.v.option}).select(function(e){return e.S.name}).toArray().join(", "),t.activationDateTitleUI=t.activationType===b.c.existingCustomer?p.k.prolongationDate:t.activationType===b.c.actDefault?p.k.activationDate:p.k.portationDate})}},{key:"add",value:function(e){this.items.push(e)}},{key:"calculatePrices",value:function(){var e=this;this.items.map(function(t){e.priceTotal.add(t.price)})}},{key:"getOptionPriceMonthly",value:function(e){for(var t=this,n=0,a=function(a){var r=l.a.from(t.brand.services).where(function(t){return t.id===e.services[a]&&t.type===b.v.option}).firstOrDefault();if(r){if(t.brand.id===u.b.kabel&&r.id.indexOf("bereitstellungsentgelt")>=0)return"continue";r&&r.monthlyFee&&(n+=r.monthlyFee.price)}if(e.brandKey===u.b.otelo){var i=l.a.from(t.brand.services).where(function(t){return t.id===e.services[a]&&t.type===b.v.promotion}).firstOrDefault();i&&i.monthlyFee&&(n+=i.monthlyFee.price)}},r=0;r<e.services.length;r++)a(r);return{price:n,unit:u.e.currencyUnit}}},{key:"getOptionPriceActivation",value:function(e){for(var t=this,n=0,a=function(a){var r=e.getOptionUniqueId(e.services[a]),i=l.a.from(t.brand.services).where(function(e){return e.id===r&&e.type===b.v.option}).firstOrDefault();if(i){if(e.brandKey===u.b.kabel&&i.id.indexOf("bereitstellungsentgelt")>=0)return"continue";i&&i.activationFee&&(n+=i.activationFee.price)}},r=0;r<e.services.length;r++)a(r);return{price:n,unit:u.e.currencyUnit}}},{key:"getProductPrice",value:function(e,t){var n=JSON.parse(JSON.stringify(t.monthlyFee));return e.brandKey===u.b.vodafone&&e.services.indexOf("SOHOV15_1")>=0&&(n.price=.9*n.price),n}},{key:"getPromoPrice",value:function(e){for(var t=this,n=0,a=function(a){var r=l.a.from(t.brand.services).where(function(t){return t.id===e.services[a]&&t.type===b.v.promotion}).firstOrDefault();r&&r.activationFee&&(n+=r.activationFee.price)},r=0;r<e.services.length;r++)a(r);return{price:n,unit:u.e.currencyUnit}}}]),e}(),k=function(){function e(t){var n=this;Object(s.a)(this,e),this.id=d.a.getUniqueId(),this.idx=0,this.processId="",this.catKey="",this.brandKey="",this.familyId=0,this.sub="",this.productId="",this.services=[],this.servicesRemove=[],this.msisdn="",this.code="",this.imei="",this.barcode="",this.contractId="",this.activationDate=d.a.convertUTCDateToLocalDate(new Date),this.activationTime=h.a.now,this.creditDebitType=b.f.postpaid,this.activationType=b.c.actDefault,this.availability=new f.g,this.portationType=h.j.undefined,this.portationDate=new Date,this.availabilityId="",this.inCurrent=!1,this.draftId="",this.cart=[],this.selection=new v.b("root"),this.additional=!1,this.nextContract=!1,this.customerId="",this.customerPassword="",this.isSimulation=!1,this.price=new y,this.processStatus={steps:[]},this.action=void 0,this.files=void 0,this.isMultiple=function(){return!!(n.selection&&n.selection.children.length>1)},this.isNba=function(){return!(!n.action||!n.action.nbaId)},this.getFile=function(e){if(n.files)return l.a.from(n.files).where(function(t){return t.Type==e}).firstOrDefault()},this.hasBoniFile=function(){return void 0!=n.getFile(b.b.boni)},this.hasContractFile=function(){return void 0!=n.getFile(b.b.contractMain)},this.brandKey=t,this.validateService=this.validateService.bind(this),this.getActivationDate=this.getActivationDate.bind(this)}return Object(o.a)(e,[{key:"updateSelection",value:function(e){this.selection=e}},{key:"getProductsTree",value:function(){var e=this,t=new v.a(this.brandKey,this.catKey);if(t.familyId=this.familyId,t.id=this.productId,t.brand=this.brandKey,this.brandKey==u.b.kabel){var n=[],a=m.a.getBrand(this.brandKey);return this.selection.children.map(function(r,i){var s=l.a.from(a.products).where(function(e){return e.id==r.id}).first();(t=new v.a(e.brandKey,s.catKey)).familyId=s.familyId,t.id=s.id,t.brand=e.brandKey;var o=v.a.FromTree(r);o.idx=i,t.children.push(o),n.push(t)}),n}var r=new v.a(this.sub,"");return this.services.map(function(e){r.add(e)}),t.addChildren([r]),[t]}},{key:"addRemoveProduct",value:function(e){var t=this;this.brandKey!=u.b.kabel&&(this.selection=new v.b("root"));var n=this.selection.getChildrenIds(),a=n.indexOf(e),r=d.a.categoryWrapper.getCategoryByProduct(e);n.map(function(e){d.a.categoryWrapper.getCategoryByProduct(e)==r&&t.selection.remove(e)}),-1==a&&this.selection.addOrRemove(e),this.productId=e}},{key:"addRemoveService",value:function(e,t){this.hasService(e,t)?this.removeService(e,void 0):this.addService(e,t)}},{key:"addRemoveServiceRemove",value:function(e,t){var n=this.servicesRemove.indexOf(e);n>=0?this.servicesRemove.splice(n,1):this.servicesRemove.push(e),m.a.updateActivation(this)}},{key:"removeService",value:function(e,t){var n=this.services.indexOf(e);n>=0&&(this.services.splice(n,1),m.a.updateActivation(this))}},{key:"addService",value:function(e,t){if(!this.hasService(e,t)){if(this.brandKey==u.b.kabel){var n=l.a.from(this.selection.children).where(function(e){return e.id==t}).firstOrDefault();n&&n.addOrRemove(e)}else this.services.push(e);m.a.updateActivation(this)}}},{key:"reset",value:function(){this.productId=this.sub="",this.services=[],this.servicesRemove=[],this.selection.reset()}},{key:"getProducts",value:function(){return this.selection.getChildrenIds()}},{key:"hasProduct",value:function(e){return this.brandKey==u.b.kabel?this.selection.getChildrenIds().indexOf(e)>=0:this.productId==e}},{key:"getSubs",value:function(e){return this.selection.find(e).getChildrenIds()}},{key:"addRemoveSub",value:function(e,t){var n=this.selection.find(e);this.brandKey!=u.b.kabel&&(this.selection.children=[]),this.sub=t,n.addOrRemove(t)}},{key:"isActivated",value:function(){if(!this.processStatus||!this.processStatus.steps)return!1;var e=this.getStep(h.l.activation);return!!e&&e.status===h.k.done}},{key:"isTimedout",value:function(){if(!this.processStatus||!this.processStatus.steps)return!1;var e=this.getStep(h.l.activation);return!!e&&e.status===h.k.timeout}},{key:"getProductPrice",value:function(e){var t=JSON.parse(JSON.stringify(e.monthlyFee));this.brandKey===u.b.vodafone&&this.services.indexOf("SOHOV15_1")>=0&&(t.price=.9*t.price);return t}},{key:"getMonthlyFee",value:function(){var e=this,t=m.a.getBrand(this.brandKey),n=l.a.from(t.products).where(function(t){return t.id===e.productId}).first(),a=l.a.from(t.subs).where(function(t){return t.id===e.sub}).firstOrDefault(),r={price:n.monthlyFee.price,unit:p.h.euro};return a&&a.monthlyFee&&(r.price+=a.monthlyFee.price),r}},{key:"activateManually",value:function(){if(!this.processStatus||!this.processStatus.steps)return!1;this.processStatus.steps.forEach(function(e,t){e.status=h.k.done}),m.a.updateActivation(this)}},{key:"isPrinted",value:function(){if(!this.processStatus||!this.processStatus.steps)return!1;var e=this.getStep(h.l.print);return!!e&&e.status===h.k.done}},{key:"getStep",value:function(e){return this.processStatus||(this.processStatus={steps:[]}),l.a.from(this.processStatus.steps).where(function(t){return t.type==e}).firstOrDefault()}},{key:"resetSteps",value:function(e){var t=this.getStep(e);t&&(t.status=h.k.undefined,t.message="",this.updateStep(t))}},{key:"updateStep",value:function(e){var t=l.a.from(this.processStatus.steps).where(function(t){return t.type==e.type}).firstOrDefault();this.processStatus.steps[this.processStatus.steps.indexOf(t)]=e,m.a.updateActivation(this)}},{key:"updateSteps",value:function(e){this.processStatus.steps=e,m.a.updateActivation(this)}},{key:"isDone",value:function(){return!!(this.processStatus&&this.processStatus.steps&&this.processStatus.steps.length>0)&&l.a.from(this.processStatus.steps).where(function(e){return e.status===h.k.done}).count()==this.processStatus.steps.length}},{key:"resetSeetedsubsAndServices",value:function(){this.sub="",this.services=[],this.servicesRemove=[]}},{key:"isWithHardware",value:function(){var e=this;if(this.brandKey!=u.b.kabel)return!0;var t=l.a.from(d.a.categoryWrapper.bra).where(function(t){return t.id==e.brandKey}).first(),n=l.a.from(t.products).where(function(t){return t.id==e.productId}).first();return!(!n.subs||0==n.subs.length)}},{key:"hardwareNecesseryAndSelected",value:function(e){var t=this;if(this.brandKey!=u.b.kabel)return!0;var n=l.a.from(d.a.categoryWrapper.bra).where(function(e){return e.id==t.brandKey}).first(),a=0;return this.selection.children.map(function(r){if(!e||e&&r.id==e){var i=l.a.from(n.products).where(function(e){return e.id==t.productId}).first();if(i.subs&&0!=i.subs.length){var s=f.a.ensure(d.a.categoryWrapper.avl.getProduct(t.brandKey,r.id));d.a.indexOfAny(r.getChildrenIds(),s.getServices())&&a++}else a++}}),e?1==a:a==this.selection.children.length}},{key:"hasService",value:function(e,t){if(this.brandKey!=u.b.kabel)return this.services.indexOf(e)>=0;var n=l.a.from(this.selection.children).where(function(e){return e.id==t}).firstOrDefault();return!!n&&n.getChildrenIds().indexOf(e)>=0}},{key:"checkServiceCompatibility",value:function(e,t){for(var n=this,a=function(a){if((i=l.a.from(t.services).where(function(e){return e.id==n.services[a]}).firstOrDefault())&&i.notbookableWith&&i.notbookableWith.indexOf(e)>=0)return{v:[i.id]}},r=0;r<this.services.length;r++){var i,s=a(r);if("object"===typeof s)return s.v}return[]}},{key:"hasHardware",value:function(){var e=[],t=l.a.from(m.a.getBrand(this.brandKey).subs).select(function(e){return e.id}).toArray();return this.brandKey==u.b.kabel?this.selection.children.map(function(t){e=e.concat(t.getChildrenIds())}):e.push(this.sub),d.a.containsAny(t,e)}},{key:"removeServiceLike",value:function(e){var t=this;l.a.from(this.services).where(function(t){return t.indexOf(e)>=0}).toArray().map(function(e){t.removeService(e,void 0)})}},{key:"getOptionUniqueId",value:function(e){if(e.indexOf("/")>0){var t=e.split("/");return t[t.length-1]}return e}},{key:"getOptionPriceActivation",value:function(e){for(var t=this,n=0,a=function(a){var r=t.getOptionUniqueId(t.services[a]),i=l.a.from(e.services).where(function(e){return e.id===r&&e.type===b.v.option}).firstOrDefault();if(i){if(e.id===u.b.kabel&&i.id.indexOf("bereitstellungsentgelt")>=0)return"continue";i&&i.activationFee&&(n+=i.activationFee.price)}},r=0;r<this.services.length;r++)a(r);return{price:n,unit:u.e.currencyUnit}}},{key:"getPromoPrice",value:function(e){for(var t=this,n=0,a=function(a){var r=l.a.from(e.services).where(function(e){return e.id===t.services[a]&&e.type===b.v.promotion}).firstOrDefault();r&&r.activationFee&&(n+=r.activationFee.price)},r=0;r<this.services.length;r++)a(r);return{price:n,unit:u.e.currencyUnit}}},{key:"validateService",value:function(e){var t=this,n=l.a.from(m.a.getBrands()).where(function(e){return e.id==t.brandKey}).first(),a=l.a.from(n.services).where(function(t){return t.id===e}).firstOrDefault();if(a&&(a.notbookableWith&&this.services.some(function(e){return a.notbookableWith.indexOf(e)>=0})&&this.services.indexOf(a.id)>=0))return!0;for(var r=function(a){if(t.services[a]===e)return"continue";var r=l.a.from(n.services).where(function(e){return e.id===t.services[a]}).firstOrDefault();return r&&r.notbookableWith&&r.notbookableWith.indexOf(e)>=0&&t.services.indexOf(r.id)>=0?{v:!0}:void 0},i=0;i<this.services.length;i++){var s=r(i);if("continue"!==s&&"object"===typeof s)return s.v}return!1}},{key:"getBarcode",value:function(){if(this.processStatus&&this.processStatus.steps){var e=l.a.from(this.processStatus.steps).where(function(e){return e.type==h.l.activation}).firstOrDefault();if(e&&e.message){var t=JSON.parse(e.message);if(t.ContractId)return t.ContractId}}}},{key:"getContractId",value:function(){if(this.processStatus&&this.processStatus.steps){var e=l.a.from(this.processStatus.steps).where(function(e){return e.type===h.l.activation}).firstOrDefault();if(e&&e.message){var t=JSON.parse(e.message);if(t.ContractId)return t.ContractId}}}},{key:"getActivationDate",value:function(){return this.activationType===b.c.portDefault?d.a.toGermanDate(this.portationDate):d.a.toGermanDate(this.activationDate)}},{key:"getCustomerId",value:function(){if(this.processStatus&&this.processStatus.steps){var e=l.a.from(this.processStatus.steps).where(function(e){return e.type===h.l.activation}).firstOrDefault();if(e&&e.message){var t=JSON.parse(e.message);if(t.CustomerId)return t.CustomerId}}}},{key:"getSim",value:function(){if(this.processStatus&&this.processStatus.steps){var e=l.a.from(this.processStatus.steps).where(function(e){return e.type===h.l.activation}).firstOrDefault();if(e&&e.message){var t=JSON.parse(e.message);if(t.Sim)return t.Sim}}return p.h.unkonwnAtThisTime}}],[{key:"createInstance",value:function(t,n,a){var r=new e(t);return r.activationType=b.c.actDefault,r.portationType=h.j.undefined,r.processId=n,r.catKey=a,r.id=d.a.getUniqueId(),r}},{key:"fromSelection",value:function(t,n){var a=new e(t);a.productId=n.id;var r=m.a.getAvailabilityForBrand(t),i=l.a.from(r.products).where(function(e){return e.productId==n.id}).firstOrDefault(),s=l.a.from(n.children).join(i.elements,function(e){return e.id},function(e){return e.metaname},function(e,t){return{I:e,P:t}}).where(function(e){return e.P.type==u.d.devices}).firstOrDefault();return s&&(a.sub=s.P.metaname,a.services=l.a.from(n.children).join(i.elements,function(e){return e.id},function(e){return e.metaname},function(e,t){return{I:e,P:t}}).where(function(e){return e.P.type!=u.d.devices}).select(function(e){return e.I.id}).toArray()),a}},{key:"clone",value:function(t){var n=JSON.parse(JSON.stringify(t));return e.ensure(n)}},{key:"ensure",value:function(t){var n=Object.assign(new e(t.brandKey),t);return n.selection=v.b.ensure(n.selection),n}}]),e}(),C=function(e){function t(e,n){var i;return Object(s.a)(this,t),(i=Object(a.a)(this,Object(r.a)(t).call(this,e))).product=void 0,i.hardware=void 0,i.options=void 0,i.brand=void 0,i.ttProduct=void 0,i.ttHardware=void 0,i.ttOptions=void 0,i.ttActivation=void 0,i.customer=void 0,i.subUI="",i.productUI="",i.optionsUI="",i.promotionsUI="",i.activationDateUI="",i.msisdnUI=p.h.unkonwnAtThisTime,i.barcodeUI=p.h.unkonwnAtThisTime,i.simUI=p.h.unkonwnAtThisTime,i.customerIdUI=p.h.unkonwnAtThisTime,i.activationDateTitleUI="",i.customer=n,i}return Object(i.a)(t,e),Object(o.a)(t,[{key:"init",value:function(e){var t=this;if(this.brand=e,this.productId)if(this.product=l.a.from(e.products).where(function(e){return e.id==t.productId}).firstOrDefault(),this.product)this.ttProduct=this.product.tooltipExtra,this.sub&&(this.hardware=l.a.from(e.subs).where(function(e){return e.id==t.sub}).firstOrDefault(),this.hardware&&(this.ttHardware=this.hardware.tooltipExtra,this.services&&this.services.length&&(this.options=l.a.from(e.services).where(function(e){return t.services.indexOf(e.id)>=0}).toArray(),this.ttOptions=this.getTooltipOptions(),this.ttActivation=this.getTooltipActivation())));else{var n={id:this.productId,name:this.customer.contracts[0].bookedProduct.name};this.product=n}}},{key:"getActivationFee",value:function(){var e,t=this,n=m.a.getBrand(this.brandKey),a=m.a.getAvailabilityForBrand(this.brandKey),r=l.a.from(n.products).where(function(e){return e.id===t.productId}).firstOrDefault();if(!r)return{price:0,unit:p.h.euro};if(this.brandKey===u.b.kabel){var i=l.a.from(a.products).where(function(e){return e.productId===t.productId}).firstOrDefault(),s=l.a.from(this.services).where(function(e){return e.indexOf("bereitstellungsentgelt")>=0}).firstOrDefault();if(s){var o=l.a.from(i.elements).where(function(e){return e.metaname===s}).firstOrDefault();if(o)return{price:100*o.prices[0].amount,unit:p.h.euro}}}return e={price:r.activationFee?r.activationFee.price:0,unit:p.h.euro},this.options&&this.options.map(function(t){t&&t.activationFee&&(e.price+=t.activationFee.price)}),e}},{key:"getSubMonthlyFee",value:function(){return this.hardware?this.hardware.monthlyFee:d.a.getEmptyFee()}},{key:"getProductMonthlyFee",value:function(){return this.product?this.product.monthlyFee:d.a.getEmptyFee()}},{key:"getOptionMonthlyFee",value:function(){var e=0;this.options&&(e=l.a.from(this.options).select(function(e){return e.monthlyFee.price}).sum());var t=d.a.getEmptyFee();return t.price=e,t}},{key:"getOptionActivationFee",value:function(){var e=0;this.options&&(e=l.a.from(this.options).select(function(e){return e.activationFee.price}).sum());var t=d.a.getEmptyFee();return t.price=e,t}},{key:"getProductActivationFee",value:function(){return this.product?this.product.activationFee:d.a.getEmptyFee()}},{key:"getMonthlyFee",value:function(){var e=d.a.getEmptyFee();return e.price+=this.getProductMonthlyFee().price,e.price+=this.getSubMonthlyFee().price,e.price+=this.getOptionPriceMonthly().price,e}},{key:"getOptionPriceMonthly",value:function(){for(var e=this,t=0,n=function(n){var a=l.a.from(e.brand.services).where(function(t){return t.id===e.services[n]&&t.type===b.v.option}).firstOrDefault();if(a){if(e.brand.id===u.b.kabel&&a.id.indexOf("bereitstellungsentgelt")>=0)return"continue";a&&a.monthlyFee&&(t+=a.monthlyFee.price)}if(e.brand.id===u.b.otelo){var r=l.a.from(e.brand.services).where(function(t){return t.id===e.services[n]&&t.type===b.v.promotion}).firstOrDefault();r&&r.monthlyFee&&(t+=r.monthlyFee.price)}},a=0;a<this.services.length;a++)n(a);return{price:t,unit:u.e.currencyUnit}}},{key:"getTooltipOptions",value:function(){return this.options?l.a.from(this.options).where(function(e){return!e.activationFee||0==e.activationFee.price}).select(function(e){return e.tooltipExtra?"<li>"+e.tooltipExtra+"</li>":""}).toArray().join(""):""}},{key:"getTooltipActivation",value:function(){return this.options?l.a.from(this.options).where(function(e){return void 0!=e.activationFee&&0!=e.activationFee.price}).select(function(e){return e.tooltipExtra?"<li>"+e.tooltipExtra+"</li>":""}).toArray().join(""):""}},{key:"getCustomerName",value:function(){return this.customer.firstname+" "+this.customer.surname}},{key:"getContractType",value:function(){var e=p.h.contractTypeBnt;return this.activationType==b.c.actDefault?e=p.h.contractTypeBnt:this.activationType===b.c.portDefault?e=p.h.contractTypePort:this.activationType===b.c.existingCustomer?e=p.h.contractTypeProlong:this.activationType===b.c.bookService&&(this.activationDateTitleUI=p.k.bookDate,this.customerIdUI=this.customer.contracts&&this.customer.contracts[0].customerId?this.customer.contracts[0].customerId:p.h.unkonwnAtThisTime,document.title=this.customerIdUI+" "+d.a.toGermanDate(new Date)),e}},{key:"getActionName",value:function(){return p.h.thankYouFor+" "+(this.customer.action?this.customer.action.name:p.h.na)}},{key:"getCustomerId",value:function(){p.h.unkonwnAtThisTime;return this.customer.contracts&&this.customer.contracts[0]&&this.customer.contracts[0].customerId||p.h.na}},{key:"getMsisdn",value:function(){if(this.processStatus&&this.processStatus.steps){var e=l.a.from(this.processStatus.steps).where(function(e){return e.type===h.l.activation}).firstOrDefault();if(e&&e.message){var t=JSON.parse(e.message);if(t.MobileNumber)return t.MobileNumber}}return this.inCurrent||this.activationType==b.c.existingCustomer?this.customer.contracts&&this.customer.contracts[0]?this.customer.contracts[0].msisdn:p.h.na:this.activationType==b.c.portDefault?this.msisdn:p.h.unkonwnAtThisTime}},{key:"getProductName",value:function(){return this.product?this.product.name:p.h.na}},{key:"getContractIdUi",value:function(){var e=m.a.getUser(),t=this.contractId?this.contractId:p.h.unkonwnAtThisTime;if(this.activationType==b.c.portDefault&&this.brandKey==u.b.otelo){var n=this.getStep(h.l.activation);if(n&&n.message){var a=JSON.parse(n.message);a&&(t=a.ContractId)}}else if(this.isDone()){var r=this.getStep(h.l.activation);t=JSON.parse(r.message).ContractId}return t&&t.endsWith(e.username.replace("-",""))&&(t=p.h.unkonwnAtThisTime),t}}],[{key:"fromActivation",value:function(e,n,a){var r=e;return(r=t.ensureUi(r,a)).init(n),r.processStatus=e.processStatus,r.customer=a,r}},{key:"ensureUi",value:function(e,n){var a=Object.assign(new t(e.brandKey,n),e);return a.customer=n,a}}]),t}(k);t.c=k},640:function(e,t,n){},641:function(e,t,n){},642:function(e,t,n){},643:function(e,t,n){},644:function(e,t,n){},647:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(67),s=n.n(i),o=n(73);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=n(8),l=n(105),u=n(133);n.d(t,"getStore",function(){return p});var d=Object(l.a)();function p(){return d}d.subscribe(function(){console.log("subscribe",d.getState())}),c.a.getConfiguration().debug,s.a.render(r.a.createElement(u.a,{store:d},r.a.createElement(o.b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},65:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return r});var a,r,i=n(10),s=n(11),o=n(14),c=n(12),l=n(15),u=n(7),d=n(307),p=n.n(d),m=n(9),h=n(0),v=n(42),f=n(23),b=n(19),y=n(214),g=n.n(y),E=(n(530),n(6)),k=n(8),C=n(1),_=n(16),O=n(63),S=n(61);Object(y.registerLocale)("de",p.a),function(e){e[e.default=0]="default",e[e.fixedStart=1]="fixedStart"}(a||(a={})),function(e){e[e[void 0]=0]="undefined",e[e.withToggle=1]="withToggle",e[e.textInput=2]="textInput"}(r||(r={}));var w=function(e){function t(e){var n;Object(i.a)(this,t),(n=Object(o.a)(this,Object(c.a)(t).call(this,e))).value=new Date,n.type=a.default,n.datePicker=!1,n.textFieldDate="",n.errorMessage=void 0,n.rules=[],n.valueControl={id:"",name:"",type:E.d.undefined},n.valop=[],n.mode=void 0,n.handleChange=function(e){n.value.setDate(e),n.props.onChange&&n.props.onChange({type:E.d.date,name:n.props.name,id:n.props.id,dateValue:k.a.dateToString(e)}),n.setState({changed:!0,startDate:e})},n.onChangeD=n.onChangeD.bind(Object(u.a)(Object(u.a)(n))),n.onChangeM=n.onChangeM.bind(Object(u.a)(Object(u.a)(n))),n.onChangeY=n.onChangeY.bind(Object(u.a)(Object(u.a)(n))),n.props.type&&(n.type=n.props.type);var s=k.a.toDate(n.props.value);return n.value=s||new Date,n.props.from&&(n.value=n.props.from),n.props.datePicker&&!0===n.props.datePicker&&(n.datePicker=!0),n.mode=n.props.mode?n.props.mode:r.undefined,(n.mode&r.withToggle)===r.withToggle&&(n.textFieldDate=k.a.toGermanDate(n.value)),n.valop.push({id:"birthday",options:[new _.c({type:_.a.regEx,message:C.m.errorDateFormat})]}),n.state={changed:!1,startDate:n.props.value?new Date(n.props.value):new Date},n}return Object(l.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=k.a.toDate(this.value);return this.value=e||new Date,this.props.preview||this.props.type===a.default||this.applyValue(),this.props.preview?this.renderPreview(this.value):this.renderControl(this.value)}},{key:"renderPreview",value:function(e){return h.createElement(v.a,null,h.createElement(f.a,null,h.createElement(b.a,{xs:3,md:3,className:"np"},h.createElement(S.a,{type:E.d.info,label:k.a.toGermanDate(this.value),onChange:this.onChangeD,name:this.props.id+"Day",style:this.props.style,id:this.props.id+"-day",title:this.props.title}))))}},{key:"renderControl",value:function(e){var t=this,n=h.createElement(S.a,{onClick:function(){},type:E.d.text,onChange:onchange,label:this.props.title,value:e});return h.createElement(v.a,{className:"oe-control"},this.props.mode&&this.props.mode===r.withToggle?h.createElement(f.a,null,h.createElement(S.a,{type:E.d.toggle,onChange:function(e){(t.mode&r.textInput)===r.textInput?t.mode&=~r.textInput:t.mode|=r.textInput,(t.mode&r.withToggle)===r.withToggle&&(t.textFieldDate=k.a.toGermanDate(t.value)),t.setState({changed:!0})},hideTitle:!0,hideHint:!0,id:"switch",label:"Benutzereingabemodus"})):null,h.createElement(f.a,null,(this.mode&r.textInput)===r.textInput?h.createElement(h.Fragment,null,h.createElement(S.a,{id:"bdayfield",onClick:function(){},name:"birthday",type:E.d.text,onChange:function(e){t.handleChangeTextInput(e)},label:this.props.title,value:this.textFieldDate,validationOptions:[new _.c({type:_.a.required,message:C.m.requiredError}),new _.c({type:_.a.bdayValidation,message:""})]}),h.createElement(S.a,{hideTitle:!0,labelStyle:"tc-hint mwa",type:E.d.hint,label:"Die Eingabe muss im Format TT.MM.JJJJ erfolgen."}),h.createElement(O.a,null)):h.createElement(h.Fragment,null),(this.mode&r.textInput)===r.textInput?h.createElement(h.Fragment,null):h.createElement(h.Fragment,null,!0===this.datePicker?h.createElement(h.Fragment,null,h.createElement(g.a,{id:this.props.id,popperClassName:"some-custom-class",locale:"de",dateFormat:k.a.toGermanDate(this.state.startDate),onChange:this.handleChange,selected:this.state.startDate,showYearDropdown:!0,showMonthDropdown:!0,maxDate:this.props.to?this.props.to:new Date(2500,1,1),minDate:this.props.from?this.props.from:new Date(1900,1,1),popperModifiers:{offset:{enabled:!0,offset:"60px, 10px"},preventOverflow:{enabled:!0,escapeWithReference:!1,boundariesElement:"viewport"}},showDisabledMonthNavigation:!0,popperPlacement:"right",customInput:n}),h.createElement(f.a,null,h.createElement(b.a,{xs:12,md:12,className:"np"},h.createElement(S.a,{type:E.d.date,id:"deliveryDateValidationKabel",value:this.state.startDate,visible:this.props.hasKabel&&"deliveryDate"===this.props.id,validationOptions:[new _.c({type:_.a.errorDeliveryDate,message:C.m.errorDeliveryDate})]})))):h.createElement(h.Fragment,null,h.createElement(b.a,{xs:3,md:3,className:"np"},h.createElement(S.a,{type:E.d.dropdown,value:e.getDate().toString(),style:this.props.style,onChange:this.onChangeD,name:this.props.id+"Day",id:this.props.id+"-day",title:this.props.title,isChild:!0,options:this.getDynamicDays()})),h.createElement(b.a,{xs:5,md:5},h.createElement(S.a,{type:E.d.dropdown,value:e.getMonth()+1,style:this.props.style,onChange:this.onChangeM,name:this.props.id+"Month",id:this.props.id+"-month",isChild:!0,options:this.getDynamicMonths()})),h.createElement(b.a,{xs:4,md:4,className:"np"},h.createElement(S.a,{type:E.d.dropdown,value:e.getFullYear().toString(),style:this.props.style,onChange:this.onChangeY,name:this.props.id+"Year",id:this.props.id+"-year",isChild:!0,options:this.getDynamicYears()})),h.createElement(f.a,null,h.createElement(b.a,{xs:12,md:12,className:"np"},h.createElement(S.a,{type:E.d.date,id:"bdaydropdownfulldate",value:this.value,visible:!0,validationOptions:[new _.c({type:_.a.bdayValidationVeryPrecise,message:""})]})))))))}},{key:"handleChangeTextInput",value:function(e){var t=k.a.fromGermanDateString(e.value);this.textFieldDate=e.value,t&&k.a.dateIsValid(t)&&(this.value=t,this.props.onChange({type:E.d.date,name:this.props.name,id:this.props.id,dateValue:k.a.dateToString(this.value)})),this.setState({changed:!0})}},{key:"onChangeD",value:function(e){this.value.setDate(parseInt(e.value?e.value:"1")),this.props.onChange&&this.props.onChange({type:E.d.date,name:this.props.name,id:this.props.id,dateValue:k.a.dateToString(this.value)}),this.setState({changed:!0})}},{key:"onChangeM",value:function(e){var t=parseInt(e.value?e.value:"1")-1;this.value.setMonth(t),this.props.onChange&&this.props.onChange({type:E.d.date,name:this.props.name,id:this.props.id,dateValue:k.a.dateToString(this.value)}),this.setState({changed:!0})}},{key:"validate",value:function(e,t){var n=this;if(0===this.rules.length&&(this.props.validationOptions&&this.props.validationOptions.map(function(e,t){n.rules.push(e)}),e&&e.config.length>0&&e.config.map(function(e,t){e.rules.map(function(e,t){n.rules.push(new _.b(e))})})),this.rules.length>0)for(var a=0;a<this.rules.length;a++){var r=void 0!==this.errorMessage?this.errorMessage:"";if(r&&r.length>0)return t&&this.setState({changed:!0}),!1}return!1}},{key:"getId",value:function(){return this.props.id}},{key:"getValue",value:function(){return this.valueControl}},{key:"onChangeY",value:function(e){this.value.setFullYear(parseInt(e.value?e.value:"1")),this.props.onChange&&this.props.onChange({type:E.d.date,name:this.props.name,id:this.props.id,dateValue:k.a.dateToString(this.value)}),this.setState({changed:!0})}},{key:"applyValue",value:function(){this.props.type===a.fixedStart&&this.props.from&&this.props.to&&this.props.value&&(this.value<this.props.from||this.value>this.props.to)&&(this.value=new Date(this.value.getFullYear(),this.props.from.getMonth(),this.props.from.getDate()))}},{key:"getDynamicDays",value:function(){if(this.type===a.default)return k.a.getDays(1,k.a.getDaysInMonth(this.value));for(var e=[],t=this.props.from?this.props.from:new Date,n=this.props.to?this.props.to:new Date,r=k.a.getDaysInMonth(this.value),i=1;i<=r;i++){var s=new Date(this.value.getFullYear(),this.value.getMonth(),i);this.props.id,s>=t&&s<=n&&e.push(i)}return m.from(e).select(function(e){return{key:e.toString(),text:e.toString()}}).toArray()}},{key:"getDynamicMonths",value:function(){if(this.type===a.default)return k.a.getMonths(1);for(var e=[],t=this.props.from?this.props.from:new Date,n=this.props.to?this.props.to:new Date,r=0;r<=11;r++){var i=new Date(this.value.getFullYear(),r,this.value.getDate());i>=t&&i<=n&&e.push(r+1),i>=t&&i<=n&&e.push(r+1)}var s=k.a.getMonths(1),o=m.from(e).join(s,function(e){return e},function(e){return e.key},function(e,t){return{N:e,M:t}}).toArray();return m.from(o).select(function(e){return{key:e.M.key.toString(),text:e.M.text}}).toArray()}},{key:"getDynamicYears",value:function(){if(this.type===a.default)return k.a.getYears(1900,this.props.minimumBdayYear?this.props.minimumBdayYear:(new Date).getFullYear());for(var e=[],t=this.props.from?this.props.from:new Date,n=this.props.to?this.props.to:new Date,r=t.getFullYear();r<=n.getFullYear();r++){new Date(r,this.value.getMonth(),this.value.getDate());e.indexOf(r)<0&&e.push(r)}return m.from(e).select(function(e){return{key:e.toString(),text:e.toString()}}).toArray()}}]),t}(h.Component);t.c=w},66:function(e,t,n){"use strict";var a=n(165),r=n(10),i=n(11),s=n(14),o=n(12),c=n(15),l=n(0),u=n(42),d=n(23),p=n(19),m=n(18),h=n(3),v=n(6),f=n(5),b=n(1),y=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(o.a)(t).call(this,e))).state={changed:!1},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e={title:b.k.customerBills,transparent:!1};return l.createElement(m.a,{config:e},l.createElement(u.a,null,l.createElement(d.a,null,l.createElement(p.a,{xs:12,md:12,className:"np"},l.createElement(h.l,{type:v.d.title,title:b.k.billType}))),this.props.parent.props.parent.dataWrapper.hasVodafone()||this.props.parent.props.parent.dataWrapper.hasDsl()?l.createElement(d.a,null,l.createElement(p.a,{xs:6,md:6},l.createElement(h.l,{onChange:this.props.onChange,checked:null!=this.props.evn&&this.props.evn.billingType==f.d.online,type:v.d.radio,hideTitle:!0,name:"evn.billingType",id:"billingType_2",label:"Online"}))):l.createElement(d.a,null,l.createElement(p.a,{xs:6,md:6,className:"np"},l.createElement(h.l,{onChange:this.props.onChange,checked:null!=this.props.evn&&this.props.evn.billingType==f.d.email,type:v.d.radio,hideTitle:!0,name:"evn.billingType",id:"billingType_1",label:"per E-Mail "})),l.createElement(p.a,{xs:6,md:6},l.createElement(h.l,{onChange:this.props.onChange,checked:null!=this.props.evn&&this.props.evn.billingType==f.d.online,type:v.d.radio,hideTitle:!0,name:"evn.billingType",id:"billingType_2",label:"Online und App"}))),l.createElement(d.a,null,l.createElement(p.a,{xs:12,md:12,className:"np"},l.createElement(h.l,{hideTitle:!0,type:v.d.hint,label:b.k.evnDesc}),l.createElement(h.k,null))),this.props.parent.props.parent.dataWrapper.hasOtelo()||this.props.parent.props.parent.dataWrapper.hasVodafone()?l.createElement(l.Fragment,null,l.createElement(d.a,null,l.createElement(p.a,{xs:12,md:12,className:"np"},l.createElement(h.l,{type:v.d.title,title:b.k.evn}))),l.createElement(d.a,null,l.createElement(p.a,{xs:4,md:4,className:"np"},l.createElement(h.l,{onChange:this.props.onChange,checked:null!=this.props.evn&&this.props.evn.evnType==f.i.fullEvn,type:v.d.radio,name:"evn.evnType",id:"evnType_1",hideTitle:!0,label:this.props.parent.props.parent.dataWrapper.hasVodafone()?b.k.evnVf1:b.k.evn1})),l.createElement(p.a,{xs:4,md:4},l.createElement(h.l,{onChange:this.props.onChange,checked:null!=this.props.evn&&this.props.evn.evnType==f.i.shortEvn,type:v.d.radio,name:"evn.evnType",id:"evnType_2",hideTitle:!0,label:this.props.parent.props.parent.dataWrapper.hasVodafone()?b.k.evnVf2:b.k.evn2})),l.createElement(p.a,{xs:4,md:4,className:"npr"},l.createElement(h.l,{onChange:this.props.onChange,checked:null!=this.props.evn&&this.props.evn.evnType==f.i.noEvn,type:v.d.radio,name:"evn.evnType",id:"evnType_3",hideTitle:!0,label:this.props.parent.props.parent.dataWrapper.hasVodafone()?b.k.evnVf3:b.k.evn3})))):null,this.props.parent.props.parent.dataWrapper.hasVodafone()&&this.props.parent.props.parent.dataWrapper.data.customer.evn&&this.props.parent.props.parent.dataWrapper.data.customer.evn.evnType!=f.i.noEvn?l.createElement(l.Fragment,null,l.createElement(d.a,null,l.createElement(p.a,{xs:12,md:12,className:"np"},l.createElement(h.l,{type:v.d.title,title:b.k.targetNumber}))),l.createElement(d.a,null,l.createElement(p.a,{xs:4,md:4,className:"np"},l.createElement(h.l,{onChange:this.props.onChange,checked:null!=this.props.evn&&this.props.evn.targetNumberType==f.x.complete,hideTitle:!0,type:v.d.radio,name:"evn.targetNumberType",id:"targetNumberType_1",label:b.h.complete})),l.createElement(p.a,{xs:4,md:4},l.createElement(h.l,{onChange:this.props.onChange,hideTitle:!0,checked:null!=this.props.evn&&this.props.evn.targetNumberType==f.x.shortened,type:v.d.radio,name:"evn.targetNumberType",id:"targetNumberType_2",label:b.h.shortened})))):null),l.createElement(h.k,null))}}]),t}(l.Component),g=n(9),E=n.n(g),k=n(142),C=n(4),_=n(13),O=n(16),S=n(71),w=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(o.a)(t).call(this,e))).state={changed:!1},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({changed:!0})}},{key:"render",value:function(){var e={title:b.k.dslHouse,transparent:!1};this.props.parent.props.parent.data.customer.mnp&&"1"==this.props.parent.props.parent.data.customer.mnp.provider&&(e.title="Kontakt");var t=this.props.house?this.props.house:new k.a,n=!1;if(this.props.parent.props.parent.dataWrapper.hasDslOnly()){var a=_.a.getAvailability(),r=g.from(a.brands).where(function(e){return e.key===C.b.dsl}).firstOrDefault();this.props.parent.props.parent.data.customer.house&&this.props.parent.props.parent.data.customer.house.tel.telType==v.m.mobile?(n=!1,this.props.parent.props.customer.house&&this.props.parent.props.customer.house.tel.prefix==r.products[0].areaCode&&(this.props.parent.props.customer.house.tel.prefix="")):(n=!0,r&&r.products&&r.products.length>0&&this.props.parent.props.customer.house&&(this.props.parent.props.customer.house.tel.prefix=r.products[0].areaCode))}return l.createElement(m.a,{config:e},l.createElement(u.a,null,this.props.showAddress?l.createElement(l.Fragment,null,l.createElement(d.a,null,l.createElement(p.a,{xs:6,md:6,className:"np"},l.createElement(h.l,{type:v.d.radio,onChange:this.props.onChange,name:"house.homeType",id:"homeType_1",value:f.j.detachedHouse.toString(),checked:t.homeType==f.j.detachedHouse,label:"Einfamilienhaus",title:"Geb\xe4udeart"})),l.createElement(p.a,{xs:6,md:6},l.createElement(h.l,{type:v.d.radio,onChange:this.props.onChange,name:"house.homeType",id:"homeType_2",value:f.j.appartmentHouse.toString(),checked:t.homeType==f.j.appartmentHouse,label:"Mehrfamilienhaus"}))),t.homeType==f.j.appartmentHouse?l.createElement(l.Fragment,null,l.createElement(d.a,null,l.createElement(p.a,{xs:6,md:6,className:"np"},l.createElement(h.l,{type:v.d.radio,onChange:this.props.onChange,name:"house.entranceLocation",id:"entranceLocation_Vorderhaus",checked:"Vorderhaus"==t.entranceLocation,label:"Vorderhaus",title:"Lage der Wohnung"})),l.createElement(p.a,{xs:6,md:6,className:""},l.createElement(h.l,{type:v.d.radio,onChange:this.props.onChange,name:"house.entranceLocation",id:"entranceLocation_Hinterhaus",checked:"Hinterhaus"==t.entranceLocation,label:"Hinterhaus"}))),l.createElement(d.a,null,l.createElement(p.a,{xs:4,md:4,className:"np"},l.createElement(h.l,{type:v.d.radio,onChange:this.props.onChange,name:"house.appartmentLocation",id:"appartmentLocation_Links",checked:"Links"==t.appartmentLocation,label:"Links",title:"Lage des Eingangs"})),l.createElement(p.a,{xs:4,md:4,className:""},l.createElement(h.l,{type:v.d.radio,onChange:this.props.onChange,name:"house.appartmentLocation",id:"appartmentLocation_Mitte",checked:"Mitte"==t.appartmentLocation,label:"Mitte"})),l.createElement(p.a,{xs:4,md:4,className:""},l.createElement(h.l,{type:v.d.radio,onChange:this.props.onChange,name:"house.appartmentLocation",id:"appartmentLocation_Rechts",checked:"Rechts"==t.appartmentLocation,label:"Rechts"}))),l.createElement(d.a,null,l.createElement(p.a,{xs:6,md:6,className:"np"},l.createElement(h.l,{type:v.d.dropdown,value:t.floor,onChange:this.props.onChange,name:"house.floor",id:"floor",title:b.h.floor,options:this.getFllors()}))),l.createElement(d.a,null,l.createElement(p.a,{xs:12,md:12,className:"np"},l.createElement(h.l,{type:v.d.text,onChange:this.props.onChange,name:"house.details",id:"details",value:t.details,label:"Lage der Telefondose",hint:"z.B. Flur oder Wohnzimmer"})))):l.createElement(l.Fragment,null,l.createElement(d.a,null,l.createElement(p.a,{xs:12,md:12,className:"np"},l.createElement(h.l,{type:v.d.text,onChange:this.props.onChange,name:"house.details",id:"details",value:t.details,label:"Lage der Telefondose",validationOptions:[new O.c({type:O.a.required,message:b.m.requiredError})],hint:"z.B. Flur oder Wohnzimmer"})))),l.createElement("div",{className:"spacer"})):null,this.props.showTel?l.createElement(S.a,{source:this.props.customer,onChange:this.props.onChange,prefix:"house.tel",preview:!1,titleTel:"R\xfcckrufnummer",disablePrefix:n}):null),l.createElement(h.k,null))}},{key:"getFllors",value:function(){var e=[];e.push({key:"K",text:"Keller"}),e.push({key:"EG",text:"EG"}),e.push({key:"DG",text:"DG"});for(var t=1;t<=20;t++)e.push({key:t,text:t.toString()});return e.push({key:"20+",text:"20+"}),e}}]),t}(l.Component),x=n(59),P=n(303),D=n.n(P),T=n(304),A=n.n(T),I=n(2),j=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(o.a)(t).call(this,e))).legitimation=void 0,n.payment=void 0,n.legitimation=n.props.legitimation?n.props.legitimation:{type:f.l.german,id:"",authority:""},n.payment=n.props.payment?n.props.payment:{paymentType:f.q.bank,addressType:f.a.sameAddress,address:new I.Address},n.state={changed:!1},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({changed:!0})}},{key:"render",value:function(){if(this.props.parent.props.parent.dataWrapper.hasKabelOnly())return l.createElement(l.Fragment,null);var e={title:b.c.legitimation,transparent:!1},t=l.createElement("div",{className:"contentTooltip"},l.createElement(x.a,{style:{width:"700px",height:"300px",maxWidth:"fit-content"},place:"top",type:"light",effect:"solid",id:"infoTooltipIDCard"},l.createElement("div",null,l.createElement("img",{src:A.a}))),l.createElement("span",null,"Unterscheidung zwischen DE- und EU-Personalausweis"),l.createElement("img",{src:D.a,className:"icon action4","data-tip":"bbbbbb","data-for":"infoTooltipIDCard"}));return l.createElement(m.a,{config:e},this.props.parent.props.parent.dataWrapper.hasVodafoneOrDsl()?l.createElement(u.a,null,l.createElement(d.a,null,l.createElement(p.a,{xs:6,md:6,className:"np"},l.createElement(h.l,{preview:this.props.preview,checked:this.legitimation.type==f.l.german,type:v.d.radio,onChange:this.props.onChange,name:"legitimation.type",id:"type_1",label:b.h.idGerman})),l.createElement(p.a,{xs:6,md:6,className:"npr"},l.createElement(h.l,{preview:this.props.preview,checked:this.legitimation.type==f.l.foreign,type:v.d.radio,onChange:this.props.onChange,name:"legitimation.type",id:"type_2",label:b.h.idNotGerman})))):null,l.createElement(u.a,null,l.createElement(d.a,null,l.createElement(p.a,{xs:6,md:6,className:"np"},this.legitimation&&this.legitimation.type==f.l.german?l.createElement(h.l,{preview:this.props.preview,value:this.legitimation?this.legitimation.id:"",type:v.d.text,onChange:this.props.onChange,name:"legitimation.id",id:"idCard",maxLength:10,validationOptions:[new O.c({type:O.a.required,message:b.m.requiredError})],label:b.h.personalIdNr,hintObject:t}):l.createElement(h.l,{preview:this.props.preview,value:this.legitimation?this.legitimation.id:"",type:v.d.text,onChange:this.props.onChange,name:"legitimation.idInt",targetName:"legitimation.id",id:"idCard",label:b.h.personalIdNr,hintObject:t})),l.createElement(p.a,{xs:6,md:6,className:"npr"},l.createElement(h.l,{preview:this.props.preview,maxLength:20,value:this.legitimation?this.legitimation.authority:"",validationOptions:[new O.c({type:O.a.required,message:b.m.requiredError}),new O.c({type:O.a.alphanumeric,message:b.m.alphanumeric})],type:v.d.text,onChange:this.props.onChange,name:"legitimation.authority",id:"idAuthority",label:"Ausstellende Beh\xf6rde"}))),this.props.parent&&!this.props.parent.props.parent.dataWrapper.hasOtelo()&&this.props.parent.props.parent.dataWrapper.hasVodafoneOrDsl()&&this.legitimation.type==f.l.foreign?l.createElement(l.Fragment,null,l.createElement(d.a,null,l.createElement(p.a,{xs:6,md:6,className:"np"},l.createElement(h.l,{preview:this.props.preview,value:this.payment?this.payment.ccNumber:"",maxLength:16,type:v.d.text,onChange:this.props.onChange,name:"payment.ccNumber",id:"payment-ccNumber",label:b.h.legitimationCreditCard,validationOptions:[new O.c({type:O.a.required,message:b.m.requiredError}),new O.c({type:O.a.numeric,message:b.m.errorNumeric})]})),l.createElement(p.a,{xs:6,md:6,className:"npr"},l.createElement(h.l,{preview:this.props.preview,value:this.payment?this.payment.ccBank:"",type:v.d.text,onChange:this.props.onChange,name:"payment.ccBank",id:"payment-ccBank",label:b.h.legitimationCreditCardAt}))),l.createElement(d.a,null,l.createElement(p.a,{xs:6,md:6,className:"np"},l.createElement(h.l,{preview:this.props.preview,value:this.payment?this.payment.ccMonth:"",type:v.d.text,onChange:this.props.onChange,maxLength:2,name:"payment.ccMonth",id:"payment-ccMonth",label:b.h.month,validationOptions:[new O.c({type:O.a.required,message:b.m.requiredError}),new O.c({type:O.a.monthRange,message:b.m.errorMonthFormat})]})),l.createElement(p.a,{xs:6,md:6,className:"npr"},l.createElement(h.l,{preview:this.props.preview,maxLength:2,value:this.payment?this.payment.ccYear:"",type:v.d.text,onChange:this.props.onChange,validationOptions:[new O.c({type:O.a.required,message:b.m.requiredError}),new O.c({type:O.a.yearFieldValidity,message:b.m.errorYearFormat})],name:"payment.ccYear",id:"payment-ccYear",label:b.h.year})))):null,this.props.parent&&this.props.parent.props.parent.dataWrapper.hasOteloPrepaid()?l.createElement(d.a,null,l.createElement(p.a,{xs:6,md:6,className:"np"},l.createElement(h.m,{onChange:this.props.onChange,datePicker:!0,value:this.legitimation?this.legitimation.validFrom:new Date,key:"legitimation.validFrom",name:"legitimation.validFrom",id:"validFrom",title:b.h.validFrom})),l.createElement(p.a,{xs:6,md:6,className:"npr"},l.createElement(h.m,{onChange:this.props.onChange,datePicker:!0,value:this.legitimation?this.legitimation.validTo:new Date,key:"legitimation.validTo",name:"legitimation.validTo",id:"validTo",title:b.h.validTo}))):l.createElement(l.Fragment,null)),l.createElement(h.k,null))}}]),t}(l.Component),N=n(87),M=function e(){Object(r.a)(this,e),this.salutation=f.t.undefined,this.firstname="",this.surname="",this.birthday=new Date},B=function e(){Object(r.a)(this,e),this.prefix="",this.number=""},R=n(8),F=n(65),K=n(86),L=n(27),W=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(o.a)(t).call(this,e))).valop=[],n.state={changed:!1},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({changed:!0})}},{key:"render",value:function(){var e=L.a.getKeyFromPrefix(this.props.prefix,"birthday",!0),t=L.a.getKeyFromPrefix(this.props.prefix,"birthday",!1),n=this.props.source?this.props.source.salutation:0;return this.props.salutation!=f.t.undefined&&(n=this.props.salutation),l.createElement(l.Fragment,null,l.createElement(u.a,{className:"np"},l.createElement(d.a,null,l.createElement(p.a,{xs:6,md:6},l.createElement(d.a,null,l.createElement(p.a,{xs:6,md:6,className:""},l.createElement(h.l,{type:v.d.radio,onChange:this.props.onChange,name:L.a.getKeyFromPrefix(this.props.prefix,"salutation",!1),id:L.a.getKeyFromPrefix(this.props.prefix,"salutation_1",!0),checked:n==f.t.mr,validationOptions:[new O.c({targetControl:"salutation",source:this.props.source,type:O.a.oneOf,targetValue:["1","2"],message:b.h.genderError})],label:b.h.mr,title:b.h.salutation})),l.createElement(p.a,{xs:6,md:6},l.createElement(h.l,{type:v.d.radio,onChange:this.props.onChange,name:L.a.getKeyFromPrefix(this.props.prefix,"salutation",!1),id:L.a.getKeyFromPrefix(this.props.prefix,"salutation_2",!0),checked:n==f.t.mrs,label:b.h.mrs})))),l.createElement(p.a,{xs:6,md:6,className:"npr"},this.props.hideTitle?l.createElement(l.Fragment,null):L.a.renderInner(this.props.prefix,this.props.source,this.props.onChange,"title",void 0,b.h.title,!1,void 0,void 0,void 0,16))),l.createElement(d.a,null,l.createElement(p.a,{xs:6,md:6,className:"np"},L.a.renderInner(this.props.prefix,this.props.source,this.props.onChange,"firstname",void 0,b.h.firstname,!1,void 0,void 0,[new O.c({type:O.a.required,message:b.m.requiredError}),new O.c({type:O.a.validateNames,message:"Der Vorname beginnt mit einem Gro\xdfbuchstaben und ist zwischen 2 und 30 Zeichen lang. Nur Buchstaben, Bindestriche und Leerzeichen sind erlaubt"})],30)),l.createElement(p.a,{xs:6,md:6,className:"npr"},L.a.renderInner(this.props.prefix,this.props.source,this.props.onChange,"surname",void 0,b.h.surname,!1,void 0,void 0,this.props.validationOptions?this.props.validationOptions:[new O.c({type:O.a.required,message:b.m.requiredError}),new O.c({type:O.a.validateSurname,message:"Es sind nur Buchstaben, Bindestriche und Leerzeichen zul\xe4ssig und die L\xe4nge liegt zwischen 2 und 30 Zeichen."})],30))),this.props.showBirthday?l.createElement(d.a,null,l.createElement(p.a,{xs:6,md:6,className:"np"},l.createElement(h.m,{title:b.h.dateOfBirth,datePicker:!1,id:e,name:t,onChange:this.props.onChange,value:this.props.birthday}))):null),l.createElement(h.k,null))}}]),t}(l.Component),V=function(e){function t(e){var n;Object(r.a)(this,t),(n=Object(s.a)(this,Object(o.a)(t).call(this,e))).customer=void 0,n.activations=void 0,n.customer=e.customer,n.activations=e.data.activations,e.customer.email&&(n.customer.email2=e.customer.email);E.a.from(_.a.getOrders()).where(function(e){return e.id==n.props.data.id}).firstOrDefault();if(new Date(n.customer.birthday).getFullYear()===(new Date).getFullYear()&&(n.customer.birthday=n.createDate(0,0,n.props.parent.props.parent.current.creditDebitType==f.f.prepaid&&n.props.parent.props.parent.current.brandKey===C.b.otelo?16:0)),n.customer.delivery&&(n.customer.delivery&&new Date(n.customer.delivery.deliveryDate).setHours(0,0,0,0)==(new Date).setHours(0,0,0,0)?n.customer.delivery.deliveryDate=R.a.dateOnly(R.a.addDays(new Date(n.activations[0].activationDate),1)):n.customer.delivery&&new Date(n.customer.delivery.deliveryDate).setHours(0,0,0,0)<new Date(n.activations[0].activationDate).setHours(0,0,0,0)?n.customer.delivery.deliveryDate=R.a.dateOnly(R.a.addDays(new Date(n.activations[0].activationDate),1)):n.customer.delivery&&new Date(n.activations[0].activationDate).setHours(0,0,0,0)==(new Date).setHours(0,0,0,0)&&(n.customer.delivery.deliveryDate=R.a.dateOnly(R.a.addDays(new Date(n.activations[0].activationDate),1))),n.customer.delivery.deliveryDate=new Date(new Date(n.customer.delivery.deliveryDate).setHours(4,0,0,0)),n.customer.delivery.callbackTimeSplitted=new N.a,_.a.updateCustomer(n.props.parent.props.parent.data.id,n.customer)),n.props.parent.props.parent.dataWrapper.hasKabelOnly()){var a=R.a.categoryWrapper.avl.getBrand(C.b.kabel);a&&a.address&&(n.customer.address.nr=a.address.nr,n.customer.address.nre=a.address.nre)}return n.state={changed:!1},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.customer=e.customer,this.activations=e.data.activations,this.setState({changed:!0})}},{key:"render",value:function(){var e={title:b.k.customerData,transparent:!1},t=(new Date).getFullYear()-16,n=this.props.parent.props.parent.dataWrapper.getPasswordForAdditionalContract(),a=this.props.parent.props.parent.dataWrapper.hasKabelOnly()||this.props.parent.props.parent.dataWrapper.hasUnityOnly()||this.props.parent.props.parent.current.activationType==f.c.partnerCard||this.props.parent.props.parent.current.activationType==f.c.partnerCardPortation;return l.createElement(m.a,{config:e},l.createElement(u.a,null,l.createElement("div",{style:{marginBottom:"30px"}},l.createElement(W,{prefix:"+customer",onChange:this.props.onChange,source:this.customer,salutation:this.customer.salutation?this.customer.salutation:f.t.undefined,firstname:this.customer.firstname?this.customer.firstname:"",surname:this.customer.surname?this.customer.surname:"",title:this.customer.title?this.customer.title:""})),l.createElement(d.a,null,l.createElement(p.a,{xs:7,md:7,className:"np"},l.createElement(h.m,{onChange:this.props.onChange,datePicker:!1,mode:F.a.withToggle,value:this.customer.birthday,key:"birthday",minimumBdayYear:this.props.parent.props.parent.current.creditDebitType==f.f.prepaid&&this.props.parent.props.parent.current.brandKey===C.b.otelo?t:void 0,name:"birthday",id:"birthday",title:b.h.dateOfBirth})),l.createElement(p.a,{xs:5,md:5,className:"npr"},l.createElement(h.l,{type:v.d.dropdown,value:this.customer.nationality,style:"nationality",onChange:this.props.onChange,name:"nationality",id:"nationality",title:b.h.nationality,options:R.a.getNationalities(),validationOptions:[new O.c({type:O.a.nationalityError,message:b.m.nationalityError})]}))),l.createElement("div",{className:"spacer-big"}),l.createElement(K.a,{onChange:this.props.onChange,source:this.props.customer,prefix:"address",withAditional:!1,showStrnAdditional:this.props.parent.props.parent.dataWrapper.hasKabel(),preview:this.props.parent.props.parent.dataWrapper.hasKabel()||this.props.parent.props.parent.dataWrapper.hasDsl()||this.props.parent.props.parent.dataWrapper.hasUnity()}),l.createElement("div",{className:"spacer-big"}),this.props.parent.props.parent.dataWrapper.hasUnity()?l.createElement(l.Fragment,null,l.createElement(S.b,{titleTel:b.h.contactNumber,prefix:"tel",onChange:this.props.onChange,source:this.customer,preview:!1}),l.createElement("div",{className:"spacer-big"})):null,this.props.parent.props.parent.dataWrapper.hasDsl()||this.props.parent.props.parent.dataWrapper.hasKabel()||this.props.parent.props.parent.dataWrapper.hasUnity()?l.createElement(l.Fragment,null,this.renderDelivery(),l.createElement("div",{className:"spacer-big"})):null,this.props.parent.props.parent.dataWrapper.hasDsl()?l.createElement(l.Fragment,null,this.renderInst(),l.createElement("div",{className:"spacer-big"})):null,this.props.parent.props.parent.dataWrapper.hasDsl()?l.createElement(l.Fragment,null,this.renderPreviousAccessOwner(),l.createElement("div",{className:"spacer-big"})):null,l.createElement(d.a,null,l.createElement(p.a,{xs:6,md:6,className:"np"},l.createElement(h.l,{type:v.d.text,value:this.customer.email,onChange:this.props.onChange,name:"email",id:"email",label:"Email",title:"E-Mail-Adresse f\xfcr Best\xe4tigungs E-Mail",validationOptions:[new O.c({type:O.a.email,message:b.m.errorEmail})]})),l.createElement(p.a,{xs:6,md:6,className:"npr"},l.createElement(h.l,{type:v.d.text,value:this.customer.email2,onChange:this.props.onChange,name:"email2",id:"email2",label:"Email",pasteDisabled:!0,validationOptions:[new O.c({type:O.a.email,message:b.m.errorEmail}),new O.c({type:O.a.match,message:b.m.errorEmailMatch,source:this.customer,targetMatch:"email"})]}))),this.props.data.currentBrand===C.b.vodafone||this.props.data.currentBrand===C.b.dsl||this.props.data.currentBrand===C.b.otelo?l.createElement(d.a,null,l.createElement(p.a,{xs:12,md:12,className:"np"},l.createElement(h.l,{hideTitle:!0,labelStyle:"tc-hint mwa",type:v.d.hint,label:this.props.data.currentBrand===C.b.vodafone||this.props.data.currentBrand===C.b.dsl?b.h.vf_dsl_email_text:b.h.otelo_email_text}),l.createElement(h.k,null))):l.createElement(l.Fragment,null),l.createElement(d.a,null,l.createElement(p.a,{xs:12,md:12,className:"np"},l.createElement(h.l,{type:v.d.checkbox,onChange:this.props.onChange,checked:!!this.customer.emailApproved&&this.customer.emailApproved>0,name:"emailApproved",id:"emailApproved",label:"Bitte best\xe4tigen Sie die E-Mail Adresse",labelStyle:"blue"}))),a?null:l.createElement(d.a,null,l.createElement(p.a,{xs:12,md:12,className:"np"},l.createElement(h.l,{type:v.d.text,disabled:!!n,value:n||(this.customer.password?this.customer.password:""),onChange:this.props.onChange,name:"password",id:"password",validationOptions:[new O.c({type:O.a.required,message:b.m.requiredError}),new O.c({type:O.a.password,message:b.m.errorPassword})],title:b.h.customerPassword}))),this.props.parent.props.parent.current&&!a&&this.props.parent.props.parent.current.activationType!=f.c.partnerCard?l.createElement(d.a,null,l.createElement(p.a,{xs:12,md:12,className:"np"},l.createElement(h.l,{hideTitle:!0,labelStyle:"tc-hint mwa",maxLength:30,type:v.d.hint,label:"Das Kunden-Kennwort muss aus mindestens 8 und h\xf6chstens 10 Zeichen bestehen. Es muss Buchstaben und Ziffern enthalten. \xc4, \xd6, \xdc und \xdf sind nicht zul\xe4ssig"}),l.createElement(h.k,null))):null,l.createElement(d.a,null,l.createElement(p.a,{xs:12,md:12,className:"np"},l.createElement(h.l,{hideTitle:!0,type:v.d.hint,label:"Hinweis: Die Vodafone GmbH darf meine Telefonnummer sowie meine Post- und E-Mail-Adresse nutzen, um mir per Messenger, SMS, MMS, Post und E-Mail Infos zur Beratung, zur Werbung f\xfcr eigene \xe4hnliche Angebote und zur Marktforschung zu schicken. Ich kann der Nutzung meiner Telefonnummer und Adressen zu diesem Zwecke jederzeit ganz oder teilweise schriftlich oder elektronisch f\xfcr die Zukunft widersprechen."}),l.createElement(h.k,null)))),l.createElement(h.k,null))}},{key:"createDate",value:function(e,t,n){var a=new Date;return a.setDate(a.getDate()+e),a.setMonth(a.getMonth()+t),a.setFullYear(a.getFullYear()-n),a}},{key:"renderDelivery",value:function(){var e=this.props.customer.deliveryType?this.props.customer.deliveryType:f.a.sameAddress,t=this.props.customer.payment&&this.props.customer.payment.addressType?this.props.customer.payment.addressType:f.a.sameAddress,n=this.customer.delivery?this.customer.delivery:new N.b;return n.person||(n.person={salutation:f.t.undefined,firstname:"",surname:"",birthday:new Date,title:""}),this.props.parent.props.parent.dataWrapper.hasUnityOnly()?l.createElement(l.Fragment,null):l.createElement(l.Fragment,null,l.createElement(d.a,null,l.createElement(p.a,{xs:12,md:12,className:"np"},l.createElement(h.l,{type:v.d.title,title:b.k.productDeliveryAddress}))),l.createElement(d.a,null,l.createElement(p.a,{xs:12,md:12,className:"np"},l.createElement(h.l,{type:v.d.radio,hideTitle:!0,checked:e===f.a.sameAddress,onChange:this.props.onChange,name:"deliveryType",id:"deliveryType_1",label:b.k.deliveryType1})),l.createElement(p.a,{xs:12,md:12,className:"np"},l.createElement(h.l,{type:v.d.radio,hideTitle:!0,checked:e===f.a.differentAddress,onChange:this.props.onChange,name:"deliveryType",id:"deliveryType_2",label:b.k.deliveryType2}))),e===f.a.differentAddress?l.createElement(l.Fragment,null,l.createElement(K.a,{onChange:this.props.onChange,showStrnAdditional:this.props.parent.props.parent.dataWrapper.hasKabel(),source:this.customer,prefix:"delivery.address",preview:!1}),l.createElement(W,{prefix:"delivery.person",onChange:this.props.onChange,source:this.customer,salutation:n.person.salutation,firstname:n.person.firstname,surname:n.person.surname,title:n.person.title}),l.createElement(p.a,{xs:7,md:7,className:"np"},l.createElement(h.m,{onChange:this.props.onChange,datePicker:!1,mode:F.a.undefined,value:this.customer.delivery?this.customer.delivery.person.birthday:new Date,key:"birthdayDelivery",name:"delivery.person.birthday",id:"birthdayDelivery",title:b.h.dateOfBirth})),l.createElement(S.b,{prefix:"delivery.tel",onChange:this.props.onChange,source:this.customer,preview:!1}),l.createElement(d.a,null),this.props.parent.props.parent.dataWrapper.hasDsl()?l.createElement(l.Fragment,null):l.createElement(d.a,null,l.createElement(p.a,{xs:12,md:12,className:"np"},l.createElement(h.l,{type:v.d.text,title:b.h.telCallback,value:n.callbackTime,onChange:this.props.onChange,name:"delivery.callbackTime",id:"delivery-callbackTime",label:"z.b. gegen 9:00"}))),this.props.parent.props.parent.dataWrapper.hasDsl()?l.createElement(l.Fragment,null):l.createElement(d.a,null,l.createElement(p.a,{xs:6,md:6,className:"np"},l.createElement(h.m,{title:b.h.deliverydate,id:"deliveryDate",datePicker:!0,from:R.a.dateOnly(R.a.addDays(new Date,0)),to:R.a.dateOnly(R.a.addDays(new Date,1827)),hasKabel:this.props.parent.props.parent.dataWrapper.hasKabel(),name:"delivery.deliveryDate",onChange:this.props.onChange,value:this.customer.delivery?this.customer.delivery.deliveryDate:new Date})))):null,this.props.parent.props.parent.dataWrapper.hasUnity()?l.createElement(l.Fragment,null,l.createElement(d.a,null,l.createElement(p.a,{xs:12,md:12,className:"np"},l.createElement(h.l,{type:v.d.title,title:b.k.billAddress}))),l.createElement(d.a,null,l.createElement(p.a,{xs:12,md:12,className:"np"},l.createElement(h.l,{type:v.d.radio,hideTitle:!0,checked:t===f.a.sameAddress,onChange:this.props.onChange,name:"payment.addressType",id:"addressType_1",label:b.k.billAddress1})),l.createElement(p.a,{xs:12,md:12,className:"np"},l.createElement(h.l,{type:v.d.radio,hideTitle:!0,checked:t===f.a.differentAddress,onChange:this.props.onChange,name:"payment.addressType",id:"addressType_2",label:b.k.billAddress2}))),this.customer.payment.addressType==f.a.differentAddress?l.createElement(K.a,{onChange:this.props.onChange,source:this.customer,prefix:"payment.address",preview:!1}):null):null,e===f.a.sameAddress&&this.props.parent.props.parent.dataWrapper.hasKabel()?l.createElement(l.Fragment,null,l.createElement(S.b,{prefix:"delivery.tel",onChange:this.props.onChange,source:this.customer,preview:!1}),l.createElement(d.a,null,l.createElement(h.o,{value:n.callbackTime,name:"delivery.callbackTime",id:"delivery-callbackTime",onChange:this.props.onChange})),l.createElement(d.a,null,l.createElement(p.a,{xs:6,md:6,className:"np"},l.createElement(h.m,{title:b.h.deliverydate,datePicker:!0,from:R.a.dateOnly(R.a.addDays(new Date(this.activations[0].activationDate),1)),to:R.a.dateOnly(R.a.addDays(new Date,1827)),id:"deliveryDateKabel",name:"delivery.deliveryDate",hasKabel:this.props.parent.props.parent.dataWrapper.hasKabel(),onChange:this.props.onChange,value:this.customer.delivery?this.customer.delivery.deliveryDate:R.a.dateOnly(R.a.addDays(new Date(this.activations[0].activationDate),1))})))):null)}},{key:"renderPreviousAccessOwner",value:function(){var e=this.props.customer.prevOwner?this.props.customer.prevOwner:f.s.noPreviousOwner,t=this.props.customer.previousAccessOwner?this.props.customer.previousAccessOwner:new M,n=(this.props.customer.previousAccessNumber?this.props.customer.previousAccessNumber:new B,_.a.getAvailability()),a=E.a.from(n.brands).where(function(e){return e.key===C.b.dsl}).firstOrDefault();return a&&a.products&&a.products.length>0&&!this.props.customer.previousAccessNumber&&(this.props.customer.previousAccessNumber=new B,this.props.customer.previousAccessNumber.prefix=a.products[0].areaCode),l.createElement(l.Fragment,null,l.createElement(d.a,null,l.createElement(p.a,{xs:12,md:12,className:"np"},l.createElement(h.l,{type:v.d.title,title:b.k.previousAccessOwner}))),l.createElement(d.a,null,l.createElement(p.a,{xs:6,md:6,className:"np"},l.createElement(h.l,{type:v.d.radio,hideTitle:!0,checked:e==f.s.previousOwner,onChange:this.props.onChange,name:"prevOwner",id:"prevOwner-1",label:b.k.previousAccessOwnerLabelYes})),l.createElement(p.a,{xs:6,md:6,className:"np"},l.createElement(h.l,{type:v.d.radio,hideTitle:!0,checked:e==f.s.noPreviousOwner,onChange:this.props.onChange,name:"prevOwner",id:"prevOwner-2",label:b.k.previousAccessOwnerLabelNo}))),e===f.s.previousOwner?l.createElement(l.Fragment,null,l.createElement(W,{prefix:"previousAccessOwner",onChange:this.props.onChange,source:this.customer,salutation:t.salutation,firstname:t.firstname,birthday:t.birthday,showBirthday:!0,surname:t.surname,validationOptions:[new O.c({type:O.a.required,message:b.m.requiredError}),new O.c({type:O.a.validateSurname,message:"Es sind nur Buchstaben, Bindestriche und Leerzeichen zul\xe4ssig und die L\xe4nge liegt zwischen 2 und 30 Zeichen."})],hideTitle:!0,title:""}),l.createElement(S.b,{telTypeHidden:!0,source:this.props.customer,onChange:this.props.onChange,prefix:"previousAccessNumber",preview:!1,disablePrefix:!0,titleTel:"Festnetz"})):null)}},{key:"renderInst",value:function(){var e=this.props.customer.instType?this.props.customer.instType:f.a.sameAddress,t=this.props.customer.inst?this.props.customer.inst:new N.b;return l.createElement(l.Fragment,null,l.createElement(d.a,null,l.createElement(p.a,{xs:12,md:12,className:"np"},l.createElement(h.l,{type:v.d.title,title:b.k.installationAddress}))),l.createElement(d.a,null,l.createElement(p.a,{xs:12,md:12,className:"np"},l.createElement(h.l,{type:v.d.radio,hideTitle:!0,checked:e===f.a.sameAddress,onChange:this.props.onChange,name:"instType",id:"instType_1",label:b.k.installationType1})),l.createElement(p.a,{xs:12,md:12,className:"np"},l.createElement(h.l,{type:v.d.radio,hideTitle:!0,checked:e===f.a.differentAddress,onChange:this.props.onChange,name:"instType",id:"instType_2",label:b.k.installationType2}))),e===f.a.differentAddress?l.createElement(l.Fragment,null,l.createElement(K.a,{onChange:this.props.onChange,source:this.customer,prefix:"inst.address",preview:!1}),l.createElement(W,{prefix:"inst.person",onChange:this.props.onChange,source:this.customer,salutation:t.person.salutation,firstname:t.person.firstname,surname:t.person.surname,title:t.person.title})):null)}}]),t}(l.Component),U=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(o.a)(t).call(this,e))).payment=void 0,n.payment=n.props.payment?n.props.payment:{owner:"",paymentType:f.q.bank,addressType:f.a.sameAddress,address:new I.Address},n.payment.iban="",n.state={changed:!1},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.payment&&(this.payment=e.payment),this.setState({changed:!0})}},{key:"render",value:function(){var e={title:b.k.payment,transparent:!1},t=this.props.parent.props.parent.dataWrapper.hasUnityOnly(),n=this.props.parent.props.parent.dataWrapper.hasOteloOnly(),a=this.props.parent.props.parent.dataWrapper.hasOteloPrepaid(),r=R.a.getAgeFromDate(this.props.parent.props.parent.data.customer.birthday),i=!0;return a&&r<18&&(i=!1),n||i?(i||(this.props.payment.paymentType=f.q.cash),t&&(this.props.parent.props.parent.data.customer.payment||(this.props.parent.props.parent.data.customer.payment=this.props.payment),this.props.parent.props.parent.data.customer.payment.owner=this.props.parent.props.parent.data.customer.firstname+" "+this.props.parent.props.parent.data.customer.surname),l.createElement(m.a,{config:e},l.createElement(u.a,null,l.createElement(d.a,null,i?l.createElement(p.a,{xs:4,md:4,className:"np"},l.createElement(h.l,{type:v.d.radio,hideTitle:!0,checked:this.payment.paymentType===f.q.iban,onChange:this.props.onChange,name:"payment.paymentType",id:"paymentType_1",label:b.k.payment1})):null,this.props.parent.props.parent.current&&this.props.parent.props.parent.current.creditDebitType===f.f.prepaid&&(!this.props.parent.props.customer.topup||this.props.parent.props.customer.topup&&0==this.props.parent.props.customer.topup.amount)?l.createElement(p.a,{xs:4,md:4,className:"np"},l.createElement(h.l,{type:v.d.radio,hideTitle:!0,checked:this.payment.paymentType===f.q.cash,onChange:this.props.onChange,name:"payment.paymentType",id:"paymentType_4",label:b.k.payment4})):null),l.createElement(d.a,null,i&&this.payment.paymentType===f.q.iban?l.createElement(p.a,{xs:6,md:6,className:"npr"},l.createElement(h.l,{type:v.d.text,onChange:this.props.onChange,maxLength:22,validationOptions:[new O.c({type:O.a.required,message:b.m.requiredError})],name:"payment.iban",id:"iban",label:b.k.payment1,value:this.payment.iban})):null,!i||this.payment.paymentType!==f.q.bank&&this.payment.paymentType!==f.q.iban?null:l.createElement(p.a,{xs:6,md:6,className:"np"},l.createElement(h.l,{type:v.d.text,onChange:this.props.onChange,maxLength:32,preview:t,name:"payment.owner",id:"owner",label:"Kontoinhaber",validationOptions:[new O.c({type:O.a.required,message:b.m.requiredError}),new O.c({type:O.a.validateNames,message:"Der Kontoinhaber beginnt mit einem Gro\xdfbuchstaben. Die Eingabe sollte nur aus Buchstaben, Bindestrichen und Leezeichen bestehen"})],value:this.payment.owner})),i&&this.payment.paymentType===f.q.bank?l.createElement(l.Fragment,null,l.createElement(p.a,{xs:6,md:6,className:"npr"},l.createElement(h.l,{type:v.d.text,onChange:this.props.onChange,name:"payment.bankId",id:"bankId",label:"BLZ",value:this.payment.bankId})),l.createElement(p.a,{xs:6,md:6,className:"np"},l.createElement(h.l,{type:v.d.text,onChange:this.props.onChange,name:"payment.accountId",id:"accountId",label:"Kontonummer",value:this.payment.accountId}))):null)),l.createElement(h.k,null))):l.createElement(l.Fragment,null)}}]),t}(l.Component),q=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(o.a)(t).call(this,e))).bew=void 0,n.bew=n.props.bew?n.props.bew:{consulting1:!1,consulting2:!1},n.state={changed:!1},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.bew=this.props.bew?this.props.bew:{consulting1:!1,consulting2:!1},this.setState({changed:!0})}},{key:"render",value:function(){return l.createElement(m.a,{config:{title:"Beratungseinwilligung",transparent:!1}},l.createElement(u.a,null,l.createElement("div",{className:"dn"},l.createElement(h.l,{onChange:this.props.onChange,checked:this.bew&&this.bew.consulting1,type:v.d.checkbox,hideTitle:!0,style:"check",visible:!0,name:"bew.consulting1",id:"consulting1_true",label:""}),l.createElement(h.l,{onChange:this.props.onChange,checked:this.bew&&this.bew.consulting2,type:v.d.checkbox,hideTitle:!0,style:"check",visible:!0,name:"bew.consulting2",id:"consulting2_true",label:""})),l.createElement(d.a,null,l.createElement(p.a,{xs:1,md:1,className:"np"},l.createElement(h.l,{onChange:this.props.onChange,checked:this.bew&&this.bew.consulting1,type:v.d.checkbox,hideTitle:!0,style:"check",visible:!0,name:"bew.consulting1",id:"consulting1_true",label:""})),l.createElement(p.a,{xs:11,md:11,className:"npr"},l.createElement(h.l,{type:v.d.hint,label:"Ja, ich willige ein, dass die Vodafone GmbH* <br/>als Inhaberin der Marke otelo und die Vodafone Kabel Deutschland GmbH* meine Bestandsdaten untereinander austauschen, um mich individuell zu beraten, f\xfcr ihre Angebote zu werben und Marktforschung zu betreiben. Meine Bestandsdaten sind Angaben rund um mein Vertragsverh\xe4ltnis, z.B. Name, Adresse und Geburtsdatum sowie Tarife, Optionen und Services. Ja, ich willige ein, dass meine Nutzungsdaten und meine Verkehrsdaten h\xf6chstens 6 Monate verwendet werden, um Telekommunikations- und Telemedien-Dienste bedarfsgerecht und individuell zu gestalten und zu vermarkten sowie Dienste mit Zusatznutzen f\xfcr mich bereitzustellen. Meine Nutzungsdaten sind Informationen \xfcber Art, Umfang und Zeitpunkt der Nutzung der Webseiten von otelo/Vodafone, Vodafone Kabel Deutschland oder Kooperations- und Werbepartnern. Die Daten identifizieren mich oder mein Ger\xe4t direkt und sind zum Teil in meinem Ger\xe4t gespeichert, z.B. als Cookies. Meine Verkehrsdaten sind z.B. die Art des genutzten Telekommunikationsdienstes, Anfang, Ende und Dauer der Verbindungen, das genutzte Datenvolumen, an der Kommunikation beteiligte Personen, Ger\xe4te oder Anschl\xfcsse sowie deren Standorte. Ich kann meine Einwilligung jederzeit ganz oder teilweise mit Wirkung f\xfcr die Zukunft widerrufen. *Die Vodafone GmbH, Ferdinand-Braun-Platz 1, 40549 D\xfcsseldorf (Vodafone) und die Vodafone Kabel Deutschland GmbH, Betastra\xdfe 6-8, 85774 Unterf\xf6hring (Vodafone Kabel Deutschland) sind wirtschaftlich ein Unternehmen und bieten Telekommunikationsdienstleistungen an, die sich erg\xe4nzen."}))),l.createElement(d.a,null,l.createElement(p.a,{xs:1,md:1,className:"np"},l.createElement(h.l,{onChange:this.props.onChange,checked:this.bew&&this.bew.consulting2,type:v.d.checkbox,hideTitle:!0,style:"check",visible:!0,name:"bew.consulting2",id:"consulting2_true",label:""})),l.createElement(p.a,{xs:11,md:11,className:"npr"},l.createElement(h.l,{type:v.d.hint,label:"Ja, ich willige ein, dass Vodafone und Vodafone Kabel Deutschland mich telefonisch, per E-Mail, Messenger, SMS und MMS \xfcber Angebote von otelo/Vodafone und Vodafone Kabel Deutschland informieren. Ich kann meine Einwilligung jederzeit ganz oder teilweise mit Wirkung f\xfcr die Zukunft widerrufen."})))),l.createElement(h.k,null))}}]),t}(l.Component),z=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(o.a)(t).call(this,e))).state={changed:!1},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.createElement(m.a,{config:{title:"",transparent:!0}},l.createElement(u.a,{className:"container-action"},l.createElement(d.a,null,l.createElement(p.a,{xs:4,md:4},l.createElement(h.j,{text:b.h.back,onClick:this.props.parent.onBack,type:v.h.linkSimple,css:"action3",icon:"chevron"})),l.createElement(p.a,{xs:8,md:8,className:"toright"},l.createElement(h.j,{text:b.h.next,css:"fr",onClick:this.props.parent.onNext,type:v.h.buttonWithIconRight,icon:"arrow-right"})))),l.createElement(h.k,null))}}]),t}(l.Component),G=n(7),H=n(122),J=n(95),Z=function(e){function t(e){var n;Object(r.a)(this,t),(n=Object(s.a)(this,Object(o.a)(t).call(this,e))).all=void 0,n.onChange=n.onChange.bind(Object(G.a)(Object(G.a)(n))),n.all=_.a.getSupport().networks;var a=n.props.customer;return a.mnp||(a.mnp={provider:"",network:"",differentCustomer:!1,birthday:new Date},a.mnp.differentCustomer=!1,a.mnp.birthday=new Date,a.mnp.cancellationDate=new Date,a.mnp.contractEndDate=new Date,a.bew),a.mnp&&!a.mnp.cancellationDate&&(a.mnp.cancellationDate=new Date),a.mnp&&!a.mnp.contractEndDate&&(a.mnp.contractEndDate=new Date),n.state={changed:!1,customer:a},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e={title:b.k.mnpContract,transparent:!1},t=this.props.parent.props.parent.dataWrapper.getPortationBrand(),n=this.props.parent.props.parent.dataWrapper.hasCdChange(),a=l.createElement(l.Fragment,null);t===C.b.otelo&&this.props.parent instanceof J.a?a=l.createElement(h.l,{type:v.d.dropdown,value:this.state.customer.mnp?this.state.customer.mnp.network:"",preview:this.props.preview,onChange:this.onChange,name:"mnp.network",id:"network",title:b.k.mnpNetwork,options:this.getNetworks(t)}):this.props.parent instanceof H.a&&(a=l.createElement(h.l,{type:v.d.dropdown,value:this.state.customer.mnp?this.state.customer.mnp.network:"",preview:this.props.preview,onChange:this.onChange,name:"mnp.network",id:"network",title:b.k.mnpNetwork,options:this.getNetworks(t)}));var r=l.createElement(l.Fragment,null,l.createElement(d.a,null,a,l.createElement(p.a,{xs:6,md:6,className:"npr"},l.createElement(h.l,{type:v.d.dropdown,value:this.state.customer.mnp?this.state.customer.mnp.provider:"",preview:this.props.preview,onChange:this.onChange,name:"mnp.provider",id:"provider",title:b.k.mnpProvider,options:this.getProviders(t)}))),t!==C.b.dsl&&t!==C.b.kabel&&this.props.parent instanceof J.a?l.createElement(d.a,null,l.createElement(p.a,{xs:6,md:6,className:"np"},l.createElement(h.l,{type:v.d.radio,checked:this.state.customer.mnp&&!this.state.customer.mnp.differentCustomer,preview:this.props.preview,onChange:this.props.onChange,name:"mnp.differentCustomer",id:"differentCustomer_0",title:b.k.mnpSameCustomer})),l.createElement(p.a,{xs:6,md:6,className:"npr"},l.createElement(h.l,{type:v.d.radio,checked:this.state.customer.mnp&&this.state.customer.mnp.differentCustomer,preview:this.props.preview,onChange:this.props.onChange,name:"mnp.differentCustomer",id:"differentCustomer_1",title:b.k.mnpDiffCustomer}))):null,t!==C.b.dsl&&this.props.parent instanceof J.a&&(this.props.parent.props.parent.dataWrapper.hasVodafoneWithMnp()||this.props.parent.props.parent.dataWrapper.hasCableWithMnp())?l.createElement(d.a,null,t==C.b.kabel&&this.state.customer.mnp&&"DEU.VFDE"!==this.state.customer.mnp.provider?null:l.createElement(p.a,{xs:6,md:6,className:"np"},l.createElement(h.l,{type:v.d.text,value:this.state.customer.mnp?this.state.customer.mnp.customerNr:"",preview:this.props.preview,onChange:this.onChange,name:"mnp.customerNr",id:"customerNr",title:b.k.mnpCustomerNr,options:this.getProviders(t)})),t!==C.b.kabel?l.createElement(l.Fragment,null,l.createElement(p.a,{xs:6,md:6,className:"npr"},this.props.parent.props.parent.dataWrapper.hasVodafoneWithMnpANDPortierungandASAP()?l.createElement(l.Fragment,null):l.createElement(h.m,{onChange:this.props.onChange,preview:this.props.preview,datePicker:!0,value:this.state.customer.mnp?this.state.customer.mnp.contractEndDate:new Date,from:R.a.dateOnly(R.a.addDays(new Date,0)),to:R.a.dateOnly(R.a.addDays(new Date,720)),type:F.b.fixedStart,name:"mnp.contractEndDate",id:"contractEndDate",title:b.k.mnpContractEnd})),n?null:l.createElement(p.a,{xs:6,md:6,className:"np"},l.createElement(h.m,{onChange:this.props.onChange,preview:this.props.preview,datePicker:!0,type:F.b.fixedStart,from:void 0,to:R.a.dateOnly(R.a.addDays(new Date,720)),value:this.state.customer.mnp?this.state.customer.mnp.cancellationDate:new Date,name:"mnp.cancellationDate",id:"cancellationDate",title:b.k.mnpCancellationDate}))):null):null,t!==C.b.dsl&&t!==C.b.kabel&&this.props.parent instanceof J.a&&this.state.customer.mnp&&this.state.customer.mnp.differentCustomer?l.createElement(W,{prefix:"mnp",title:"Kunde",showBirthday:!0,onChange:this.props.onChange,source:this.state.customer,salutation:this.state.customer.mnp&&this.state.customer.mnp.salutation?this.state.customer.mnp.salutation:f.t.mr,firstname:this.state.customer.mnp&&this.state.customer.mnp.firstname?this.state.customer.mnp.firstname:"",surname:this.state.customer.mnp&&this.state.customer.mnp.surname?this.state.customer.mnp.surname:"",birthday:this.state.customer.mnp?this.state.customer.mnp.birthday:new Date}):null),i=l.createElement(l.Fragment,null,r);return this.props.parent instanceof H.a||(i=l.createElement(m.a,{config:e},l.createElement(u.a,null,r),l.createElement(h.k,null))),i}},{key:"onChange",value:function(e){var t=this,n=this.state.customer;e&&"network"==e.id&&n.mnp&&(n.mnp.provider=""),R.a.onInput(n,e,function(){t.setState({customer:n})}),this.props.onChange(e)}},{key:"getNetworks",value:function(e){var t=[{key:"",text:b.h.pleaseSelect}];return E.a.from(this.all).where(function(e){return e.value!==C.b.vodafone}).orderByDescending(function(e){return e.text}).select(function(e,t){return{key:e.value,text:e.text}}).cast().toArray().map(function(e,n){t.push(e)}),t}},{key:"getProviders",value:function(e){var t=this;this.state.customer.mnp&&!this.state.customer.mnp.network&&(this.state.customer.mnp.network=this.all[0].value),e!==C.b.vodafone&&e!==C.b.dsl&&e!==C.b.kabel||!this.state.customer.mnp||(this.state.customer.mnp.network=e);var n=[{key:"",text:b.h.pleaseSelect}],a=E.a.from(this.all).where(function(e){return e.value==(t.state.customer.mnp?t.state.customer.mnp.network:"")}).first();return E.a.from(a.children).select(function(e,t){return{key:e.value,text:e.text}}).toArray().map(function(e,t){n.push(e)}),n}}]),t}(l.Component),Y=(l.Component,function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(o.a)(t).call(this,e))).state={changed:!1},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){}},{key:"render",value:function(){var e={title:b.k.desiredSchedule,transparent:!1},t=this.props.customer.installationSchedule?this.props.customer.installationSchedule:{dateType:I.EDesiredSchedule.asap,date:new Date},n=t.dateType===I.EDesiredSchedule.custom;return l.createElement(m.a,{config:e},l.createElement(u.a,null,l.createElement(d.a,null,l.createElement(p.a,{xs:12,md:12,className:"np"},l.createElement(h.l,{type:v.d.radio,hideTitle:!0,checked:t.dateType===I.EDesiredSchedule.asap,onChange:this.props.onChange,name:"installationSchedule.dateType",id:"dateType_1",label:b.k.desiredSchedule1}))),l.createElement(d.a,null,l.createElement(p.a,{xs:12,md:12,className:"np"},l.createElement(h.l,{type:v.d.radio,hideTitle:!0,checked:t.dateType===I.EDesiredSchedule.custom,onChange:this.props.onChange,name:"installationSchedule.dateType",id:"dateType_2",label:b.k.desiredSchedule2}))),n?l.createElement(d.a,null,l.createElement(p.a,{xs:12,md:12,className:"np"},l.createElement(h.m,{value:t.date,title:"",datePicker:!0,onChange:this.props.onChange,name:"installationSchedule.date",id:"installationSchedule-date"}))):null),l.createElement(h.k,null))}}]),t}(l.Component)),$=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(o.a)(t).call(this,e))).state={changed:!1},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){}},{key:"render",value:function(){var e=this,t={title:b.k.autotopup,titleDesc:b.k.forOtelo,transparent:!1};if(!this.props.parent.props.parent.dataWrapper.needTopUp())return l.createElement(l.Fragment,null);var n=this.props.topup?this.props.topup:{amount:0,amountSingle:0,trigger:0,type:f.y.undefined};return l.createElement(m.a,{config:t},l.createElement(u.a,null,l.createElement("div",{className:"spacer-dim2"}),l.createElement(d.a,null,l.createElement(p.a,{className:"np"},l.createElement(h.l,{type:v.d.hint,label:b.k.autotopup}))),l.createElement("div",{className:"spacer-dim2"}),l.createElement(d.a,null,l.createElement(p.a,{xs:6,md:6,className:"np"},l.createElement(h.l,{type:v.d.dropdown,value:n.amount,onChange:function(t){t.value>0&&(e.props.parent.props.parent.data.customer.payment.paymentType=f.q.iban),e.props.onChange(t)},name:"topup.amount",id:"amount",title:b.k.amount,options:this.getAmounts()})),this.props.parent.props.parent.data.customer.topup&&this.props.parent.props.parent.data.customer.topup.amount>0?l.createElement(p.a,{xs:6,md:6,className:"npr"},l.createElement(h.l,{type:v.d.dropdown,value:n.trigger,onChange:this.props.onChange,name:"topup.trigger",id:"trigger",title:b.k.atTrigger,options:this.getTriggers(),validationOptions:[new O.c({type:O.a.required,message:b.m.requiredError})]})):null),l.createElement("div",{className:"spacer-dim2"}),l.createElement(d.a,null,l.createElement(p.a,{className:"np"},l.createElement(h.l,{type:v.d.hint,label:b.k.singeltopup}))),l.createElement("div",{className:"spacer-dim2"}),l.createElement(d.a,null,l.createElement(p.a,{xs:6,md:6,className:"np"},l.createElement(h.l,{type:v.d.dropdown,value:n.amountSingle,onChange:this.props.onChange,name:"topup.amountSingle",id:"amount",title:b.k.amount,options:this.getNow()})))),l.createElement(h.k,null))}},{key:"getAmounts",value:function(){new Array;return[{key:"0",text:b.k.noComfort},{key:"9",text:"9 \u20ac"},{key:"15",text:"15 \u20ac"},{key:"19",text:"19 \u20ac"},{key:"25",text:"25 \u20ac"},{key:"29",text:"29 \u20ac"}]}},{key:"getTriggers",value:function(){new Array;return[{key:"0",text:b.h.pleaseSelect},{key:"5",text:"5 \u20ac"},{key:"15",text:"15 \u20ac"},{key:"50",text:"50 \u20ac"}]}},{key:"getNow",value:function(){new Array;return[{key:"0",text:b.k.noSofort},{key:"5",text:"5 \u20ac"},{key:"15",text:"15 \u20ac"},{key:"50",text:"50 \u20ac"}]}}]),t}(l.Component);n.d(t,"b",function(){return a.a}),n.d(t,"g",function(){return y}),n.d(t,"d",function(){return w}),n.d(t,"h",function(){return j}),n.d(t,"e",function(){return V}),n.d(t,"j",function(){return U}),n.d(t,"c",function(){return q}),n.d(t,"a",function(){return z}),n.d(t,"i",function(){return Z}),n.d(t,"f",function(){return Y}),n.d(t,"k",function(){return $})},71:function(e,t,n){"use strict";n.d(t,"a",function(){return y});var a=n(10),r=n(11),i=n(14),s=n(12),o=n(15),c=n(7),l=n(0),u=n(19),d=n(42),p=n(23),m=n(8),h=n(6),v=n(3),f=n(1),b=n(27),y=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).tel=void 0,n.titleTel=void 0,n.changeValue=n.changeValue.bind(Object(c.a)(Object(c.a)(n))),n.titleTel=n.props.titleTel?n.props.titleTel:"Telefon",n.tel={telType:h.m.mobile,prefix:"",number:""},n.props.telModel&&(n.tel=n.props.telModel),n.state={changed:!1},n}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.titleTel&&(this.titleTel=e.titleTel),this.setState({changed:!0})}},{key:"render",value:function(){var e=this,t=h.m.home,n=this.props.prefix+".telType";(t=m.a.getValueByPath(this.props.source,n))||(t=h.m.home);var a=l.createElement(l.Fragment,null);return!0===this.props.countryCodeVisible&&(a=l.createElement(u.a,{xs:3,md:3},b.a.renderInner(this.props.prefix,this.props.source,this.props.onChange,"countryCode"," ",f.h.countryCode,this.props.preview))),l.createElement("div",{id:this.props.id},l.createElement(d.a,{className:this.props.withPading?"":"np"},this.props.preview||!0===this.props.telTypeHidden?null:l.createElement(p.a,null,l.createElement(u.a,{xs:6,md:6,className:"np"},l.createElement(v.l,{type:h.d.radio,onChange:this.props.onChange,name:n,id:this.props.prefix+".telType-1",value:h.m.mobile,checked:t==h.m.mobile,label:"Mobil",title:this.titleTel})),l.createElement(u.a,{xs:6,md:6},l.createElement(v.l,{type:h.d.radio,onChange:this.props.onChange,name:n,id:this.props.prefix+".telType-2",checked:t==h.m.home,value:h.m.home,label:"Festnetz"}))),l.createElement(p.a,null,a,l.createElement(u.a,{xs:3,md:3,className:"np"},b.a.renderInner(this.props.prefix,this.props.source,this.props.valueChange?function(t){e.tel.prefix=t.value,e.changeValue()}:this.props.onChange,"prefix"," ",f.h.telPrefix,this.props.preview,this.tel.prefix,this.props.disablePrefix)),l.createElement(u.a,{xs:9,md:9},b.a.renderInner(this.props.prefix,this.props.source,this.props.valueChange?function(t){e.tel.number=t.value,e.changeValue()}:this.props.onChange,"number"," ",f.h.telnummer,this.props.preview,this.tel.number)))),l.createElement(v.k,null))}},{key:"getValue",value:function(){return{type:h.d.tel,name:this.props.id?this.props.id:"",id:this.props.id?this.props.id:"",value:this.tel.prefix+"-"+this.tel.number}}},{key:"changeValue",value:function(){var e=this.getValue();this.props.onChange(e)}}]),t}(l.Component);t.b=y},72:function(e,t,n){"use strict";n.d(t,"a",function(){return g});var a=n(10),r=n(11),i=n(9),s=n.n(i),o=n(2),c=n(4),l=n(8),u=n(13),d=n(6),p=n(31),m=n(64),h=n(102),v=n(120),f=n(142),b=n(5),y=n(87),g=function(){function e(t){Object(a.a)(this,e),this.data=void 0,this.brands=[],this.inPrepaid=!1,this.inPostpaid=!1,this.inActDefault=!1,this.inActMnp=!1,this.inCdChange=!1,this.inDsl=!1,this.inOtelo=!1,this.inVodafone=!1,this.inKabel=!1,this.data=t,this.brands&&0!==this.brands.length||(this.brands=u.a.getBrands()),this.inPrepaid=this.hasPrepaid(),this.inPostpaid=this.hasPostpaid(),this.inActDefault=this.hasActDefault(),this.inActMnp=this.hasActMnp(),this.inDsl=this.hasDsl(),this.inOtelo=this.hasOtelo(),this.inVodafone=this.hasVodafone(),this.inKabel=this.hasKabel(),this.inCdChange=this.hasCdChange()}return Object(r.a)(e,[{key:"canEditActivation",value:function(e){var t=this.data.activations[e];if(t.processStatus&&t.processStatus.steps){var n=t.getStep(d.l.activation);if(n)return n.status!==d.k.done}return!0}},{key:"getAllExcludesForSelectedServices",value:function(e,t){var n=[],a=s.a.from(this.brands).where(function(t){return t.id==e}).first();return t.map(function(e){var t=s.a.from(a.services).where(function(t){return t.id==e}).firstOrDefault();t&&t.notbookableWith&&t.notbookableWith.map(function(e){n.indexOf(e)<0&&n.push(e)})}),n}},{key:"getCurrentActivation",value:function(){if(this.data.activations&&this.data.activations.length>0)return this.data.activations[this.data.activations.length-1]}},{key:"resetUnfinishedActivations",value:function(){for(var e=0;e<this.data.activations.length;e++)this.data.activations[e].isActivated()||this.data.activations[e].resetSteps(d.l.print),u.a.addOrder(this.data)}},{key:"getAllActivationsDone",value:function(){for(var e=0;e<this.data.activations.length;e++)if(!this.data.activations[e].isActivated())return!1;return!0}},{key:"getProducts",value:function(){var e=new p.a("","");return this.data.activations.map(function(t){e.addChildren(t.getProductsTree())}),e}},{key:"getActivationByProduct",value:function(e){for(var t=0;t<this.data.activations.length;t++)if(this.data.activations[t].hasProduct(e))return this.data.activations[t].idx=t,this.data.activations[t]}},{key:"getActivationByBrand",value:function(e){for(var t=0;t<this.data.activations.length;t++)if(this.data.activations[t].brandKey==e)return this.data.activations[t].idx=t,this.data.activations[t]}},{key:"hasNextContract",value:function(){var e=!1;return this.data.activations&&(e=s.a.from(this.data.activations).where(function(e){return e.brandKey===c.b.otelo&&!0===e.nextContract}).count()>0),e}},{key:"hasOtelo",value:function(){var e=!1;return this.data.activations&&(e=s.a.from(this.data.activations).where(function(e){return e.brandKey===c.b.otelo}).count()>0),e}},{key:"hasOteloPrepaid",value:function(){var e=!1;return this.data.activations&&(e=s.a.from(this.data.activations).where(function(e){return e.brandKey===c.b.otelo&&e.creditDebitType==b.f.prepaid}).count()>0),e}},{key:"needTopUp",value:function(){var e=!1;return this.data.activations&&(e=s.a.from(this.data.activations).where(function(e){return e.brandKey===c.b.otelo&&e.creditDebitType==b.f.prepaid}).count()>0),e}},{key:"hasUnity",value:function(){var e=!1;return this.data.activations&&(e=s.a.from(this.data.activations).where(function(e){return e.brandKey===c.b.unity}).count()>0),e}},{key:"hasVodafone",value:function(){var e=!1;return this.data.activations&&(e=s.a.from(this.data.activations).where(function(e){return e.brandKey===c.b.vodafone}).count()>0),e}},{key:"hasVodafoneOrDsl",value:function(){return this.hasVodafone()||this.hasDsl()||this.hasOtelo()}},{key:"hasPartnerCard",value:function(){var e=!1;return this.data.activations&&(e=s.a.from(this.data.activations).where(function(e){return e.activationType===b.c.partnerCard}).count()>0),e}},{key:"hasPartnerGroups",value:function(){var e=!1;if(this.data.customer.contracts){var t=this.data.customer.contracts[0];t.groups&&t.groups.length>0&&(e=!0)}return e}},{key:"hasNumberProtability",value:function(){var e=!1;if(this.data.activations){var t=s.a.from(this.data.activations).where(function(e){return e.brandKey===c.b.kabel}).toArray();if(t.length>0)for(var n=0;n<t.length;n++)if(t[n].services.indexOf("rufnummernmitnahme-1")>=0){e=!0;break}}return e}},{key:"hasCategory",value:function(e){var t=!1;return this.data.activations&&((t=s.a.from(this.data.activations).where(function(t){return t.catKey==e}).count()>0)||e!=c.c.tv&&e!=c.c.fn||this.data.activations.map(function(n){if(!t&&n.selection&&n.selection.children)for(var a=0;a<n.selection.children.length;a++){l.a.categoryWrapper.getCategoryKeyByProduct(n.selection.children[a].id)==e&&(t=!0)}})),t}},{key:"hasVodafoneWithMnp",value:function(){var e=!1;return this.data.activations&&(e=s.a.from(this.data.activations).where(function(e){return e.brandKey===c.b.vodafone&&e.activationType!=b.c.actDefault}).count()>0),e}},{key:"hasCableWithMnp",value:function(){var e=!1;return this.data.activations&&(e=s.a.from(this.data.activations).where(function(e){return e.brandKey===c.b.kabel&&e.activationType!=b.c.actDefault}).count()>0),e}},{key:"hasVodafoneWithMnpANDPortierungandASAP",value:function(){var e=!1;return this.data.activations&&(e=s.a.from(this.data.activations).where(function(e){return e.brandKey===c.b.vodafone&&e.activationType===b.c.portDefault&&e.portationType===d.j.asap}).count()>0),e}},{key:"brandsInOrder",value:function(){var e=[];return this.hasDsl()&&e.push(c.b.dsl),this.hasOtelo()&&e.push(c.b.otelo),this.hasVodafone()&&e.push(c.b.vodafone),this.hasKabel()&&e.push(c.b.kabel),e}},{key:"hasDsl",value:function(){var e=!1;return this.data.activations&&(e=s.a.from(this.data.activations).where(function(e){return e.brandKey===c.b.dsl}).count()>0),e}},{key:"hasKabel",value:function(){var e=!1;return this.data.activations&&(e=s.a.from(this.data.activations).where(function(e){return e.brandKey===c.b.kabel}).count()>0),e}},{key:"hasDslOnly",value:function(){var e=!1;this.data.activations&&(e=s.a.from(this.data.activations).where(function(e){return e.brandKey===c.b.dsl}).count()>0,s.a.from(this.data.activations).where(function(e){return e.brandKey!==c.b.dsl}).count()>0&&(e=!1));return e}},{key:"hasProduct",value:function(e){var t=!1;return this.data.activations&&(t=s.a.from(this.data.activations).where(function(t){return t.productId===e}).count()>0),t}},{key:"hasKabelOnly",value:function(){var e=!1;this.data.activations&&(e=s.a.from(this.data.activations).where(function(e){return e.brandKey===c.b.kabel}).count()>0,s.a.from(this.data.activations).where(function(e){return e.brandKey!==c.b.kabel}).count()>0&&(e=!1));return e}},{key:"hasOteloOnly",value:function(){var e=!1;this.data.activations&&(e=s.a.from(this.data.activations).where(function(e){return e.brandKey===c.b.otelo}).count()>0,s.a.from(this.data.activations).where(function(e){return e.brandKey!==c.b.otelo}).count()>0&&(e=!1));return e}},{key:"hasUnityOnly",value:function(){var e=!1;this.data.activations&&(e=s.a.from(this.data.activations).where(function(e){return e.brandKey===c.b.unity}).count()>0,s.a.from(this.data.activations).where(function(e){return e.brandKey!==c.b.unity}).count()>0&&(e=!1));return e}},{key:"countActivations",value:function(){return this.data.activations?this.data.activations.length:0}},{key:"hasBrand",value:function(e){var t=!1;return this.data.activations&&(t=s.a.from(this.data.activations).where(function(t){return t.brandKey===e}).count()>0),t}},{key:"hasActMnp",value:function(){var e=!1;return this.data.activations&&(e=s.a.from(this.data.activations).where(function(e){return e.activationType===b.c.portDefault||e.activationType===b.c.partnerCardPortation}).count()>0),e}},{key:"hasCdChange",value:function(){var e=!1;return this.data.activations&&(e=s.a.from(this.data.activations).where(function(e){return e.activationType===b.c.cdChange}).count()>0),e}},{key:"hasActDefault",value:function(){var e=!1;return this.data.activations&&(e=s.a.from(this.data.activations).where(function(e){return e.activationType===b.c.actDefault||e.activationType===b.c.partnerCard}).count()>0),e}},{key:"hasPostpaid",value:function(){var e=!1;return this.data.activations&&(e=s.a.from(this.data.activations).where(function(e){return e.creditDebitType===b.f.postpaid}).count()>0),e}},{key:"hasPrepaid",value:function(){var e=!1;return this.data.activations&&(e=s.a.from(this.data.activations).where(function(e){return e.creditDebitType===b.f.prepaid}).count()>0),e}},{key:"getDraftFromActivation",value:function(e){var t=JSON.parse(JSON.stringify(this.data));t.activations=s.a.from(t.activations).where(function(t){return t.id===e}).toArray();var n=u.a.getAvailability();return t.activations.forEach(function(e){e.availabilityId=n.id,e.availability=new o.Availability}),t}},{key:"getPortationBrand",value:function(){var e=s.a.from(this.data.activations).where(function(e){return e.activationType==b.c.portDefault||e.activationType==b.c.partnerCardPortation}).firstOrDefault();return e?e.brandKey:""}},{key:"hasPortation",value:function(){return!!s.a.from(this.data.activations).where(function(e){return e.activationType===b.c.portDefault}).firstOrDefault()}},{key:"getPortationCount",value:function(){return s.a.from(this.data.activations).where(function(e){return e.activationType===b.c.portDefault}).count()}},{key:"getPasswordForAdditionalContract",value:function(){var e=s.a.from(this.data.activations).where(function(e){return e.additional}).firstOrDefault();return e?e.customerPassword:void 0}}],[{key:"ensure",value:function(t){if(t.activations){var n=[];if(t.customer.contracts&&t.customer.contracts.length>0&&!t.isCrossSelling&&(t.currentBrand=t.activations[0].brandKey,!t.activations[0].selection)){var a=new p.b("root");a.add(t.customer.contracts[0].bookedProduct.id),t.activations[0].selection=a}t.activations.forEach(function(t,a){var r=e.ensureActivationIsObject(t);r.selection=p.b.ensure(r.selection),n.push(r)}),t.activations=n}}},{key:"subHasOption",value:function(e,t){return!!e.keyNecessary&&(e.keyNecessary&t)===t}},{key:"ensureActivationIsObject",value:function(e){return Object.assign(new m.b(e.brandKey),e)}},{key:"createOrder",value:function(e,t,n,a){var r=new m.b(n);r.id=l.a.getUniqueId(),r.processId=e,r.brandKey=n,r.catKey=t,r.productId=a,r.addRemoveProduct(a);var i=u.a.getAvailability(),s={id:e,currentCat:t,type:b.e.bnt,activations:[r],currentBrand:n,customer:{bew:{}}};return l.a.getConfiguration().debug?(s={id:e,currentCat:t,currentBrand:n,activations:[r],customer:{payment:{paymentType:b.q.iban,iban:"DE02700100800030876808",owner:"Bon Jovi",addressType:b.a.sameAddress,address:new h.a},evn:{billingType:b.d.online,evnType:b.i.shortEvn,targetNumberType:b.x.complete},salutation:b.t.undefined,firstname:"Jon",surname:"Bon Jovi",email2:"dummy@avarto.de",email:"dummy@avarto.de",emailApproved:1,nationality:"DEU",password:"Wxo12345",phonebook:b.r.no,birthday:new Date,address:i&&i.address?i.address:void 0,deliveryType:b.a.sameAddress,delivery:new y.b,instType:b.a.sameAddress,inst:new y.b,legitimation:{type:b.l.german,id:"1234567891",authority:"Bonn",validFrom:new Date,validTo:new Date},mnp:{differentCustomer:!1,provider:"",network:"",birthday:new Date,salutation:b.t.mr},installationSchedule:{dateType:d.f.asap,date:new Date},bew:{}},type:b.e.bnt}).customer.address&&(s.customer.house=new f.a,s.customer.house.homeType=b.j.detachedHouse,s.customer.house.details="Wohnzimmer",s.customer.house.floor="4",s.customer.house.entranceLocation="Vorderhaus",s.customer.house.appartmentLocation="Mitte"):(s={id:e,currentCat:t,currentBrand:n,activations:[r],customer:{payment:{paymentType:b.q.iban,iban:"",owner:"",addressType:b.a.sameAddress,address:new h.a},evn:{billingType:b.d.online,evnType:b.i.shortEvn,targetNumberType:b.x.complete},salutation:b.t.undefined,firstname:"",surname:"",email2:"",email:"",emailApproved:0,nationality:"DEU",password:"",phonebook:b.r.no,birthday:new Date,address:i&&i.address?i.address:void 0,deliveryType:b.a.sameAddress,delivery:new y.b,instType:b.a.sameAddress,inst:new y.b,bew:{},mnp:{differentCustomer:!1,provider:"",network:"",birthday:new Date},legitimation:{type:b.l.german,id:"",authority:"",validFrom:new Date,validTo:new Date},installationSchedule:{dateType:d.f.asap,date:new Date}},type:b.e.bnt}).customer.address&&(s.customer.house=new f.a,s.customer.house.homeType=b.j.detachedHouse,s.customer.house.details="Wohnzimmer",s.customer.house.floor="4",s.customer.house.entranceLocation="Vorderhaus",s.customer.house.appartmentLocation="Mitte"),u.a.addOrder(s),s}},{key:"createProcess",value:function(t,n,a,r){return e.createProcessFromData(t,n,a,r)}},{key:"createProcessFromData",value:function(t,n,a,r){var i=l.a.getUniqueId(),o={currentCat:"",id:i,type:t,customer:a.customer,currentBrand:a.currentBrand,parentId:a.id,activations:JSON.parse(JSON.stringify(a.activations))};return o.customer.bew={},n===b.c.partnerCard&&(o.customer.payment={paymentType:b.q.iban,addressType:b.a.sameAddress,address:new h.a}),o.customer.action=r,o.activations.forEach(function(e){t!=b.e.bookService&&a.customer.contracts&&a.customer.contracts[0].bookedProduct&&(e.services=a.customer.contracts[0].bookedProduct.services),e.services||(e.services=[]),e.processId=i,e.activationType=n,n===b.c.partnerCard&&(e.creditDebitType=b.f.postpaid,e.processStatus={steps:[]}),r&&(e.action=r,r.nbaId&&(e.productId=r.product,e.sub=r.sub,e.services=r.services||[]),e.portationType=r.type==v.c.ART?d.j.asap:d.j.contractEnd),e.id=l.a.getUniqueId()}),r&&r.bc==b.e.bookService&&o.activations[0].brandKey===c.b.vodafone&&(o.activations[0].activationType=b.c.bookService,o.activations[0].productId=r.products[0].id,o.activations[0].sub=r.products[0].subs[0].id,o.activations[0].services=s.a.from(r.products[0].subs[0].sl).select(function(e){return e.id}).toArray()),e.ensure(o),u.a.addOrder(o),o}},{key:"previewAvailable",value:function(e){for(var t=0;t<e.length;t++)if(!e[t].productId)return!1;return!0}},{key:"previewAvailableForAtLeastOne",value:function(e){for(var t=0;t<e.length;t++)if(e[t].productId)return!0;return!1}},{key:"hasGiga",value:function(e){var t=!1,n=!1;return e.activations&&(t=s.a.from(e.activations).where(function(e){return e.brandKey===c.b.dsl}).count()>0,n=s.a.from(e.activations).where(function(e){return e.brandKey===c.b.vodafone}).count()>0),t&&n&&e.activations.map(function(e,a){e.brandKey===c.b.dsl&&e.services.indexOf("V0987")<0&&(n=!1),e.brandKey===c.b.vodafone&&e.services.indexOf("VFAIO2MRK")<0&&(t=!1)}),t&&n}},{key:"getMsisdnFromContract",value:function(e){return e.customer&&e.customer.contracts?e.customer.contracts[0].msisdn:""}},{key:"getParentOfProcess",value:function(e){var t=u.a.getOrders(),n=s.a.from(u.a.getOrders()).where(function(t){return t.id==e}).firstOrDefault();return s.a.from(t).where(function(e){return e.id==n.parentId}).firstOrDefault()}},{key:"getAvailableProducts",value:function(t,n,a,r){var i=[];if(a.contracts){var o=a.contracts[0];if(o.bookableProducts)if(t.id===c.b.otelo&&n)(i=n.products).map(function(e){e.subs.map(function(e){e.b=r})});else for(var l=function(n){var a=e.splitProductSub(t,o.bookableProducts[n].id);if(!a||!a.product)return"continue";var c=s.a.from(t.products).where(function(e){return e.id==a.product}).firstOrDefault();if(!c)return"continue";var l=s.a.from(i).where(function(e){return e.id==a.product}).firstOrDefault();if(null==l?((l=JSON.parse(JSON.stringify(c))).businessCases=[r],l.subs=[],i.push(l)):l.creditDebitType=c.creditDebitType,!s.a.from(l.subs).where(function(e){return e.id==a.sub}).firstOrDefault()){var u=s.a.from(c.subs).where(function(e){return e.id==a.sub}).firstOrDefault();u&&(l.subs.push(u),i[i.indexOf(l)]=l)}},u=0;u<o.bookableProducts.length;u++)l(u)}return i}},{key:"splitProductSub",value:function(e,t){for(var n={product:"",sub:""},a=0;a<e.subs.length;a++)if(t.endsWith(e.subs[a].id)){n.sub=e.subs[a].id,n.product=t.substring(0,t.length-e.subs[a].id.length);break}return n}},{key:"getProductFromContract",value:function(e,t){return t.customer.contracts&&t.customer.contracts[0].bookedProduct?t.customer.contracts[0].bookedProduct.name:""}}]),e}()},73:function(e,t,n){"use strict";var a=n(10),r=n(11),i=n(14),s=n(12),o=n(15),c=n(7),l=(n(324),n(0)),u=n.n(l),d=n(42),p=n(23),m=n(19),h=n(67),v=n(28);n(636),n(637),n(638),n(639),n(640),n(641),n(642),n(643),n(644);Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length;if("function"!==typeof e)throw new TypeError("predicate must be a function");for(var a=arguments[1],r=0;r<n;){var i=t[r];if(e.call(a,i,r,t))return i;r++}}}),String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.indexOf(e,t)===t}),Date.prototype.addDays||(Date.prototype.addDays=function(e){var t=new Date(this.valueOf());return t.setDate(t.getDate()+e),t}),Number.prototype.parseInt||(String.prototype.parseInt=function(e){return parseInt(e,10)}),"function"!=typeof Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");e=Object(e);for(var t=1;t<arguments.length;t++){var n=arguments[t];if(null!=n)for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e});var f=n(17),b=n(3),y=n(2),g=n(8),E=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).model=new y.IDefCon,n.state={},n}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){if(this.model=g.a.easyApp.defcon,!this.model||(this.model.state&y.EAppState.warningVisible)!==y.EAppState.warningVisible)return l.createElement(l.Fragment,null);var e=(this.model.state&y.EAppState.blockScreen)===y.EAppState.blockScreen;return l.createElement(l.Fragment,null,l.createElement("div",{className:"defcon-container"},l.createElement("div",{className:"defcon"},l.createElement("div",{dangerouslySetInnerHTML:{__html:this.model.notification?this.model.notification:""}}))),e?l.createElement("div",{className:"defcon-blocked"}):l.createElement(l.Fragment,null))}}]),t}(l.Component),k=n(25),C=n(143),_=function(){function e(){Object(a.a)(this,e)}return Object(r.a)(e,null,[{key:"getBrowserString",value:function(){return C.isIE?"ie":C.isSafari?"safari":C.isFirefox?"firefox":C.isEdge?"edge":"chrome"}}]),e}(),O=n(4),S=n(27),w=n(1),x=n(24),P=n(13),D=n(133),T=n(105);n.d(t,"a",function(){return A});var A=function(e){function t(e){var n;Object(a.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).head=void 0,n.defcon=new y.IDefCon,n.dynamicPopup=void 0,n.extras=[],n.checkDefCon=function(){return!!P.a.getDefCon().canAccess()||(n.setState({popupDefCon:!0}),!1)},t.currentTheme=localStorage.getItem(O.j.keyTheme)||"theme-light",localStorage.setItem(O.j.keyTheme,t.currentTheme),n.defcon=P.a.getDefCon(),n.expand=n.expand.bind(Object(c.a)(Object(c.a)(n))),n.append=n.append.bind(Object(c.a)(Object(c.a)(n))),n.handleScroll=n.handleScroll.bind(Object(c.a)(Object(c.a)(n))),n.areUsureLogout=n.areUsureLogout.bind(Object(c.a)(Object(c.a)(n)));var r=P.a.getAppSettings();return window.onpopstate=function(e){x.a.route({title:e.state,url:window.location.href,skipState:!0})},n.state={initialised:!1,expanded:r.expanded,popUpVisibility:!1,expiredSessionUser:!1,firstLoginDataCheck:!0},g.a.easyApp=Object(c.a)(Object(c.a)(n)),n}return Object(o.a)(t,e),Object(r.a)(t,[{key:"refresh",value:function(e){this.setState({initialised:!0})}},{key:"gotoDashboard",value:function(){x.a.route({url:"/",title:g.a.getConfiguration().appTitle})}},{key:"refreshAndRoute",value:function(e){this.setState({initialised:!0},function(){x.a.route(e)})}},{key:"runPopup",value:function(e,t){this.dynamicPopup=e,this.setState({changed:!0}),t&&t()}},{key:"expand",value:function(e){this.setState({expanded:e})}},{key:"append",value:function(e){this.extras.push(e),this.setState({changed:!0})}},{key:"setTitle",value:function(e){this.head&&this.head.setTitle(e)}},{key:"socketCallback",value:function(e){var t=JSON.parse(e.data);P.a.set(O.j.keyDefCon,t.data),this.defcon=t.data,this.setState({changed:!0},function(){x.a.reload()})}},{key:"render",value:function(){document.documentElement.setAttribute("data-theme",t.currentTheme);var e=this.props.css?this.props.css:"";this.state.expanded&&(e+=" exp"),this.state.fixed&&(e+=" fix");var n=x.a.isBlank();if(n&&(e+=" blank"),e+=" "+_.getBrowserString(),!this.state.refresh){var a=P.a.oteloOnlyBookable();return u.a.createElement(u.a.Fragment,null,a?u.a.createElement("div",{id:"appback"}):null,u.a.createElement("div",{id:t.containerId,className:e},u.a.createElement(E,null),this.dynamicPopup,this.props.content?u.a.createElement(v.q,{blank:!0,content:this.props.content}):null,this.state.initialised?u.a.createElement(v.q,{blank:n}):u.a.createElement(v.p,{parent:this}),this.state.popUpVisibility?this.areUsureLogout():u.a.createElement(u.a.Fragment,null),this.state.popupDefCon?this.defConPopup():u.a.createElement(u.a.Fragment,null),this.state.firstLoginDataCheck?this.firstLoginDataCheck():u.a.createElement(u.a.Fragment,null),this.state.expiredSessionUser?this.expiredSessionUser():u.a.createElement(u.a.Fragment,null),this.extras.map(function(e,t){return e})))}}},{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll)}},{key:"visibilityLogout",value:function(e){this.setState({popUpVisibility:e})}},{key:"expiredSessionVisibility",value:function(e){this.setState({expiredSessionUser:e})}},{key:"areUsureLogout",value:function(){var e=this,t=u.a.createElement(d.a,{className:"full tal"},u.a.createElement(p.a,null,u.a.createElement(m.a,{xs:12,md:12,className:"npr"}))),n={props:{id:"dynamicPopup",title:"Bist du sicher, dass du vf-easy.de verlassen m\xf6chtest?",visible:!0,closable:!1,style:"tal",type:f.a.custom,height:150,width:500},content:t,action:u.a.createElement(u.a.Fragment,null,u.a.createElement(b.j,{type:y.ELButtonType.buttonWithIconRight,css:"a1 fl",id:"",text:"NEIN, WEITERMACHEN",onClick:function(){e.setState({changed:!0,popUpVisibility:!1})}}),u.a.createElement(b.j,{type:y.ELButtonType.buttonWithIconRight,css:"a1 fr",id:"",text:"JA, ABMELDEN",onClick:function(){k.a.logout()}}))};return S.a.GetPopup(n.props,n.content,n.action)}},{key:"defConPopup",value:function(){var e=this,t=P.a.getDefCon(),n={props:{id:"dynamicPopup",title:"Access",visible:!0,closable:!0,style:"tal",type:f.a.custom,height:250,onDismiss:function(){e.setState({popupDefCon:!1})}},content:u.a.createElement("div",null,t.notification)};return S.a.GetPopup(n.props,n.content,n.action)}},{key:"firstLoginDataCheck",value:function(){var e=this,t=u.a.createElement(d.a,{className:"full tal"},u.a.createElement(p.a,null,u.a.createElement(m.a,{xs:12,md:12,className:"np"},u.a.createElement("div",{style:{color:"#B8B8B8",textAlign:"center"}},"Bitte vervollst\xe4ndige deine Daten und pr\xfcfe die bereits existierenden auf ihre Richtigkeit. Erst danach kannst du das Portal nutzen."))),u.a.createElement(p.a,null,u.a.createElement(m.a,{xs:6,md:6},u.a.createElement(b.l,{type:y.EControlType.text,value:"",placeholder:w.h.void,id:"voidInitial",name:"void"})),u.a.createElement(m.a,{xs:6,md:6},u.a.createElement(b.l,{type:y.EControlType.text,value:"",placeholder:w.h.vpkn,id:"vpknInitial",name:"vpkn"}))),u.a.createElement(p.a,null,u.a.createElement(m.a,{xs:6,md:6},u.a.createElement(b.l,{type:y.EControlType.text,value:"",placeholder:w.h.fnvoid,id:"fnvoidInitial",name:"fnvoid"})),u.a.createElement(m.a,{xs:6,md:6},u.a.createElement(b.l,{type:y.EControlType.text,value:"",placeholder:w.h.salesId,id:"salesIdInitial",name:"salesId"}))),u.a.createElement(p.a,null,u.a.createElement(m.a,{xs:12,md:12},u.a.createElement(b.l,{type:y.EControlType.text,value:"",title:w.h.address,placeholder:w.h.nameAddress,id:"nameInitial",name:"name"}))),u.a.createElement(p.a,null,u.a.createElement(m.a,{xs:8,md:8},u.a.createElement(b.l,{type:y.EControlType.text,value:"",placeholder:w.h.street,id:"streetInitial",name:"street"})),u.a.createElement(m.a,{xs:4,md:4},u.a.createElement(b.l,{type:y.EControlType.text,value:"",placeholder:w.h.houseNumber,id:"houseNRInitial",name:"housenumber"}))),u.a.createElement(p.a,null,u.a.createElement(m.a,{xs:4,md:4},u.a.createElement(b.l,{type:y.EControlType.text,value:"",placeholder:w.h.zip,id:"zipInitial",name:"zip"})),u.a.createElement(m.a,{xs:8,md:8},u.a.createElement(b.l,{type:y.EControlType.text,value:"",placeholder:w.h.city,id:"nameInitial",name:"name"}))),u.a.createElement(p.a,null,u.a.createElement(m.a,{xs:4,md:4},u.a.createElement(b.l,{type:y.EControlType.text,value:"",title:w.h.phoneNumber,placeholder:w.h.telPrefix,id:"areaCodeInitial",name:"areaCode"})),u.a.createElement(m.a,{xs:8,md:8},u.a.createElement(b.l,{type:y.EControlType.text,value:"",placeholder:w.h.phoneNumber,id:"numberInitial",name:"number"}))),u.a.createElement(p.a,null,u.a.createElement(m.a,{xs:12,md:12},u.a.createElement(b.j,{type:y.ELButtonType.buttonWithIconRight,css:"a1 fr",id:"buttonSave",text:w.h.save,onClick:function(){}})))),n={props:{id:"dynamicPopup",title:"Abgleich deiner Stammdaten",visible:!1,closable:!1,style:"tal",type:f.a.custom,height:900,onDismiss:function(){e.setState({firstLoginDataCheck:!1})}},content:u.a.createElement("div",null,t)};return S.a.GetPopup(n.props,n.content,n.action)}},{key:"expiredSessionUser",value:function(){var e=P.a.getUser(),t=u.a.createElement(d.a,{className:"full tal"},u.a.createElement(p.a,null,u.a.createElement(m.a,{xs:12,md:12,className:"npr"},u.a.createElement(b.l,{type:y.EControlType.textArea,id:"login"}),w.h.loginInfo)),e?u.a.createElement("iframe",{src:e.logoutUrl,className:"zero"}):null),n={props:{id:"dynamicPopup",title:"Ihre Sitzung ist abgelaufen",visible:!0,closable:!1,style:"tal",type:f.a.custom,height:200,width:500},content:t,action:u.a.createElement(u.a.Fragment,null,u.a.createElement(b.j,{type:y.ELButtonType.buttonWithIconRight,css:"a1 fr",id:"",text:"Zum Login",onClick:function(){window.location.href="/"}}))};return S.a.GetPopup(n.props,n.content,n.action)}},{key:"handleScroll",value:function(e){var t=document.documentElement?document.documentElement.scrollTop:document.body.scrollTop;if(t||(t=window.scrollY),this.head)return this.head.fix(t>30),void this.setState({fixed:t>30});this.setState({changed:!0})}}],[{key:"switchTheme",value:function(){t.currentTheme=localStorage.getItem(O.j.keyTheme)||"theme-light","theme-dark"===t.currentTheme?t.currentTheme="theme-light":"theme-light"===t.currentTheme&&(t.currentTheme="theme-dark"),localStorage.setItem(O.j.keyTheme,t.currentTheme),window.location.reload()}},{key:"setContainer",value:function(e,t){null==t&&(t="container");var n=document.getElementById(t);h.render(e,n)}},{key:"unmountComponent",value:function(e){var t=document.getElementById(e);t&&h.unmountComponentAtNode(t)}},{key:"renderComponent",value:function(e,t){h.render(t,e)}}]),t}(l.Component);A.currentTheme="",A.containerId="app";var I=Object(D.b)(T.c,T.b)(A);t.b=I},79:function(e,t,n){"use strict";var a=n(10),r=n(11),i=n(14),s=n(12),o=n(15),c=n(0),l=function(e){function t(e){return Object(a.a)(this,t),Object(i.a)(this,Object(s.a)(t).call(this,e))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return c.createElement("div",{className:"iwrap"},this.props.children)}}]),t}(c.Component);t.a=l},8:function(e,t,n){"use strict";var a=n(10),r=n(11),i=n(9),s=n.n(i),o=n(0),c=n(73),l=n(56),u=n(39),d=n(2),p=n(125),m=n(170),h=n(28),v=n(4),f=n(1),b=n(24),y=n(13),g=n(171),E=n(33),k=n(172),C=l.b;window.jQuery=window.jQuery||{};!function(e,t,n){if("function"!==typeof e.signalR)throw new Error("SignalR: SignalR is not loaded. Please ensure jquery.signalR-x.js is referenced before ~/signalr/js.");var a=e.signalR;function r(t,n){return function(){n.apply(t,e.makeArray(arguments))}}function i(t,n){var a,i,s,o,c;for(a in t)if(t.hasOwnProperty(a)){if(!(i=t[a]).hubName)continue;for(s in c=n?i.on:i.off,i.client)if(i.client.hasOwnProperty(s)){if(o=i.client[s],!e.isFunction(o))continue;c.call(i,s,r(i,o),o)}}}var s="https://api.easy3.com/api/hub",o=s;C===l.a.Dev?o=s:C===l.a.Int?o="https://easy3.tradelight.net/r/api/hub":C===l.a.Prod?o="https://api.vf-easy.de/r/api/hub":C===l.a.DevInt&&(o="https://easy3.tradelight.net/r/api/hub"),console.log("hub:"+o),a.hub=e.hubConnection(o,{useDefaultPath:!1}),e.extend(a,a.hub._registerSubscribedHubs()),e.hubConnection.prototype.createHubProxies=function(){console.log("proxies created");var t={};return this.starting(function(){i(t,!0),a.hub._registerSubscribedHubs()}).disconnected(function(){i(t,!1)}),t.trustlightApiHub=this.createHubProxy("trustlightApiHub"),t.trustlightApiHub.client={},t.trustlightApiHub.server={onSend:function(n){return t.trustlightApiHub.invoke.apply(t.trustlightApiHub,e.merge(["onSend"],e.makeArray(arguments)))}},t.trustlightApiHub,t},e.extend(a,a.hub.createHubProxies())}(window.jQuery,window);var _=function(){function e(t,n){Object(a.a)(this,e),this.hub=void 0,this.id=void 0,this.connectionId="",this.started=!1,this.started=!1,this.id=n,this.push=this.push.bind(this),this.auto=this.auto.bind(this),t&&this.start(),this.send=this.send.bind(this)}return Object(r.a)(e,[{key:"send",value:function(e,t,n){try{var a=$.connection.trustlightApiHub,r={type:t,connectionId:this.connectionId,data:e,url:window.location.href};C!=l.a.Prod&&console.log("hub send: "+e.length,r),a.server.onSend(JSON.stringify(r)),n&&n()}catch(i){console.log("!!!!!!!!!!!!!!!!!errror!!!!!!!!!!!!!!!!!!!!"),console.log(i),n&&n(i)}}},{key:"start",value:function(){var e=this;this.hub=$.connection.trustlightApiHub,$.connection.hub.disconnected(function(){console.log("!!!!!!!!!!!hub disconnected!!!!!!!!!!!!!"),setTimeout(function(){$.connection.hub.start()},1e3)}),console.log("hub started"),this.hub.on("pushResponse",function(e){}),this.hub.client.pushResponse=this.push,$.connection.hub.start({pingInterval:6e4,transport:["webSockets","longPolling"]}).done(function(t){e.started=!0,e.connectionId=e.hub.connection.id,console.log("hub started: "+e.connectionId)}).fail(function(e){console.log("!!!!!!!!!!!!!!!!!hub error!!!!!!!!!!!!!!!!!!!!!!"),console.log(e)})}},{key:"push",value:function(e){this.auto(e)}},{key:"stop",value:function(){console.log("hub stopped"),this.started=!1,$.connection.hub.stop()}},{key:"auto",value:function(e){x.parseSocketAndApiResponse(e,function(e,t){if(t.data)if(x.trackSession&&x.trackSession(e),e.error&&e.error.action&&e.error.action.type===u.ERAPIAction.login)window.location.href=e.error.action.url;else{if(e.error){if("403"==e.error.code||"Forbidden"==e.error.code)return void c.a.setContainer(o.createElement(h.m,{data:{code:403}}),v.a.container);if("404"==e.error.code||"NotFound"==e.error.code)return void c.a.setContainer(o.createElement(h.m,{data:{code:404}}),v.a.container)}if(console.log("socket receive:"+t.type),C!=l.a.Prod&&console.log("hub receive: "+t.type,t),t.type===d.ERequestType.loadDraft){var n=JSON.parse(e.data.data);n.customer=JSON.parse(n.model),y.a.resetOrders(),n.currentBrand=n.activations[0].brandKey,n.currentCat=n.activations[0].brandKey,y.a.addOrder(n),e.data.avl&&(e.data.avl.id=e.data.avl.brands[0].id,y.a.set(v.j.keyAvailability,e.data.avl));var a="/ordering/new/tariff/"+n.Id;b.a.route({url:a,title:f.h.draft})}else if(t.type===d.ERequestType.defconChanged){var r=x.GetComponent(c.a.containerId);r&&r.socketCallback(t)}else if(t.type===d.ERequestType.customerGroupGet||t.type===d.ERequestType.customerGroupCreate){var i=x.GetComponent(g.a.containerId);i&&i.socketCallback(t)}else if(t.type===d.ERequestType.loadCustomer){var s=x.GetComponent(k.a.containerId);s&&s.socketCallback(t)}else if(t.type===d.ERequestType.checkAvailability){y.a.parseAvailability(t);var _=x.GetComponent(E.b.containerId);_&&_.socketCallback(t);var O=x.GetComponent(h.f.containerId);O&&O.applyAvailability()}else if(t.type===d.ERequestType.startApp){var S=x.GetComponent(h.p.containerId);S&&S.socketCallback(e)}else if(t.type===d.ERequestType.getDrafts){var w=x.GetComponent(h.j.containerId);w&&w.socketCallback(e)}else if(t.type===d.ERequestType.getContracts){var P=x.GetComponent(h.e.containerId);P&&P.socketCallback(e)}else if(t.type===d.ERequestType.create||t.type===d.ERequestType.checkMsisdn){var D=x.GetComponent(h.t.containerId);D&&D.socketCallback(t)}else if(t.type===d.ERequestType.createCustomerProcess||t.type===d.ERequestType.customerChangePayment||t.type===d.ERequestType.customerChangeData||t.type===d.ERequestType.customerChangePassword||t.type===d.ERequestType.customerChangeAddRemoveServices||t.type===d.ERequestType.customerGetCanellation||t.type===d.ERequestType.customerSetCancellation||t.type===d.ERequestType.createCancellationProcess||t.type===d.ERequestType.customerOrderSim||t.type===d.ERequestType.customerUpdateConsents){var T=x.GetComponent(h.f.containerId);T&&T.socketCallback(t)}else if(t.type==d.ERequestType.customerChangeAddCombi){var A=x.GetComponent(t.receiverId);A?A.socketCallback(e):console.log("receiver:"+t.receiverId+" noyt found!!!!!")}else if(t.type===d.ERequestType.print||t.type===d.ERequestType.activation||t.type===d.ERequestType.contractSummaryPost||t.type===d.ERequestType.loadCustomerRefresh){var I=x.GetComponent(t.receiverId);if(!I)return;t.type===d.ERequestType.loadCustomerRefresh?I.socketCallbackCustomer(t):I&&I.socketCallback(e)}else if(t.type===d.ERequestType.saveDraft){var j=x.GetComponent(E.k.containerId);j&&j.socketCallback(t)}else if(t.type===d.ERequestType.getOrderDetail){x.GetComponent(h.s.containerId).socketCallbackDetails(e)}else if(t.type===d.ERequestType.saveOrderPoducts){var N=x.GetComponent(h.r.containerId);N&&N.socketCallback(e)}else if(t.type===d.ERequestType.changePassword){var M=x.GetComponent(h.k.containerId);M&&M.socketCallback(e)}else if(t.type===d.ERequestType.loadProfile){var B=x.GetComponent(h.l.containerId);B&&B.loadProfileCallback(e)}else if(t.type===d.ERequestType.saveProfile){var R=x.GetComponent(h.l.containerId);R&&R.saveProfileCallback(e)}else if(t.type===d.ERequestType.loadAccount){var F=x.GetComponent(h.g.containerId)||x.GetComponent(h.a.containerId);F&&F.loadAccountCallback(e)}else if(t.type===d.ERequestType.saveAccount){var K=x.GetComponent(h.g.containerId);K&&K.saveAccountCallback(e)}else if(t.type===d.ERequestType.getContacts){var L=x.GetComponent(h.a.containerId);L&&L.contactsRecieved(e)}else if(t.type===d.ERequestType.getContractDetails){var W=x.GetComponent(h.d.containerId);W&&W.socketCallback(e)}else if(t.type===d.ERequestType.saveImei||t.type===d.ERequestType.saveImeiList){var V=x.GetComponent(h.o.containerId);V&&V.socketCallback(e)}else if(t.type===d.ERequestType.loadContact){x.GetComponent(p.a.containerId).loadUserCallback(e)}else if(t.type===d.ERequestType.getOrderProducts){x.GetComponent(h.s.containerId).socketCallback(e)}else if(t.type===d.ERequestType.getOrdersList){x.GetComponent(h.s.containerId).socketCallbackOrdersList(e)}else if(t.type===d.ERequestType.saveContact){var U=x.GetComponent(p.a.containerId);U&&U.saveUserCallback(e)}else if(t.type===d.ERequestType.activateUser){var q=x.GetComponent(p.a.containerId);q&&q.activateUserCallback(e)}else if(t.type===d.ERequestType.deactivateUser){var z=x.GetComponent(p.a.containerId);z&&z.deactivateUserCallback(e)}else if(t.type===d.ERequestType.belatedPortation){var G=x.GetComponent(h.b.containerId);G&&G.socketCallback(e)}else if(t.type===d.ERequestType.getMnpPortingStatus){var H=x.GetComponent(h.u.containerId);H&&H.socketCallback(e)}else if(t.type===d.ERequestType.getMnpPortingStatusDetails){var J=x.GetComponent(h.u.containerId);J&&J.socketCallbackDetails(e)}else if(t.type===d.ERequestType.notify)alert("notify:"+t.data);else if(t.type===d.ERequestType.loadPortingStatus){var Z=x.GetComponent(m.a.containerId);Z&&Z.socketCallback(e)}}})}}]),e}(),O=n(5),S=n(6),w=function(){function e(){Object(a.a)(this,e)}return Object(r.a)(e,null,[{key:"init",value:function(){e.hub=new _(!0,"main")}},{key:"FindReact",value:function(e){if(e){var t=Object.keys(e).find(function(e){return e.startsWith("__reactInternalInstance$")}),n=e[t||0];return null==n?null:n.return?n._debugOwner?n._debugOwner.stateNode:n.return.stateNode:n._currentElement._owner._instance}}},{key:"Stringify",value:function(e){var t=[];return JSON.stringify(e,function(e,n){if("object"===typeof n&&null!==n){if(-1!==t.indexOf(n))return;t.push(n)}return n})}},{key:"dateOnly",value:function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())}},{key:"containsAny",value:function(e,t){if(e&&t)for(var n=0;n<t.length;n++)if(e.indexOf(t[n])>=0)return!0;return!1}},{key:"getAgeFromDate",value:function(e){var t=new Date,n=new Date(e),a=Math.floor((t.getTime()-new Date(e).getTime())/315576e5);return 18===a&&n.getMonth()+1>t.getMonth()+1&&n.getDate()>t.getDate()?a--:18===a&&n.getMonth()+1===t.getMonth()+1&&n.getDate()>t.getDate()?a--:18===a&&n.getMonth()+1>t.getMonth()+1&&n.getDate()===t.getDate()&&a--,16===a&&n.getMonth()+1>t.getMonth()+1&&n.getDate()>t.getDate()?a--:16===a&&n.getMonth()+1===t.getMonth()+1&&n.getDate()>t.getDate()?a--:16===a&&n.getMonth()+1>t.getMonth()+1&&n.getDate()===t.getDate()&&a--,a}},{key:"dateIsValid",value:function(e){return"Invalid Date"!=e.toString()}},{key:"dateToString",value:function(e){(new Date).getTimezoneOffset();var t=new Date(e.getTime()-6e4*e.getTimezoneOffset()).toISOString().split("T");return new Date(t[0])}},{key:"GetComponent",value:function(t){var n=document.getElementById(t);return e.FindReact(n)}},{key:"TrackError",value:function(e,t){console.log("TrackError"),console.log(e),console.log(t)}},{key:"FocusComponent",value:function(e){var t=document.getElementById(e);t&&t.scrollIntoView()}},{key:"getEmptyFee",value:function(){return{price:0,unit:v.e.currencyUnit}}},{key:"inRole",value:function(e){var t=y.a.getUser();return!!t&&!!s.a.from(t.roles).where(function(t){return t===e}).firstOrDefault()}},{key:"inAnyRole",value:function(e){var t=y.a.getUser();if(t){var n=s.a.from(t.roles).where(function(t){return e.indexOf(t)>=0}).toArray();return!!(n&&n.length>0)}return!1}},{key:"checkAccessRoles",value:function(t){return!!e.inAnyRole(t)}},{key:"validateAccessRoles",value:function(t){var n=e.checkAccessRoles(t);return n||c.a.setContainer(o.createElement(h.m,{data:{code:403}}),v.a.container),n}},{key:"isDelaer",value:function(t){var n=e.inAnyRole([v.l.Vertriebsbeauftragter,v.l.Vertriebsleiter,v.l.Niederlassungsleiter,v.l.Niederlassungssupport,v.l.Hotline,v.l.Backoffice,v.l.Hauptabteilungsleiter]);return n&&t&&c.a.setContainer(o.createElement(h.m,{data:{code:403.1}}),v.a.container),!n}},{key:"extractErrorAndValidation",value:function(e){var t=e.message;return e.validation&&(t+="<ul>",e.validation.items.map(function(e){t+="<li>"+e.Key+": "+e.Value+"</li>"}),t+="</ul>"),t}},{key:"getVersion",value:function(){return"3.0.100.3"}},{key:"convertUTCDateToLocalDate",value:function(e){var t=e.getHours();return e.setHours(t+2),e}},{key:"getTimestamp",value:function(){return Date.now()}},{key:"getToday",value:function(){var e=new Date;return new Date(e.getFullYear(),e.getMonth(),e.getDate())}},{key:"indexOfAny",value:function(e,t){if(t&&e)for(var n=0;n<t.length;n++)if(e.indexOf(t[n])>=0)return!0;return!1}},{key:"addDays",value:function(e,t){return e.setDate(e.getDate()+t),e}},{key:"getProductById",value:function(e){for(var t=y.a.getBrands(),n=0;n<t.length;n++){var a=s.a.from(t[n].products).where(function(t){return t.id===e}).firstOrDefault();if(null!==a)return a}}},{key:"getDaysInMonth",value:function(t){var n=t.getMonth()+1;return 2==n?e.isLeapYear(t.getFullYear())?29:28:4==n||6==n||9==n||11==n?30:31}},{key:"isLeapYear",value:function(e){return e%4==0&&e%100!=0||e%400==0}},{key:"getDays",value:function(e,t){for(var n=new Array,a=e;a<=t;a++)n.push({key:a.toString(),text:a.toString()});return n}},{key:"getYears",value:function(e,t){for(var n=new Array,a=((new Date).getFullYear(),t);a>=e;a--)n.push({key:a.toString(),text:a.toString()});return n}},{key:"getCustomerStatus",value:function(e){return e==d.ECustomerStatus.gold?f.h.gold:e==d.ECustomerStatus.silver?f.h.silver:e==d.ECustomerStatus.platinum?f.h.platinum:f.h.na}},{key:"toGermanDate",value:function(e){if(!e)return"";var t=new Date(e),n=t.getDate(),a=t.getMonth()+1,r=t.getFullYear(),i=n.toString(),s=a.toString();return n<10&&(i="0"+n),a<10&&(s="0"+a),i+"."+s+"."+r}},{key:"toGermanDateL",value:function(t){var n=new Date(t.year,t.month,t.day);return e.toGermanDate(n)}},{key:"fromGermanDateString",value:function(e){try{var t=e.split(".");if(3!=t.length)throw new Error("not a date");return new Date(Number.parseInt(t[2]),Number.parseInt(t[1])-1,Number.parseInt(t[0]))}catch(n){return void console.error(n)}}},{key:"formatNumber",value:function(e,t,n,a){var r="\\d(?=(\\d{"+(n||3)+"})+"+(t>0?"\\.":"$")+")",i=e.toFixed(Math.max(0,~~t)).replace(new RegExp(r,"g"),"$&,");return a&&(i+=" "+a),i}},{key:"removeElementFromArray",value:function(e,t){if(e){var n=e.indexOf(t);n>=0&&e.splice(n,1)}}},{key:"getPaymentTypeUi",value:function(e){return e===O.q.iban?f.k.payment1:e===O.q.creditcard?f.k.payment3:e===O.q.bank?f.k.payment2:f.k.payment4}},{key:"feeToString",value:function(e){return e?(e.price/100).toFixed(2).toString().replace(".",",")+" "+(e.unit?e.unit:f.h.euro):(0).toFixed(2).toString().replace(".",",")+" "+f.h.euro}},{key:"hideIban",value:function(e){var t=e||"";return t&&t.length>=6?t.substring(0,2)+"****"+t.substring(t.length-4):t||""}},{key:"feeServiceToString",value:function(e){var t=0;return e.map(function(e,n){e.monthlyFee&&(t+=e.monthlyFee.price)}),(t/100).toFixed(2).toString().replace(".",",")+" \u20ac"}},{key:"GetValueForControl",value:function(e){var t=e.value,n=e.id,a="";if(n.indexOf("-")>0&&(n=n.substring(n.indexOf("-")+1)),"radio"==e.type)t=n.replace(e.name+"_","");else if(e.type==S.d.radio||e.type==S.d.checkbox){if(a=e.name,e.name.indexOf(".")>0){var r=e.name.split(".");a=r[r.length-1]}t=n.replace(a+"_","")}else e.type==S.d.date&&(t=e.dateValue);return t}},{key:"onInput",value:function(t,n,a){var r=e.GetValueForControl(n);r.value&&(r.value=r.value.trim());var i=n;i&&i.type==S.d.checkbox&&(r=!!i.checked&&i.checked),isNaN(r)||n.type==S.d.text||(r=Number(r));var s=n.name;n.targetName&&(s=n.targetName),n.type===S.d.date?e.setValueByPath(t,s,n.dateValue):e.setValueByPath(t,s,r),a&&a()}},{key:"AutoInput",value:function(t,n,a){var r=e.GetValueForControl(a);n&&e.setValueByPath(n,a.name,r),t.setState({changed:!0})}},{key:"getValueByPath",value:function(e,t){var n=t.split(".");if(1===n.length)return e[t];var a=n[0];return e[a]||(e[a]={}),n.splice(0,1),this.getValueByPath(e[a],n.join("."))}},{key:"setValueByPath",value:function(e,t,n){var a=t.split(".");if(t.startsWith("-")&&(t=t.substring(1)),1===a.length)e[t]=n;else{var r=a[0];r.startsWith("-")&&(r=r.substring(1)),e[r]||(e[r]={}),a.splice(0,1),this.setValueByPath(e[r],a.join("."),n)}}},{key:"getPropertyPath",value:function(e,t){return e.split(".").reduce(function(e,t){return e&&e[t]},t)}},{key:"openUrl",value:function(t){var n=e.getConfiguration().apiUrl+t;window.open(n,"_blank")}},{key:"getNationalities",value:function(){new Array;var e=y.a.getSupport().countries;return s.a.from(e).orderByDescending(function(e){return e.priority}).thenBy(function(e){return e.name}).select(function(e,t){return{key:e.code,text:e.name}}).cast().toArray()}},{key:"getMonths",value:function(e){var t=new Array;return t.push({key:1,text:"Januar"}),t.push({key:2,text:"Februar"}),t.push({key:3,text:"M\xe4rz"}),t.push({key:4,text:"April"}),t.push({key:5,text:"Mai"}),t.push({key:6,text:"Juni"}),t.push({key:7,text:"Juli"}),t.push({key:8,text:"August"}),t.push({key:9,text:"September"}),t.push({key:10,text:"Oktober"}),t.push({key:11,text:"November"}),t.push({key:12,text:"Dezember"}),s.a.from(t).where(function(t){return t.key>=e}).select(function(e){return{key:e.key,text:e.text}}).toArray()}},{key:"getAllConsents",value:function(){var e=new Array;return e.push({channel:"ONL",change_date:new Date,ad_channel_type:"EMA"}),e.push({channel:"ONL",change_date:new Date,ad_channel_type:"ECU"}),e.push({channel:"ONL",change_date:new Date,ad_channel_type:"SMS"}),e.push({channel:"ONL",change_date:new Date,ad_channel_type:"OBP"}),e.push({channel:"ONL",change_date:new Date,ad_channel_type:"PVL"}),e.push({channel:"ONL",change_date:new Date,ad_channel_type:"WHM"}),e}},{key:"getPaginationItemsPerPage",value:function(){var e=new Array;return e.push({key:10,text:"10"}),e.push({key:20,text:"20"}),e.push({key:50,text:"50"}),e.push({key:50,text:"100"}),s.a.from(e).select(function(e){return{key:e.key,text:e.text}}).toArray()}},{key:"getHours",value:function(){var e=new Array,t=8;for(e.push({key:0,text:""});19!=t;)e.push({key:t,text:t.toString()}),t++;return s.a.from(e).select(function(e){return{key:e.key,text:e.text}}).toArray()}},{key:"getMinutes",value:function(){var e=new Array;return e.push({key:0,text:""}),e.push({key:0,text:"00"}),e.push({key:15,text:"15"}),e.push({key:30,text:"30"}),e.push({key:45,text:"45"}),s.a.from(e).select(function(e){return{key:e.key,text:e.text}}).toArray()}},{key:"getPrefixes",value:function(){var e=new Array;return e.push({key:4,text:"0151"}),e.push({key:5,text:"01520"}),e.push({key:6,text:"01521"}),e.push({key:7,text:"01522"}),e.push({key:8,text:"01523"}),e.push({key:9,text:"01525"}),e.push({key:10,text:"01526"}),e.push({key:11,text:"01529"}),e.push({key:12,text:"01566"}),e.push({key:13,text:"01570"}),e.push({key:14,text:"01573"}),e.push({key:15,text:"01575"}),e.push({key:16,text:"01577"}),e.push({key:17,text:"01578"}),e.push({key:18,text:"01579"}),e.push({key:19,text:"01590"}),e.push({key:20,text:"0160"}),e.push({key:21,text:"0162"}),e.push({key:22,text:"0163"}),e.push({key:23,text:"0170"}),e.push({key:24,text:"0171"}),e.push({key:25,text:"0172"}),e.push({key:26,text:"0173"}),e.push({key:27,text:"0174"}),e.push({key:28,text:"0175"}),e.push({key:29,text:"0176"}),e.push({key:30,text:"0177"}),e.push({key:31,text:"0178"}),e.push({key:32,text:"0179"}),e.push({key:33,text:"11001"}),e.push({key:34,text:"01502"}),e.push({key:35,text:"01531"}),e.push({key:36,text:"01567"}),e.push({key:37,text:"01505"}),e.push({key:38,text:"01508"}),e.push({key:39,text:"01588"}),e.push({key:40,text:"01556"}),e.push({key:41,text:"01555"}),e.push({key:42,text:"01563"}),s.a.from(e).select(function(e){return{key:e.key,text:e.text}}).toArray()}},{key:"getNetworkProvider",value:function(){var e=new Array;return e.push({key:1,text:"O2"}),e.push({key:2,text:"Sipgate Wireless"}),e.push({key:3,text:"T-Mobile"}),e.push({key:4,text:"Lycamobile"}),e.push({key:5,text:"Vodafone"}),s.a.from(e).select(function(e){return{key:e.key,text:e.text}}).toArray()}},{key:"getNameProvider",value:function(){var e=new Array;return e.push({key:1,text:"1&1"}),e.push({key:2,text:"7,7 Cent"}),e.push({key:3,text:"AirBerlin"}),e.push({key:4,text:"Alice"}),e.push({key:5,text:"Alphatel"}),e.push({key:6,text:"AOL"}),e.push({key:7,text:"Atu"}),e.push({key:8,text:"Ay Yildiz"}),e.push({key:9,text:"BASE"}),e.push({key:10,text:"Blau"}),e.push({key:11,text:"Blauworld"}),e.push({key:12,text:"Blauworld powered by Ortel"}),e.push({key:13,text:"callmobile"}),e.push({key:14,text:"Cellway"}),e.push({key:15,text:"Conrad"}),e.push({key:16,text:"debitel"}),e.push({key:17,text:"debitel light"}),e.push({key:18,text:"DOKOM21 Dortmund"}),e.push({key:19,text:"Drillisch"}),e.push({key:20,text:"encoLine Gera"}),e.push({key:21,text:"EnoCom Karlsruhe"}),e.push({key:22,text:"Express"}),e.push({key:23,text:"Fonic"}),e.push({key:24,text:"foto@phone"}),e.push({key:25,text:"Freenet"}),e.push({key:26,text:"freenetmobile"}),e.push({key:27,text:"Galeria mobil"}),e.push({key:28,text:"Gruner & Jahr"}),e.push({key:29,text:"GTCom"}),e.push({key:30,text:"Hansenet"}),e.push({key:31,text:"HeLi NET Hamm"}),e.push({key:32,text:"hellomobil"}),e.push({key:33,text:"HFO Telecom Hof"}),e.push({key:34,text:"HL komm Leipzig"}),e.push({key:35,text:"htp Hannover"}),e.push({key:36,text:"Jamba!"}),e.push({key:37,text:"JKR Bad Kreuznach"}),e.push({key:38,text:"K-net Kaiserslautern"}),e.push({key:39,text:"KEVAG Telekom Koblenz"}),e.push({key:40,text:"KielNET/Versatel Kiel"}),e.push({key:41,text:"klarmobil"}),e.push({key:42,text:"komro Rosenheim"}),e.push({key:43,text:"Lokalisten Fon"}),e.push({key:44,text:"M-net Mobil"}),e.push({key:45,text:"MEDIONmobile"}),e.push({key:46,text:"mobilcom"}),e.push({key:47,text:"Mobilka powered by Ortel"}),e.push({key:48,text:"My Mobi"}),e.push({key:49,text:"NetCologne Mobil"}),e.push({key:50,text:"NetCom BW Ellwangen"}),e.push({key:51,text:"Netcom Kassel"}),e.push({key:52,text:"NettoKOM"}),e.push({key:53,text:"nt-v go"}),e.push({key:54,text:"o2 Germany"}),e.push({key:55,text:"Ortel Mobile"}),e.push({key:56,text:"Phonex.de"}),e.push({key:57,text:"Plus-Kom"}),e.push({key:58,text:"PremiumSIm"}),e.push({key:59,text:"primacom (primaholding) Berlin"}),e.push({key:60,text:"Regio Plus Dresden"}),e.push({key:61,text:"Schlecker Prepaid"}),e.push({key:62,text:"Schwarzfunk/Weissfunk"}),e.push({key:63,text:"Scott (BASE Prepaid)"}),e.push({key:64,text:"sdt.net Aalen"}),e.push({key:65,text:"sim.de"}),e.push({key:66,text:"SimDiscount"}),e.push({key:67,text:"SIMVoice"}),e.push({key:68,text:"Simyo"}),e.push({key:69,text:"Stadtwerke Schwedt"}),e.push({key:70,text:"STAR Communications"}),e.push({key:71,text:"SWU Telenet Ulm"}),e.push({key:72,text:"talkline"}),e.push({key:73,text:"Tchibo mobil"}),e.push({key:74,text:"Tele2"}),e.push({key:75,text:"TNG Stadnetz Kiel"}),e.push({key:76,text:"Unitymedia"}),e.push({key:77,text:"Untiymedia (BW)"}),e.push({key:78,text:"VICTORVOX"}),e.push({key:79,text:"VIVA"}),e.push({key:80,text:"Voiceworks"}),e.push({key:81,text:"Volkswagen TeleCom"}),e.push({key:82,text:"voxenergie (primaholding) Berlin"}),e.push({key:83,text:"Vybemobile"}),e.push({key:84,text:"wilhelm.tel Norderstedt"}),e.push({key:85,text:"willy.tel Hamburg"}),e.push({key:86,text:"winSIM"}),e.push({key:87,text:"WOBCOM Wolfsburg"}),e.push({key:88,text:"Yahoo! Internet Stick"}),e.push({key:89,text:"Youni"}),e.push({key:90,text:"yourfone"}),e.push({key:91,text:"simfinity"}),s.a.from(e).select(function(e){return{key:e.key,text:e.text}}).toArray()}},{key:"toDate",value:function(e){var t=Date.parse(e);if(0==isNaN(t))return new Date(t)}},{key:"getConfiguration",value:function(){var t="https://api.easy3.com/api/",n=l.b,a=t;return n===l.a.Dev?a=t:n===l.a.Int?a="https://easy3.tradelight.net/r/api/":n===l.a.Prod?a="https://api.vf-easy.de/r/api/":n===l.a.DevInt&&(a="https://easy3.tradelight.net/r/api/"),{appTitle:"EASY "+e.getVersion(),apiUrl:a,debug:l.c,pageSize:10}}},{key:"getStringFromEnum",value:function(e,t){for(var n in e)if(e[n]==t)return n;return""}},{key:"parseApiResponseAndContinue",value:function(e,t){if(e){var n="";if(e.isAuthenticated?e.error&&e.error.action&&(e.error.action.type!=u.ERAPIAction.login&&"401"!=e.error.code||(n=e.error.action.url)):n=e.error.action.url,n)return void(window.location.href=n);t()}}},{key:"parseSocketResponseAndContinue",value:function(e,t){var n=JSON.parse(e);n&&t(n)}},{key:"parseSocketAndApiResponse",value:function(t,n){e.parseSocketResponseAndContinue(t,function(t){var a=JSON.parse(t.data);e.parseApiResponseAndContinue(a,function(){n(a,t)})})}}]),e}();w.easyApp=void 0,w.categoryWrapper=void 0,w.hub=void 0,w.trackSession=void 0,w.getEmptyGuid=function(){return"00000000-0000-0000-0000-000000000000"},w.getUniqueId=function(){var e="",t=0;for(e="",t=0;t<32;t++)8!==t&&12!==t&&16!==t&&20!==t||(e+="-"),e+=Math.floor(16*Math.random()).toString(16).toUpperCase();return e.toLowerCase()};var x=t.a=w},85:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a,r=n(10),i=n(11),s=n(14),o=n(12),c=n(15),l=n(7),u=n(0),d=n(18),p=n(42),m=n(23),h=n(19),v=n(3),f=n(1),b=n(2),y=n(24),g=n(6),E=n(4);!function(e){e[e.default=0]="default"}(a||(a={}));var k=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(o.a)(t).call(this,e))).onChange=n.onChange.bind(Object(l.a)(Object(l.a)(n))),n.onApply=n.onApply.bind(Object(l.a)(Object(l.a)(n))),n.onButtonChange=n.onButtonChange.bind(Object(l.a)(Object(l.a)(n))),n.state={filter:n.props.filter?n.props.filter:{needle:""},inProcessing:!1,completed:!1,all:!1},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t={title:this.props.title,transparent:!1},n=(new Date,new Date,u.createElement(d.a,{config:t},u.createElement(p.a,null,u.createElement(u.Fragment,null),!0===this.props.optionalButtons?u.createElement(m.a,null,u.createElement(h.a,{xs:4,md:4},u.createElement(v.j,{type:b.ELButtonType.normal,css:"a1 fr",status:this.state.inProcessing?g.i.selected:g.i.normal,id:"In Bearbeitung",text:"In Bearbeitung",onClick:function(){e.onButtonChange(event)}})),u.createElement(h.a,{xs:4,md:4},u.createElement(v.j,{type:b.ELButtonType.normal,css:"a1 fr",status:this.state.completed?g.i.selected:g.i.normal,id:"Abgeschlossen",text:"Abgeschlossen",onClick:function(){e.onButtonChange(event)}})),u.createElement(h.a,{xs:4,md:4},u.createElement(v.j,{type:b.ELButtonType.normal,css:"a1 fr",status:this.state.all?g.i.selected:g.i.normal,id:"Alle",text:"Alle",onClick:function(){e.onButtonChange(event)}}))):u.createElement(u.Fragment,null),u.createElement(m.a,null,!0===this.props.hideDateFilter?u.createElement(u.Fragment,null):u.createElement(h.a,{xs:6,md:6,className:"np"},u.createElement(p.a,null,u.createElement(m.a,null,u.createElement(h.a,{xs:5,md:5,className:"np"},u.createElement(v.m,{value:this.props.filter.from,datePicker:!0,onChange:this.onChange,title:f.h.periodFrom,id:this.props.id+".from",name:"from",style:"middle"})),u.createElement(h.a,{xs:2,md:2}),u.createElement(h.a,{xs:5,md:5,className:"np"},u.createElement(v.m,{datePicker:!0,value:this.props.filter.to,onChange:this.onChange,title:f.h.to,style:"middle",id:this.props.id+".to",name:"to"}))),this.props.orderManagerFilter?u.createElement(m.a,null,u.createElement(h.a,null,u.createElement(v.l,{type:b.EControlType.dropdown,value:this.props.filter.timeFilter,onChange:this.onChange,valueType:g.n.numberInt,preview:!1,name:"timeFilter",id:"timeFilter",title:f.h.timeFilter,options:this.getTimeFilterOptions()}))):null)),u.createElement(h.a,{xs:1,md:1,className:"npr"}),u.createElement(h.a,{xs:5,md:5,className:"npr"},u.createElement(p.a,null,u.createElement(m.a,null,u.createElement(h.a,{className:"npr"},u.createElement(v.l,{value:this.props.filter.needle,type:b.EControlType.text,onChange:this.onChange,onEnter:this.onApply,title:void 0!==this.props.searchTitle?this.props.searchTitle:f.h.searchTitle,style:"roundinner",label:void 0,hideLabel:!0,placeholder:this.props.placeholderSearch,id:this.props.id+".needle",name:"needle"}))),this.props.orderManagerFilter?this.renderCats():null))),u.createElement(m.a,null,u.createElement(h.a,{xs:6,md:6,className:"np"}),u.createElement(h.a,{xs:6,md:6,className:"np"},void 0!==this.props.actionButtons?u.createElement("div",{className:"filterAction"},this.props.actionButtons):u.createElement("div",{className:"filterAction"},u.createElement(v.j,{text:f.h.toDashboard,css:"fr",onClick:function(){y.a.route({url:"/"})},type:b.ELButtonType.buttonWithIconRight,icon:"arrow-right"}),u.createElement(v.j,{text:this.props.optionalButtons?"Filtern":f.h.apply,css:"fr",onClick:this.onApply,type:b.ELButtonType.buttonWithIconRight,icon:"expand"}))))),u.createElement(u.Fragment,null)));return u.createElement(v.f,null,u.createElement(v.h,null,u.createElement(u.Fragment,null,n)),u.createElement(u.Fragment,null))}},{key:"renderCats",value:function(){var e=this;console.log("filter",this.props.filter);var t=[];return E.h.brandCats.map(function(n,a){var r=u.createElement(v.l,{type:b.EControlType.checkbox,checked:e.props.filter.cats&&e.props.filter.cats.indexOf(n.key)>=0,label:n.text,hideTitle:!0,name:"",value:n.key,onChange:e.onChange,key:"cb-cat-"+n.key,id:"cats-"+n.key});t.push(r)}),t}},{key:"getTimeFilterOptions",value:function(){var e=new Array;return e.push({key:0,text:"Alle"}),e.push({key:1,text:"Aktuelle Woche"}),e.push({key:2,text:"Aktueller Monat"}),e.push({key:3,text:"Letzter Monat"}),e.push({key:4,text:"Letzte drei Monate"}),e}},{key:"onChange",value:function(e){var t=this.props.filter;if(e.type===b.EControlType.date?t[e.name]=e.dateValue:t[e.name]=e.value,e.id.startsWith("cats")){var n=t.cats,a=e.id.replace("cats-",""),r=n.indexOf(a);r>=0?n.splice(r,1):n.push(a),t.cats=n}this.setState({filter:t}),this.props.onChange&&this.props.onChange(t)}},{key:"onButtonChange",value:function(e){switch(e.target.id){case"In Bearbeitung":this.props.optionalButtonSelection(e.target.id),this.setState({inProcessing:!0,completed:!1,all:!1});break;case"Abgeschlossen":this.props.optionalButtonSelection(e.target.id),this.setState({completed:!0,inProcessing:!1,all:!1});break;case"Alle":this.props.optionalButtonSelection(e.target.id),this.setState({all:!0,completed:!1,inProcessing:!1})}}},{key:"onApply",value:function(){this.props.onApply&&this.props.onApply(this.props.filter)}}]),t}(u.Component);t.b=k},86:function(e,t,n){"use strict";var a=n(10),r=n(11),i=n(14),s=n(12),o=n(15),c=n(0),l=n(42),u=n(23),d=n(19),p=n(6),m=n(8),h=n(27),v=n(1),f=n(3),b=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).state={changed:!1},n}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({changed:!0})}},{key:"render",value:function(){return c.createElement(c.Fragment,null,c.createElement(l.a,{className:"np"},c.createElement(u.a,null,c.createElement(d.a,{xs:7,md:7,className:"np"},h.a.renderInner(this.props.prefix,this.props.source,this.props.onChange,"street",v.h.address,v.h.street,this.props.preview,void 0,void 0,void 0,30)),c.createElement(d.a,{xs:3,md:3,className:""},h.a.renderInner(this.props.prefix,this.props.source,this.props.onChange,"nr"," ",v.h.stnr,this.props.preview,void 0,void 0,void 0,5)),this.props.showStrnAdditional?c.createElement(d.a,{xs:2,md:2,className:"npr"},h.a.renderInner(this.props.prefix,this.props.source,this.props.onChange,"nre"," ",v.h.stnre,this.props.preview)):c.createElement(c.Fragment,null)),c.createElement(u.a,null,c.createElement(d.a,{xs:3,md:3,className:"np"},h.a.renderInner(this.props.prefix,this.props.source,this.props.onChange,"zip",void 0,v.h.zip,this.props.preview,void 0,void 0,void 0,5)),c.createElement(d.a,{xs:9,md:9,className:"npr"},h.a.renderInner(this.props.prefix,this.props.source,this.props.onChange,"city",void 0,v.h.city,this.props.preview,void 0,void 0,void 0,24))),this.props.addressAdditionalFields?c.createElement(u.a,null,c.createElement(d.a,{xs:3,md:3,className:"np"},h.a.renderInner(this.props.prefix,this.props.source,this.props.onChange,"Name",void 0,v.h.nameAddress,this.props.preview)),c.createElement(d.a,{xs:9,md:9,className:"npr"},h.a.renderInner(this.props.prefix,this.props.source,this.props.onChange,"Adresszusatz",void 0,v.h.addressAdditional,this.props.preview))):c.createElement(c.Fragment,null),this.props.withAditional?c.createElement(u.a,null,c.createElement(d.a,{xs:12,md:12,className:"np"},h.a.renderInner(this.props.prefix,this.props.source,this.props.onChange,"additional",void 0,v.h.adrAdditional,this.props.preview))):c.createElement(c.Fragment,null)),c.createElement(f.k,null))}},{key:"renderInner",value:function(e,t,n){var a=this.props.prefix+"_"+e,r=this.props.prefix+"."+e,i=m.a.getValueByPath(this.props.source,r);return c.createElement(f.l,{type:p.d.text,value:i,onChange:this.props.onChange,title:t,hideTitle:!t,name:r,id:a,label:n})}}]),t}(c.Component);t.a=b},87:function(e,t,n){"use strict";var a=n(10),r=n(2),i=n(102),s=n(5),o=function e(){Object(a.a)(this,e),this.salutation=s.t.undefined,this.firstname="",this.surname="",this.birthday=new Date,this.title=""};n.d(t,"a",function(){return c});var c=function e(){Object(a.a)(this,e),this.hour="",this.minutes=""};t.b=function e(){Object(a.a)(this,e),this.address=new i.a,this.person=new o,this.tel=new r.Tel,this.callbackTimeSplitted=new c,this.callbackTime="",this.deliveryDate=new Date}},95:function(e,t,n){"use strict";var a=n(10),r=n(11),i=n(14),s=n(12),o=n(15),c=n(7),l=n(9),u=n.n(l),d=n(0),p=n(648),m=n(2),h=n(5),v=n(103),f=n(41),b=n(4),y=n(8),g=n(79),E=n(66),k=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).customer=void 0,n.hasDsl=void 0,n.activation=void 0,n.onNext=n.onNext.bind(Object(c.a)(Object(c.a)(n))),n.onBack=n.onBack.bind(Object(c.a)(Object(c.a)(n))),n.onInput=n.onInput.bind(Object(c.a)(Object(c.a)(n))),n.customer=n.props.customer,n.customer.legitimation=n.props.customer.legitimation?n.props.customer.legitimation:{type:h.l.german,id:"",authority:""},n.hasDsl=u.a.from(n.props.parent.data.activations).where(function(e){return e.brandKey===b.b.dsl}).count()>0,n.activation=n.props.parent.data.activations[0],n.activation.brandKey===b.b.vodafone&&null===n.customer.evn&&n.activation.activationType===h.c.partnerCard&&(n.customer.evn={billingType:h.d.online,evnType:h.i.shortEvn,targetNumberType:h.x.complete}),n.state={changed:!1},n}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){f.d.validateFormular(this.props.parent.dataWrapper,!1),window.scrollTo(0,0)}},{key:"render",value:function(){var e=this.props.parent.data.customer.mnp?this.props.parent.data.customer.mnp.provider:"",t=this.props.parent.dataWrapper.hasUnityOnly(),n=this.props.parent.dataWrapper.hasCdChange();return d.createElement(d.Fragment,null,d.createElement("div",{className:"gigakombiAlert"},v.a.combisWereAdded?d.createElement(p.a,{variant:"success"},"Hinweis:",d.createElement("br",null),"Da du mehrere Gigakombi f\xe4hige Produkte in den Warenkorb gelegt hast, haben wir die fehlenden GigaKombi-Marker automatisch hinzugef\xfcgt."):d.createElement(d.Fragment,null)),d.createElement(g.a,null,d.createElement(E.e,{parent:this,data:this.props.parent.data,customer:this.props.customer,onChange:this.onInput}),d.createElement(d.Fragment,null)),this.hasDsl?d.createElement(d.Fragment,null,d.createElement(g.a,null,d.createElement(E.f,{parent:this,customer:this.props.customer,onChange:this.onInput}))):d.createElement(d.Fragment,null),!this.props.parent.dataWrapper.inActMnp&&!n||this.props.parent.dataWrapper.hasUnityOnly()?null:d.createElement(g.a,null,d.createElement(E.i,{parent:this,customer:this.props.customer,onChange:this.onInput,preview:!1})),this.hasDsl?d.createElement(d.Fragment,null,d.createElement(g.a,null,d.createElement(E.d,{customer:this.props.customer,parent:this,showAddress:!("1"==e||"2"==e),showTel:!0,house:this.props.customer.house,onChange:this.onInput}))):d.createElement(d.Fragment,null),this.topUPageValidation()?d.createElement(g.a,null,d.createElement(E.k,{parent:this,topup:this.props.customer.topup,onChange:this.onInput})):d.createElement(d.Fragment,null),d.createElement(g.a,null,d.createElement(E.h,{parent:this,onChange:this.onInput,preview:!1,legitimation:this.customer.legitimation,payment:this.customer.payment})),d.createElement(g.a,null,d.createElement(E.j,{parent:this,onChange:this.onInput,payment:this.customer.payment})),!t&&this.props.parent.current&&this.props.parent.current.creditDebitType===h.f.postpaid?d.createElement(g.a,null,d.createElement(E.g,{parent:this,onChange:this.onInput,evn:this.customer.evn})):null,d.createElement(g.a,null,d.createElement(E.c,{parent:this,onChange:this.onInput,bew:this.customer.bew})),d.createElement(E.a,{parent:this}))}},{key:"onNext",value:function(){f.d.validateFormular(this.props.parent.dataWrapper,!0,"container-main")&&this.props.parent.onCreateProcess(m.ERequestType.create)}},{key:"onBack",value:function(){this.props.parent.gotoView(h.p.tariff)}},{key:"onInput",value:function(e){var t=this;y.a.onInput(this.customer,e,function(){e&&("payment.owner"==e.name&&(t.customer.payment.ownerChanged=!0),"type_1"===e.id?t.customer.legitimation.type=h.l.german:"type_1"===e.id&&(t.customer.legitimation.type=h.l.foreign),!t.customer.payment||t.customer.payment.ownerChanged||"firstname"!=e.name&&"surname"!=e.name||(t.customer.payment.owner=(t.customer.firstname||"")+" "+(t.customer.surname||"")),"delivery-callbackTime"===e.id&&("0:0"===e.value?t.customer.delivery.callbackTime="":t.customer.delivery.callbackTime=e.value)),t.props.parent.applyCustomer(t.customer),t.setState({changed:!0})})}},{key:"topUPageValidation",value:function(){var e=!0;if(this.activation.brandKey===b.b.otelo){var t=y.a.getAgeFromDate(this.customer.birthday);this.activation.creditDebitType==h.f.prepaid&&t<18&&(this.customer.topup=void 0,e=!1)}return e}}]),t}(d.Component);t.a=k},96:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a,r=n(10),i=n(11),s=n(14),o=n(12),c=n(15),l=n(9),u=n(2),d=n(31),p=n(4),m=n(8),h=n(1),v=n(13);!function(e){e[e[void 0]=0]="undefined",e[e.available=1]="available",e[e.notAvailable=2]="notAvailable",e[e.inProcess=3]="inProcess"}(a||(a={}));var f=function(e){function t(e,n){var i;return Object(r.a)(this,t),(i=Object(s.a)(this,Object(o.a)(t).call(this))).id="",i.status=a.notAvailable,i.id=e,i.status=n,i}return Object(c.a)(t,e),Object(i.a)(t,[{key:"setInfo",value:function(e){this.text=e.text,this.css=e.css,this.visible=e.visible,this.loading=e.loading}}]),t}(u.InfoItem),b=function(){function e(){var t=this;Object(r.a)(this,e),this.cat="",this.all=!1,this.avl=void 0,this.dc=void 0,this.bra=[],this.availableCats=[],this.availableBrands=[],this.catBrandMap=[],this.getSelected=function(){if(!t.cat){var e=l.from(t.availableCats).where(function(e){return e.status==a.available}).firstOrDefault();e&&(t.cat=e.id)}return l.from(t.availableCats).where(function(e){return e.id==t.cat}).firstOrDefault()},this.reset=function(){if(t.avl=v.a.getAvailability(),t.dc||(t.dc=v.a.getDefCon()),e.categories.children=[d.b.createInstance(p.c.vodafone,[new d.b(p.b.vodafone)]),d.b.createInstance(p.c.otelo,[new d.b(p.b.otelo)]),d.b.createInstance(p.c.fn,[d.b.createInstance(p.b.kabel,[],100),d.b.createInstance(p.b.unity,[],50),d.b.createInstance(p.b.dsl,[],0)]),d.b.createInstance(p.c.tv,[new d.b(p.b.kabel)])],t.availableCats=[],t.availableBrands=[],e.categories.children.map(function(n){var r=new f(n.id,a.undefined),i=l.from(t.dc.brands).firstOrDefault(function(e){return e.id==n.id});i&&i.available&&(r.status=a.available,t.availableBrands.push(n.id)),l.from(n.getChildrenIds()).any(function(t){return e.brandsFnTv.indexOf(t)>=0})&&n.children.map(function(e){r.status=a.undefined;var n=l.from(t.avl.brands).firstOrDefault(function(t){return t.key==e.id});n&&n.products&&n.products.length>0&&t.isBrandAvailableInDefCon(e.id)&&(r.status=a.available,t.availableBrands.push(e.id))}),r.status==a.available&&t.availableCats.push(r)}),!t.cat){var n=l.from(t.availableCats).firstOrDefault(function(e){return 1==e.status});t.cat=n?n.id:t.availableCats.length>0?t.availableCats[0].id:""}t.bra.map(function(e){e.products.map(function(n){var a=!1;if(n.catKey==p.c.otelo||n.catKey==p.c.vodafone)a=!0;else if(t.avl&&t.avl.brands){var r=l.from(t.avl.brands).where(function(t){return t.key==e.id}).firstOrDefault();r&&(a=u.Availability.getProducts(r).indexOf(n.id)>=0)}t.catBrandMap.push({brandKey:e.id,catKey:n.catKey,productId:n.id,available:a})})}),t.applyAvailability(),t.availableBrands=l.from(t.availableBrands).distinct().toArray(),console.log("reseted",t)},this.avl=v.a.getAvailability(),this.bra=v.a.getBrands(),this.dc=v.a.getDefCon(),this.reset()}return Object(i.a)(e,[{key:"switchCat",value:function(e){this.cat=e,this.reset()}},{key:"switchCatForProduct",value:function(e){var t=l.from(this.catBrandMap).where(function(t){return t.productId==e}).first();this.switchCat(t.catKey)}},{key:"getCrossSellingCats",value:function(){return l.from(this.availableCats).where(function(e){return e.id==p.c.fn||e.id==p.c.tv}).toArray()}},{key:"onlyOneBrandAvailable",value:function(){return 1==l.from(this.dc.brands).where(function(e){return e.available}).toArray().length}},{key:"canSwitchCat",value:function(e){return e.currentCat==p.c.fn&&this.allBrandsInCategoryAvailable(e.currentCat)}},{key:"getOtherBrandsAvailable",value:function(t){for(var n=this,a=l.from(e.categories.children).where(function(e){return e.id==n.cat}).first(),r=[],i=function(e){if(a.children[e].id==t)return"continue";var i=l.from(n.avl.brands).where(function(t){return t.key==a.children[e].id}).firstOrDefault();if(i&&i.products&&i.products.length>0){var s=l.from(n.catBrandMap).where(function(e){return e.catKey==n.cat&&e.brandKey==i.key}).select(function(e){return e.productId}).toArray(),o=l.from(i.products).select(function(e){return e.productId}).toArray();s.length>0&&m.a.containsAny(o,s)&&r.push(i)}},s=0;s<a.children.length;s++)i(s);return r}},{key:"resetCategory",value:function(){this.cat=p.c.vodafone}},{key:"allBrandsInCategoryAvailable",value:function(t){var n=this,a=l.from(e.categories.children).where(function(e){return e.id==t}).first(),r=!1;return a.children.map(function(e){n.availableBrands.indexOf(e.id)>=0&&(r=!0)}),r}},{key:"getCategoryBrandProducts",value:function(e){var t=this,n=this.getCategoryBrandKey(void 0),a=l.from(this.dc.brands).where(function(e){return e.id==n}).first();if(!a.categories||a.categories.indexOf(this.cat)<0)return[];var r=l.from(this.bra).where(function(e){return e.id==n}).first().products;return r=l.from(r).where(function(e){return e.catKey==t.cat}).toArray(),r=this.applyAvailabilityToProducts(n,r)}},{key:"applyAvailabilityToProducts",value:function(e,t){if(e==p.b.vodafone||e==p.b.otelo)return t;var n=this.avl.getBrandProductIds(e);return l.from(t).where(function(e){return n.indexOf(e.id)>=0}).toArray()}},{key:"getCategoryProductsAvailable",value:function(e,t){var n=this,a=!1;return e==p.c.vodafone||e==p.c.otelo?a=!0:t.map(function(t){if(t.products){var r=l.from(n.bra).where(function(e){return e.id==t.key}).first();l.from(t.products).join(r.products,function(e){return e.productId},function(e){return e.id},function(e,t){return{IP:e,BP:t}}).where(function(t){return t.BP.catKey==e}).select(function(e){return e.BP.id}).toArray().length>0&&(a=!0)}}),a}},{key:"applyAvailability",value:function(){for(var t=this,n=function(n){try{var r=new f(e.categories.children[n].id,a.notAvailable);console.log("avl",t.avl);var s={id:"",text:h.h.available,css:"main",visible:!0,loading:!1};i=l.from(t.avl.brands).where(function(t){return e.categories.children[n].getChildrenIds().indexOf(t.key)>=0}).toArray();var o=u.Availability.oneOfIsAvaialble(i),c=t.getCategoryProductsAvailable(r.id,i);r.id==p.c.otelo||r.id===p.c.vodafone?r.status==a.available&&(s.loading=!1,s.visible=!0,s.css="main",s.text=h.h.available):t.avl.executed!=u.ERequestStatus.running&&t.avl.executed!=u.ERequestStatus.tempResult||r.id!==p.c.fn&&r.id!==p.c.tv?t.avl.executed==u.ERequestStatus.done||t.avl.executed==u.ERequestStatus.tempResult||r.id!==p.c.fn&&r.id!==p.c.tv?!o||t.avl.executed!=u.ERequestStatus.done||r.id!==p.c.fn&&r.id!==p.c.tv?(s.css="bad theme-dark",s.text=h.h.notAvailable):(s.visible=!0,s.loading=!1,s.css="main",s.text=h.h.available,r.status=a.available):r.visible=!1:(s.loading=!0,s.visible=!0,s.css=c?"main":"high",s.text=c?h.h.available:h.h.inCheck,r.status=c?a.available:a.inProcess),c||r.status==a.inProcess||(r.status=a.notAvailable,s.css="bad theme-dark",s.text=h.h.notAvailable),r.setInfo(s)}catch(d){}},r=0;r<e.categories.children.length;r++){var i;n(r)}}},{key:"isCategoryAvailableInDefCon",value:function(e){return l.from(this.dc.brands).where(function(t){return t.categories&&t.categories.indexOf(e)>=0}).count()>0}},{key:"isBrandAvailableInDefCon",value:function(e){return l.from(this.dc.brands).where(function(t){return t.id==e&&t.available}).count()>0}},{key:"getCategory",value:function(e){return l.from(this.availableCats).where(function(t){return t.id==e}).firstOrDefault()}},{key:"getCategoryBrandKey",value:function(t){var n=this;if(l.from(this.availableCats).select(function(e){return e.id}).toArray().indexOf(this.cat)<0&&(this.cat=this.availableCats[0].id),this.cat==p.c.vodafone||this.cat==p.c.otelo)return l.from(e.categories.children).where(function(e){return e.id==n.cat}).first().children[0].id;if(t)return t.currentBrand;var a=l.from(e.categories.children).where(function(e){return e.id==n.cat}).first().children,r=l.from(this.catBrandMap).where(function(e){return e.catKey==n.cat&&e.available}).select(function(e){return e.brandKey}).distinct().toArray();return l.from(a).where(function(e){return n.availableBrands.indexOf(e.id)>=0&&r.indexOf(e.id)>=0}).orderByDescending(function(e){return e.prio}).first().id}},{key:"getCategoryBrand",value:function(e){var t=this.getCategoryBrandKey(e);return l.from(this.bra).first(function(e){return e.id==t})}},{key:"getBrandByProduct",value:function(e){return l.from(this.catBrandMap).first(function(t){return t.productId==e}).brandKey}},{key:"getCategoryBrandMapByProduct",value:function(e){return l.from(this.catBrandMap).where(function(t){return t.productId==e}).first()}},{key:"getFirstProductInCategory",value:function(){var e=this,t=l.from(this.catBrandMap).where(function(t){return t.catKey==e.cat}).toArray(),n=l.from(t).where(function(e){return!0===e.available}).select(function(e){return e.productId}).toArray(),a=l.from(this.bra).where(function(e){return e.id==t[0].brandKey}).first(),r=l.from(a.products).where(function(e){return n.indexOf(e.id)>=0}).toArray(),i=this.applyAvailabilityToProducts(t[0].brandKey,r);return i.length>0?i[0].id:n[0]}},{key:"getCategoryKeyByProduct",value:function(e){var t=l.from(this.catBrandMap).firstOrDefault(function(t){return t.productId==e});return t?t.catKey:""}},{key:"getCategoryByProduct",value:function(e){var t=this,n=l.from(this.catBrandMap).firstOrDefault(function(t){return t.productId==e});return n?l.from(this.availableCats).first(function(e){return e.id==n.catKey}):l.from(this.availableCats).first(function(e){return e.id==t.cat})}}]),e}();b.categories=new d.b("cat"),b.brandsFnTv=[p.b.kabel,p.b.dsl,p.b.unity],t.b=b},97:function(e,t,n){"use strict";var a=n(10),r=n(11),i=n(9),s=n.n(i),o=n(13),c=n(5),l=function(){function e(t,n){Object(a.a)(this,e),this.prod=void 0,this.brand=void 0,this.prod=n,this.brand=s.a.from(o.a.getBrands()).where(function(e){return e.id==t}).first()}return Object(r.a)(e,[{key:"getServices",value:function(e,t,n){var a=[],r=e?e.sub:"";if(e&&e.creditDebitType===c.f.prepaid)return this.prod.services;if(!this.prod)return[];var i=s.a.from(this.prod.subs).where(function(e){return e.id==r&&e.b==t}).firstOrDefault();return i&&(a=n?s.a.from(i.sl).select(function(e){return e.id}).toArray():s.a.from(i.sl).where(function(e){return!e.m}).select(function(e){return e.id}).toArray()),a}},{key:"getServicesAndMandatory",value:function(e,t){var n=[],a=s.a.from(this.prod.subs).where(function(n){return n.id==e&&n.b==t}).firstOrDefault();return a&&(n=s.a.from(a.sl).select(function(e){return e.id}).toArray()),n}},{key:"getAllServicesFromConfig",value:function(e,t){var n=s.a.from(this.prod.subs).where(function(n){return n.id==e&&n.b==t}).firstOrDefault();return s.a.from(n.sl).select(function(e){return e.id}).toArray()}}]),e}();t.a=l}},[[319,1,2]]]);
//# sourceMappingURL=main.8a9f9493.chunk.js.map